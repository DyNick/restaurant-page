function myMap(){myCenter=new google.maps.LatLng(41.878114,-87.629798);var t={center:myCenter,zoom:12,scrollwheel:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("googleMap"),t);new google.maps.Marker({position:myCenter}).setMap(e)}!function(t){console.log("rr");var e={startPos:function(t,e){return t*e},getPage:function(t,e,i){var s=[];t=t.slice(e,t.length);for(var n=0;n<i;n++)s.push(t[n]);return s},totalPages:function(t,e){return Math.ceil(t.length/e)},createBtns:function(e,i){var s=t('<div class="pagination" />');s.append('<span class="pagination-button">&laquo;</span>');for(var n=1;n<=e;n++){if(e>5&&i!==n)if(1===i||2===i){if(n>5)continue}else if(i===e||i===e-1){if(n<e-4)continue}else if(n<i-2||n>i+2)continue;var o=t('<span class="pagination-button page-num" />');n==i&&o.addClass("active"),o.text(n),s.append(o)}return s.append(t('<span class="pagination-button">&raquo;</span>')),s},createPage:function(e,i,s){t(".pagination").remove();var n=e.parent(),e=e.detach().toArray(),o=this.startPos(i-1,s),r=this.getPage(e,o,s);t.each(r,function(){void 0===this.window&&n.append(t(this))});var a=this.totalPages(e,s),h=this.createBtns(a,i);n.after(h)}};t.fn.paginate=function(i){var s=t(this);if((isNaN(i)||void 0===i)&&(i=5),s.length<=i)return!0;s.length!==s.parent()[0].children.length&&s.wrapAll('<div class="pagination-items" />'),e.createPage(s,1,i),t(document).on("click",".pagination-button",function(n){var o=parseInt(t(".pagination-button.active").text(),10),r=e.totalPages(s,i),a=t(n.target);o=parseInt(a.text(),10),"«"==a.text()&&(o=1),"»"==a.text()&&(o=r),o>0&&o<=r&&e.createPage(s,o,i)})}}(jQuery),$(".article-loop").paginate(2),$(document).ready(function(){$(".image").click(function(){var t=$(this).attr("src");$("body").append("<div class='popup'><div class='popup_bg'></div><img src='"+t+"' class='popup_img' /></div>"),$(".popup").fadeIn(800),$(".popup_bg").click(function(){$(".popup").fadeOut(800),setTimeout(function(){$(".popup").remove()},800)})})}),function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,s;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,s=this.$element.children(i).width(),e.length&&s<=0&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",o[t+1]||r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?s=e=this.minimum():this.op(e,"<",o[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(e=this._items.length,i=this._items[--e].width(),s=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>s););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==e?s=t(this.options.responsiveBaseElement).width():e.innerWidth?s=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var s=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,(t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this);n++<s;)this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i),n=[],o=0;t.each(s,function(e,i){n.push(t(i).height())}),o=Math.max.apply(null,n),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=e.find("img"),h="src",l="",c=this._core.settings,p=function(t){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+h+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};if(e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length)return p(a.attr(h)),a.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",p(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,p(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,p(o)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),"youtube"===n.type?i='<iframe width="'+o+'" height="'+r+'" src="//www.youtube.com/embed/'+n.id+"?autoplay=1&rel=0&v="+n.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===n.type?i='<iframe src="//player.vimeo.com/video/'+n.id+'?autoplay=1" width="'+o+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===n.type&&(i='<iframe frameborder="0"height="'+r+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+n.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(s,n){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["",""],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0,0;t<s;t++){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),s=this._core.$stage.children(),n=this._hashes[i]&&s.index(this._hashes[i]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+a.join(o+" ")+o).split(" "),function(t,e){if(r[e]!==s)return n=!i||e,!1}),n}function o(t){return n(t,!0)}var r=t("<support>").get(0).style,a="Webkit Moz O ms".split(" "),h={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};l.csstransitions()&&(t.support.transition=new String(o("transition")),t.support.transition.end=h.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(o("animation")),t.support.animation.end=h.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(o("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document),$(document).ready(function(){$(function(){$(".form-animate-fields .form-input").each(function(){var t=$(this);t.on("focus",function(){t.addClass("is-filled")}),t.on("blur",function(){0==t.val().length&&t.removeClass("is-filled")})})})}),$(".toggle").on("click",function(){$(".container").stop().addClass("active")}),$(".close").on("click",function(){$(".container").stop().removeClass("active")}),$(document).ready(function(){$(".owl-carousel").owlCarousel({items:1,navigation:!0,singleItem:!0,itemsScaleUp:!0,slideSpeed:500,autoPlay:!0,autoPlaySpeed:500,autoPlayTimeout:500}),$(".item").animate({backgroundSize:"130%"},3e4);$(".slideWrap .owl-dot").each(function(){var t=$(this).index()+1;t<10?$(this).html("0").append(t):$(this).html(t)});var t=document.querySelector(".wrapper"),e=document.querySelector(".glitchme"),i=Number(e.dataset.glitchCount);e.addEventListener("load",function(){for(var s=0;s<i;s++){var n=document.createElement("div");n.className+=" glitched glitch-"+s,n.style="background-image: url("+e.getAttribute("src")+"); width: "+e.width+"px; height:"+e.height+"px",t.appendChild(n)}}),setInterval(function(){for(var t=document.querySelectorAll(".glitched"),e=0;e<t.length;e++)t[e].classList.toggle("glitch-pause")},3e3)}),$(window).scroll(function(){var t=$(this).scrollTop();$(".about-description").css({transform:"translate(0%, "+-t/50+"%"}),$(".story-image").css({transform:"translate(0%, "+t/40+"%"}),$(".menu-description").css({transform:"translate(0%, "+-t/70+"%"}),$(".kitchen-img").css({transform:"translate(0%, "+-t/50+"%"}),$(".chief-img").css({transform:"translate(0%, "+-t/40+"%"})}),$(document).ready(function(){$("#preloader").delay(6e3).fadeOut("slow")}),$(document).ready(function(){$("#Date").datepicker();var t=new Date,e=t.getDate(),i=t.getMonth()+1,s=t.getFullYear();curD=i+"/"+e+"/"+s,$("#datepicker").val(curD)}),$(document).on("scroll",function(){$(document).scrollTop()>100?$("header").addClass("small"):$("header").removeClass("small")}),jQuery(function(t){var e=function(){var i=t(window).scrollTop()+t(window).height(),s=t(".animatable");0==s.length&&t(window).off("scroll",e),s.each(function(e){var s=t(this);s.offset().top+s.height()-20<i&&s.removeClass("animatable").addClass("animated")})};t(window).on("scroll",e),t(window).trigger("scroll")}),$(document).ready(function(t){t(".hamburger").on("click",function(e){e.preventDefault(),t(".popu-menu").addClass("is-visible")}),t(".close-menu").click(function(){t(".popu-menu").removeClass("is-visible")}),t(".link-menu").click(function(){t(".popu-menu").removeClass("is-visible")}),t(document).keyup(function(e){"27"==e.which&&t(".popu-menu").removeClass("is-visible")})}),$(document).ready(function(t){t(".button--menu").on("click",function(e){e.preventDefault(),t(".section-popup").addClass("is-visible")}),t(".close-popup-menu").click(function(){t(".section-popup").removeClass("is-visible")}),t(document).keyup(function(e){"27"==e.which&&t(".section-popup").removeClass("is-visible")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibXlNYXAiLCJteUNlbnRlciIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJtYXBPcHRpb25zIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwiZHJhZ2dhYmxlIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsIm1hcCIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldE1hcCIsIiQiLCJjb25zb2xlIiwibG9nIiwicGFnaW5hdGUiLCJzdGFydFBvcyIsInBhZ2VOdW1iZXIiLCJwZXJQYWdlIiwiZ2V0UGFnZSIsIml0ZW1zIiwicGFnZSIsInNsaWNlIiwibGVuZ3RoIiwiaSIsInB1c2giLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJjcmVhdGVCdG5zIiwiY3VycmVudFBhZ2UiLCJwYWdpbmF0aW9uIiwiYXBwZW5kIiwicGFnZUJ0biIsImFkZENsYXNzIiwidGV4dCIsImNyZWF0ZVBhZ2UiLCJyZW1vdmUiLCJjb250YWluZXIiLCJwYXJlbnQiLCJkZXRhY2giLCJ0b0FycmF5IiwidGhpcyIsImVhY2giLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJwYWdlQnV0dG9ucyIsImFmdGVyIiwiZm4iLCJpc05hTiIsImNoaWxkcmVuIiwid3JhcEFsbCIsIm9uIiwiZSIsIm5ld1BhZ2UiLCJwYXJzZUludCIsInRhcmdldCIsImpRdWVyeSIsInJlYWR5IiwiY2xpY2siLCJzcmMiLCJhdHRyIiwiZmFkZUluIiwiZmFkZU91dCIsInNldFRpbWVvdXQiLCJPd2wiLCJlbGVtZW50Iiwib3B0aW9ucyIsInNldHRpbmdzIiwiZXh0ZW5kIiwiRGVmYXVsdHMiLCIkZWxlbWVudCIsIl9oYW5kbGVycyIsIl9wbHVnaW5zIiwiX3N1cHJlc3MiLCJfY3VycmVudCIsIl9zcGVlZCIsIl9jb29yZGluYXRlcyIsIl9icmVha3BvaW50IiwiX3dpZHRoIiwiX2l0ZW1zIiwiX2Nsb25lcyIsIl9tZXJnZXJzIiwiX3dpZHRocyIsIl9pbnZhbGlkYXRlZCIsIl9waXBlIiwiX2RyYWciLCJ0aW1lIiwicG9pbnRlciIsInN0YWdlIiwic3RhcnQiLCJjdXJyZW50IiwiZGlyZWN0aW9uIiwiX3N0YXRlcyIsInRhZ3MiLCJpbml0aWFsaXppbmciLCJhbmltYXRpbmciLCJkcmFnZ2luZyIsInByb3h5IiwiaGFuZGxlciIsIlBsdWdpbnMiLCJrZXkiLCJwbHVnaW4iLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSIsIldvcmtlcnMiLCJwcmlvcml0eSIsIndvcmtlciIsImZpbHRlciIsInJ1biIsInNldHVwIiwiaW5pdGlhbGl6ZSIsImxvb3AiLCJyZXdpbmQiLCJtb3VzZURyYWciLCJ0b3VjaERyYWciLCJwdWxsRHJhZyIsImZyZWVEcmFnIiwibWFyZ2luIiwic3RhZ2VQYWRkaW5nIiwibWVyZ2UiLCJtZXJnZUZpdCIsImF1dG9XaWR0aCIsInN0YXJ0UG9zaXRpb24iLCJydGwiLCJzbWFydFNwZWVkIiwiZmx1aWRTcGVlZCIsImRyYWdFbmRTcGVlZCIsInJlc3BvbnNpdmUiLCJyZXNwb25zaXZlUmVmcmVzaFJhdGUiLCJyZXNwb25zaXZlQmFzZUVsZW1lbnQiLCJmYWxsYmFja0Vhc2luZyIsImluZm8iLCJuZXN0ZWRJdGVtU2VsZWN0b3IiLCJpdGVtRWxlbWVudCIsInN0YWdlRWxlbWVudCIsInJlZnJlc2hDbGFzcyIsImxvYWRlZENsYXNzIiwibG9hZGluZ0NsYXNzIiwicnRsQ2xhc3MiLCJyZXNwb25zaXZlQ2xhc3MiLCJkcmFnQ2xhc3MiLCJpdGVtQ2xhc3MiLCJzdGFnZUNsYXNzIiwic3RhZ2VPdXRlckNsYXNzIiwiZ3JhYkNsYXNzIiwiV2lkdGgiLCJEZWZhdWx0IiwiSW5uZXIiLCJPdXRlciIsIlR5cGUiLCJFdmVudCIsIlN0YXRlIiwid2lkdGgiLCJjYWNoZSIsInJlbGF0aXZlIiwiJHN0YWdlIiwiZ3JpZCIsImNzcyIsIm1hcmdpbi1sZWZ0IiwibWFyZ2luLXJpZ2h0IiwidG9GaXhlZCIsIml0ZXJhdG9yIiwid2lkdGhzIiwibWluIiwiY2xvbmVzIiwidmlldyIsIm1heCIsInNpemUiLCJyZXBlYXQiLCJwcmVwZW5kIiwibm9ybWFsaXplIiwib3V0ZXJIVE1MIiwiYXBwZW5kVG8iLCJwcmVwZW5kVG8iLCJwcmV2aW91cyIsImNvb3JkaW5hdGVzIiwicGFkZGluZyIsImFicyIsInBhZGRpbmctbGVmdCIsInBhZGRpbmctcmlnaHQiLCJlcSIsInJlbW92ZUF0dHIiLCJpbmRleCIsIm1pbmltdW0iLCJtYXhpbXVtIiwicmVzZXQiLCJhbmltYXRlIiwiaW5uZXIiLCJvdXRlciIsIm4iLCJiZWdpbiIsImVuZCIsIm1hdGNoZXMiLCJvcCIsInJlbW92ZUNsYXNzIiwiam9pbiIsInByb3RvdHlwZSIsImVudGVyIiwidHJpZ2dlciIsInRvZ2dsZUNsYXNzIiwiaXMiLCJpbWdzIiwibmVzdGVkU2VsZWN0b3IiLCJmaW5kIiwicHJlbG9hZEF1dG9XaWR0aEltYWdlcyIsIndyYXAiLCJyZXBsYWNlIiwibm90IiwicmVmcmVzaCIsImludmFsaWRhdGUiLCJyZWdpc3RlckV2ZW50SGFuZGxlcnMiLCJsZWF2ZSIsInZpZXdwb3J0Iiwib3ZlcndyaXRlcyIsIm1hdGNoIiwiYnJlYWtwb2ludCIsIk51bWJlciIsIlJlZ0V4cCIsInByb3BlcnR5IiwibmFtZSIsInZhbHVlIiwib3B0aW9uc0xvZ2ljIiwicHJlcGFyZSIsIml0ZW0iLCJldmVudCIsImNvbnRlbnQiLCJkYXRhIiwidXBkYXRlIiwicCIsImFsbCIsImdyZXAiLCJkaW1lbnNpb24iLCJvblRocm90dGxlZFJlc2l6ZSIsImNsZWFyVGltZW91dCIsInJlc2l6ZVRpbWVyIiwib25SZXNpemUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsIm9uVHJhbnNpdGlvbkVuZCIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnRW5kIiwid2hpY2giLCJ0cmFuc2Zvcm0iLCJ4Iiwic3BsaXQiLCJ5IiwibGVmdCIsInRvcCIsInN0b3AiLCJ0eXBlIiwic3BlZWQiLCJEYXRlIiwiZ2V0VGltZSIsIm9uZSIsImRlbHRhIiwiZGlmZmVyZW5jZSIsIm9uRHJhZ01vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInB1bGwiLCJvZmYiLCJjbG9zZXN0IiwiY29vcmRpbmF0ZSIsInRyYW5zZm9ybTNkIiwic3RhdGUiLCJwYXJ0IiwidiIsInN1cHByZXNzIiwicmVsZWFzZSIsIm0iLCJpc051bWVyaWMiLCJyZWNpcHJvY2FsSXRlbXNXaWR0aCIsImVsZW1lbnRXaWR0aCIsIm1lcmdlcnMiLCJvZGQiLCJldmVuIiwibXVsdGlwbGllciIsIm5ld1Bvc2l0aW9uIiwiZHVyYXRpb24iLCJmcm9tIiwidG8iLCJmYWN0b3IiLCJyZXZlcnQiLCJkaXN0YW5jZSIsIm5leHQiLCJwcmV2Iiwic3RvcFByb3BhZ2F0aW9uIiwic3JjRWxlbWVudCIsIm9yaWdpbmFsVGFyZ2V0IiwiZ2V0IiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwid2FybiIsImVtcHR5Iiwibm9kZVR5cGUiLCJhZGRCYWNrIiwiYWRkIiwiYmVmb3JlIiwic3BsaWNlIiwiaW1hZ2VzIiwiSW1hZ2UiLCJkZXN0cm95IiwidW53cmFwIiwiY29udGVudHMiLCJyZW1vdmVEYXRhIiwiYSIsIm8iLCJiIiwibGlzdGVuZXIiLCJjYXB0dXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwibmFtZXNwYWNlIiwic3RhdHVzIiwiY291bnQiLCJjYW1lbENhc2UiLCJyZWxhdGVkVGFyZ2V0Iiwib25UcmlnZ2VyIiwicmVnaXN0ZXIiLCJjYWxsIiwiY29uY2F0Iiwib2JqZWN0Iiwic3BlY2lhbCIsIm93bCIsIl9kZWZhdWx0IiwiYXBwbHkiLCJpbmRleE9mIiwiYXJndW1lbnRzIiwidGFnIiwiaW5BcnJheSIsImV2ZW50cyIsInJlc3VsdCIsIm9yaWdpbmFsRXZlbnQiLCJ0b3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwiY2xpZW50WCIsImNsaWVudFkiLCJudW1iZXIiLCJwYXJzZUZsb2F0IiwiZmlyc3QiLCJzZWNvbmQiLCJvd2xDYXJvdXNlbCIsIm9wdGlvbiIsImFyZ3MiLCJBcnJheSIsIiR0aGlzIiwiQ29uc3RydWN0b3IiLCJaZXB0byIsIkF1dG9SZWZyZXNoIiwiY2Fyb3VzZWwiLCJfY29yZSIsIl9pbnRlcnZhbCIsIl92aXNpYmxlIiwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIiwiYXV0b1JlZnJlc2giLCJ3YXRjaCIsImF1dG9SZWZyZXNoSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiTGF6eSIsIl9sb2FkZWQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgY2hhbmdlLm93bC5jYXJvdXNlbCByZXNpemVkLm93bC5jYXJvdXNlbCIsImxhenlMb2FkIiwibG9hZCIsIiRpdGVtIiwiJGVsZW1lbnRzIiwiaW1hZ2UiLCJ1cmwiLCJkZXZpY2VQaXhlbFJhdGlvIiwib25sb2FkIiwiYmFja2dyb3VuZC1pbWFnZSIsIm9wYWNpdHkiLCJoYW5kbGVycyIsIkF1dG9IZWlnaHQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgcmVmcmVzaGVkLm93bC5jYXJvdXNlbCIsImF1dG9IZWlnaHQiLCJjaGFuZ2VkLm93bC5jYXJvdXNlbCIsImxvYWRlZC5vd2wubGF6eSIsImF1dG9IZWlnaHRDbGFzcyIsInZpc2libGUiLCJoZWlnaHRzIiwibWF4aGVpZ2h0IiwiaGVpZ2h0IiwiVmlkZW8iLCJfdmlkZW9zIiwiX3BsYXlpbmciLCJyZXNpemUub3dsLmNhcm91c2VsIiwidmlkZW8iLCJpc0luRnVsbFNjcmVlbiIsInJlZnJlc2hlZC5vd2wuY2Fyb3VzZWwiLCJwcmVwYXJlZC5vd2wuY2Fyb3VzZWwiLCJmZXRjaCIsInBsYXkiLCJ2aWRlb0hlaWdodCIsInZpZGVvV2lkdGgiLCJpZCIsIkVycm9yIiwidGh1bWJuYWlsIiwidG5MaW5rIiwiaWNvbiIsInBhdGgiLCJkaW1lbnNpb25zIiwiY3VzdG9tVG4iLCJzcmNUeXBlIiwibGF6eUNsYXNzIiwiY3JlYXRlIiwiYWpheCIsImpzb25wIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwidGh1bWJuYWlsX2xhcmdlIiwiZnJhbWVncmFiX3VybCIsImh0bWwiLCJpbnNlcnRBZnRlciIsImZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbFNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsImhhc0NsYXNzIiwiQW5pbWF0ZSIsInNjb3BlIiwiY29yZSIsInN3YXBwaW5nIiwiY2hhbmdlLm93bC5jYXJvdXNlbCIsImRyYWcub3dsLmNhcm91c2VsIGRyYWdnZWQub3dsLmNhcm91c2VsIHRyYW5zbGF0ZWQub3dsLmNhcm91c2VsIiwidHJhbnNsYXRlLm93bC5jYXJvdXNlbCIsImFuaW1hdGVPdXQiLCJhbmltYXRlSW4iLCJzd2FwIiwiYW5pbWF0aW9uIiwiY2xlYXIiLCJpbmNvbWluZyIsIm91dGdvaW5nIiwiQXV0b3BsYXkiLCJfdGltZW91dCIsIl9wYXVzZWQiLCJhdXRvcGxheSIsIl9zZXRBdXRvUGxheUludGVydmFsIiwicGxheS5vd2wuYXV0b3BsYXkiLCJ0IiwicyIsInN0b3Aub3dsLmF1dG9wbGF5IiwibW91c2VvdmVyLm93bC5hdXRvcGxheSIsImF1dG9wbGF5SG92ZXJQYXVzZSIsInBhdXNlIiwibW91c2VsZWF2ZS5vd2wuYXV0b3BsYXkiLCJ0b3VjaHN0YXJ0Lm93bC5jb3JlIiwidG91Y2hlbmQub3dsLmNvcmUiLCJhdXRvcGxheVRpbWVvdXQiLCJhdXRvcGxheVNwZWVkIiwidGltZW91dCIsIl9nZXROZXh0VGltZW91dCIsImhpZGRlbiIsIk5hdmlnYXRpb24iLCJfaW5pdGlhbGl6ZWQiLCJfcGFnZXMiLCJfY29udHJvbHMiLCJfdGVtcGxhdGVzIiwiX292ZXJyaWRlcyIsImRvdHNEYXRhIiwiZG90Q2xhc3MiLCJhZGRlZC5vd2wuY2Fyb3VzZWwiLCJwb3AiLCJyZW1vdmUub3dsLmNhcm91c2VsIiwiZHJhdyIsIm5hdiIsIm5hdlRleHQiLCJuYXZTcGVlZCIsIm5hdkVsZW1lbnQiLCJuYXZDb250YWluZXIiLCJuYXZDb250YWluZXJDbGFzcyIsIm5hdkNsYXNzIiwic2xpZGVCeSIsImRvdHNDbGFzcyIsImRvdHMiLCJkb3RzRWFjaCIsImRvdHNTcGVlZCIsImRvdHNDb250YWluZXIiLCJvdmVycmlkZSIsIiRyZWxhdGl2ZSIsIiRwcmV2aW91cyIsIiRuZXh0IiwicHJvcCIsIiRhYnNvbHV0ZSIsImNvbnRyb2wiLCJvdmVyaWRlcyIsImoiLCJsb3dlciIsInVwcGVyIiwiZGlzYWJsZWQiLCJnZXRQb3NpdGlvbiIsInN1Y2Nlc3NvciIsInN0YW5kYXJkIiwiSGFzaCIsIl9oYXNoZXMiLCJoYXNoIiwibG9jYXRpb24iLCJzdWJzdHJpbmciLCJVUkxoYXNoTGlzdGVuZXIiLCJ0ZXN0IiwicHJlZml4ZWQiLCJ0b1VwcGVyQ2FzZSIsInByZWZpeGVzIiwic3R5bGUiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiV2Via2l0QW5pbWF0aW9uIiwiTW96QW5pbWF0aW9uIiwiT0FuaW1hdGlvbiIsInRlc3RzIiwiY3NzdHJhbnNmb3JtcyIsImNzc3RyYW5zZm9ybXMzZCIsImNzc3RyYW5zaXRpb25zIiwiY3NzYW5pbWF0aW9ucyIsIlN0cmluZyIsInZhbCIsIm5hdmlnYXRpb24iLCJzaW5nbGVJdGVtIiwiaXRlbXNTY2FsZVVwIiwic2xpZGVTcGVlZCIsImF1dG9QbGF5IiwiYXV0b1BsYXlTcGVlZCIsImF1dG9QbGF5VGltZW91dCIsImJhY2tncm91bmRTaXplIiwid3JhcHBlciIsInF1ZXJ5U2VsZWN0b3IiLCJpbWciLCJkYXRhc2V0IiwiZ2xpdGNoQ291bnQiLCJnbGl0Y2giLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiZ2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJnbGl0Y2hlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzY3JvbGwiLCJzdCIsInNjcm9sbFRvcCIsImRlbGF5IiwiZGF0ZXBpY2tlciIsIkRhdCIsImQiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImN1ckQiLCJkb0FuaW1hdGlvbnMiLCJvZmZzZXQiLCIkYW5pbWF0YWJsZXMiLCIkYW5pbWF0YWJsZSIsImtleXVwIl0sIm1hcHBpbmdzIjoiQUFpN0dBLFNBQVNBLFFBRUxDLFNBQVMsSUFBSUMsT0FBT0MsS0FBS0MsT0FBTyxXQUFZLFdBQzVDLElBQUlDLEdBQ0FDLE9BQU9MLFNBQ1BNLEtBQUssR0FBSUMsYUFBYSxFQUFPQyxXQUFXLEVBQ3hDQyxVQUFVUixPQUFPQyxLQUFLUSxVQUFVQyxTQUVoQ0MsRUFBSSxJQUFJWCxPQUFPQyxLQUFLVyxJQUFJQyxTQUFTQyxlQUFlLGFBQWFYLEdBRXBELElBQUlILE9BQU9DLEtBQUtjLFFBQ3pCQyxTQUFVakIsV0FFUGtCLE9BQU9OLElBeDdHbEIsU0FBVU8sR0FDVkMsUUFBUUMsSUFBSSxNQUNSLElBQUlDLEdBQ0FDLFNBQVUsU0FBU0MsRUFBWUMsR0FHM0IsT0FBT0QsRUFBYUMsR0FHeEJDLFFBQVMsU0FBU0MsRUFBT0osRUFBVUUsR0FFL0IsSUFBSUcsS0FHSkQsRUFBUUEsRUFBTUUsTUFBTU4sRUFBVUksRUFBTUcsUUFHcEMsSUFBSyxJQUFJQyxFQUFFLEVBQUdBLEVBQUlOLEVBQVNNLElBQ3ZCSCxFQUFLSSxLQUFLTCxFQUFNSSxJQUVwQixPQUFPSCxHQUdYSyxXQUFZLFNBQVNOLEVBQU9GLEdBRXhCLE9BQU9TLEtBQUtDLEtBQUtSLEVBQU1HLE9BQVNMLElBR3BDVyxXQUFZLFNBQVNILEVBQVlJLEdBRTdCLElBQUlDLEVBQWFuQixFQUFFLDhCQUduQm1CLEVBQVdDLE9BQU8sa0RBR2xCLElBQUssSUFBSVIsRUFBRSxFQUFHQSxHQUFLRSxFQUFZRixJQUFLLENBRWhDLEdBQUlFLEVBQWEsR0FBS0ksSUFBZ0JOLEVBRWxDLEdBQW9CLElBQWhCTSxHQUFxQyxJQUFoQkEsR0FFckIsR0FBSU4sRUFBSSxFQUFHLGNBRVIsR0FBSU0sSUFBZ0JKLEdBQWNJLElBQWdCSixFQUFhLEdBRWxFLEdBQUlGLEVBQUlFLEVBQWEsRUFBRyxjQUd4QixHQUFJRixFQUFJTSxFQUFjLEdBQUtOLEVBQUlNLEVBQWMsRUFDekMsU0FLWixJQUFJRyxFQUFVckIsRUFBRSwrQ0FHWlksR0FBS00sR0FDTEcsRUFBUUMsU0FBUyxVQUdyQkQsRUFBUUUsS0FBS1gsR0FHYk8sRUFBV0MsT0FBT0MsR0FNdEIsT0FGQUYsRUFBV0MsT0FBT3BCLEVBQUUsbURBRWJtQixHQUdYSyxXQUFZLFNBQVNoQixFQUFPVSxFQUFhWixHQUVyQ04sRUFBRSxlQUFleUIsU0FHakIsSUFBSUMsRUFBWWxCLEVBQU1tQixTQUVsQm5CLEVBQVFBLEVBQU1vQixTQUFTQyxVQUV2QnpCLEVBQVcwQixLQUFLMUIsU0FBU2MsRUFBYyxFQUFHWixHQUMxQ0csRUFBT3FCLEtBQUt2QixRQUFRQyxFQUFPSixFQUFVRSxHQUd6Q04sRUFBRStCLEtBQUt0QixFQUFNLGdCQUVXdUIsSUFBaEJGLEtBQUtHLFFBQ0xQLEVBQVVOLE9BQU9wQixFQUFFOEIsU0FJM0IsSUFBSWhCLEVBQWFnQixLQUFLaEIsV0FBV04sRUFBT0YsR0FDcEM0QixFQUFjSixLQUFLYixXQUFXSCxFQUFZSSxHQUU5Q1EsRUFBVVMsTUFBTUQsS0FLeEJsQyxFQUFFb0MsR0FBR2pDLFNBQVcsU0FBU0csR0FDckIsSUFBSUUsRUFBUVIsRUFBRThCLE1BT2QsSUFKSU8sTUFBTS9CLFNBQXdCMEIsSUFBWjFCLEtBQ2xCQSxFQUFVLEdBR1ZFLEVBQU1HLFFBQVVMLEVBQ2hCLE9BQU8sRUFHUEUsRUFBTUcsU0FBV0gsRUFBTW1CLFNBQVMsR0FBR1csU0FBUzNCLFFBQzVDSCxFQUFNK0IsUUFBUSxvQ0FJbEJwQyxFQUFTcUIsV0FBV2hCLEVBQU8sRUFBR0YsR0FHOUJOLEVBQUVMLFVBQVU2QyxHQUFHLFFBQVMscUJBQXNCLFNBQVNDLEdBRW5ELElBQ0lDLEVBRGNDLFNBQVMzQyxFQUFFLDZCQUE2QnVCLE9BQVEsSUFFOURULEVBQWFYLEVBQVNXLFdBQVdOLEVBQU9GLEdBQ3hDc0MsRUFBUzVDLEVBQUV5QyxFQUFFRyxRQUdqQkYsRUFBVUMsU0FBU0MsRUFBT3JCLE9BQVEsSUFDYixLQUFqQnFCLEVBQU9yQixTQUFlbUIsRUFBVSxHQUNmLEtBQWpCRSxFQUFPckIsU0FBZW1CLEVBQVU1QixHQUdoQzRCLEVBQVUsR0FBS0EsR0FBVzVCLEdBQzFCWCxFQUFTcUIsV0FBV2hCLEVBQU9rQyxFQUFTcEMsTUF4SXBELENBNElHdUMsUUFDSDdDLEVBQUUsaUJBQWlCRyxTQUFTLEdBRTVCSCxFQUFFTCxVQUFVbUQsTUFBTSxXQUVkOUMsRUFBRSxVQUFVK0MsTUFBTSxXQUNkLElBQ0lDLEVBRE1oRCxFQUFFOEIsTUFDRW1CLEtBQUssT0FDbkJqRCxFQUFFLFFBQVFvQixPQUFPLDREQUVBNEIsRUFBSSxnQ0FFckJoRCxFQUFFLFVBQVVrRCxPQUFPLEtBQ25CbEQsRUFBRSxhQUFhK0MsTUFBTSxXQUNqQi9DLEVBQUUsVUFBVW1ELFFBQVEsS0FDcEJDLFdBQVcsV0FDUHBELEVBQUUsVUFBVXlCLFVBQ2IsV0FzQmQsU0FBVXpCLEVBQUdpQyxFQUFRdEMsRUFBVXFDLEdBUzVCLFNBQVNxQixFQUFJQyxFQUFTQyxHQU1sQnpCLEtBQUswQixTQUFXLEtBTWhCMUIsS0FBS3lCLFFBQVV2RCxFQUFFeUQsVUFBV0osRUFBSUssU0FBVUgsR0FNMUN6QixLQUFLNkIsU0FBVzNELEVBQUVzRCxHQU1sQnhCLEtBQUs4QixhQU1MOUIsS0FBSytCLFlBTUwvQixLQUFLZ0MsWUFNTGhDLEtBQUtpQyxTQUFXLEtBTWhCakMsS0FBS2tDLE9BQVMsS0FPZGxDLEtBQUttQyxnQkFPTG5DLEtBQUtvQyxZQUFjLEtBS25CcEMsS0FBS3FDLE9BQVMsS0FNZHJDLEtBQUtzQyxVQU1MdEMsS0FBS3VDLFdBT0x2QyxLQUFLd0MsWUFLTHhDLEtBQUt5QyxXQU1MekMsS0FBSzBDLGdCQU1MMUMsS0FBSzJDLFNBT0wzQyxLQUFLNEMsT0FDREMsS0FBTSxLQUNOL0IsT0FBUSxLQUNSZ0MsUUFBUyxLQUNUQyxPQUNJQyxNQUFPLEtBQ1BDLFFBQVMsTUFFYkMsVUFBVyxNQVFmbEQsS0FBS21ELFNBQ0RGLFdBQ0FHLE1BQ0lDLGNBQWtCLFFBQ2xCQyxXQUFlLFFBQ2ZDLFVBQWMsaUJBSXRCckYsRUFBRStCLE1BQU8sV0FBWSxxQkFBdUIvQixFQUFFc0YsTUFBTSxTQUFTMUUsRUFBRzJFLEdBQzVEekQsS0FBSzhCLFVBQVUyQixHQUFXdkYsRUFBRXNGLE1BQU14RCxLQUFLeUQsR0FBVXpELE9BQ2xEQSxPQUVIOUIsRUFBRStCLEtBQUtzQixFQUFJbUMsUUFBU3hGLEVBQUVzRixNQUFNLFNBQVNHLEVBQUtDLEdBQ3RDNUQsS0FBSytCLFNBQVM0QixFQUFJRSxPQUFPLEdBQUdDLGNBQWdCSCxFQUFJL0UsTUFBTSxJQUNoRCxJQUFJZ0YsRUFBTzVELE9BQ2xCQSxPQUVIOUIsRUFBRStCLEtBQUtzQixFQUFJd0MsUUFBUzdGLEVBQUVzRixNQUFNLFNBQVNRLEVBQVVDLEdBQzNDakUsS0FBSzJDLE1BQU01RCxNQUNQbUYsT0FBVUQsRUFBT0MsT0FDakJDLElBQU9qRyxFQUFFc0YsTUFBTVMsRUFBT0UsSUFBS25FLFNBRWhDQSxPQUVIQSxLQUFLb0UsUUFDTHBFLEtBQUtxRSxhQU9UOUMsRUFBSUssVUFDQWxELE1BQU8sRUFDUDRGLE1BQU0sRUFDTmxILFFBQVEsRUFDUm1ILFFBQVEsRUFFUkMsV0FBVyxFQUNYQyxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsVUFBVSxFQUVWQyxPQUFRLEVBQ1JDLGFBQWMsRUFFZEMsT0FBTyxFQUNQQyxVQUFVLEVBQ1ZDLFdBQVcsRUFFWEMsY0FBZSxFQUNmQyxLQUFLLEVBRUxDLFdBQVksSUFDWkMsWUFBWSxFQUNaQyxjQUFjLEVBRWRDLGNBQ0FDLHNCQUF1QixJQUN2QkMsc0JBQXVCckYsRUFFdkJzRixlQUFnQixRQUVoQkMsTUFBTSxFQUVOQyxvQkFBb0IsRUFDcEJDLFlBQWEsTUFDYkMsYUFBYyxNQUVkQyxhQUFjLGNBQ2RDLFlBQWEsYUFDYkMsYUFBYyxjQUNkQyxTQUFVLFVBQ1ZDLGdCQUFpQixpQkFDakJDLFVBQVcsV0FDWEMsVUFBVyxXQUNYQyxXQUFZLFlBQ1pDLGdCQUFpQixrQkFDakJDLFVBQVcsWUFTZmhGLEVBQUlpRixPQUNBQyxRQUFTLFVBQ1RDLE1BQU8sUUFDUEMsTUFBTyxTQVNYcEYsRUFBSXFGLE1BQ0FDLE1BQU8sUUFDUEMsTUFBTyxTQU9YdkYsRUFBSW1DLFdBS0puQyxFQUFJd0MsVUFDQUcsUUFBVSxRQUFTLFlBQ25CQyxJQUFLLFdBQ0RuRSxLQUFLcUMsT0FBU3JDLEtBQUs2QixTQUFTa0YsV0FHaEM3QyxRQUFVLFFBQVMsUUFBUyxZQUM1QkMsSUFBSyxTQUFTNkMsR0FDVkEsRUFBTS9ELFFBQVVqRCxLQUFLc0MsUUFBVXRDLEtBQUtzQyxPQUFPdEMsS0FBS2lILFNBQVNqSCxLQUFLaUMsY0FHbEVpQyxRQUFVLFFBQVMsWUFDbkJDLElBQUssV0FDRG5FLEtBQUtrSCxPQUFPMUcsU0FBUyxXQUFXYixZQUdwQ3VFLFFBQVUsUUFBUyxRQUFTLFlBQzVCQyxJQUFLLFNBQVM2QyxHQUNWLElBQUlwQyxFQUFTNUUsS0FBSzBCLFNBQVNrRCxRQUFVLEdBQ2pDdUMsR0FBUW5ILEtBQUswQixTQUFTc0QsVUFDdEJFLEVBQU1sRixLQUFLMEIsU0FBU3dELElBQ3BCa0MsR0FDSUwsTUFBUyxPQUNUTSxjQUFlbkMsRUFBTU4sRUFBUyxHQUM5QjBDLGVBQWdCcEMsRUFBTSxHQUFLTixJQUdsQ3VDLEdBQVFuSCxLQUFLa0gsT0FBTzFHLFdBQVc0RyxJQUFJQSxHQUVwQ0osRUFBTUksSUFBTUEsS0FHaEJsRCxRQUFVLFFBQVMsUUFBUyxZQUM1QkMsSUFBSyxTQUFTNkMsR0FDVixJQUFJRCxHQUFTL0csS0FBSytHLFFBQVUvRyxLQUFLMEIsU0FBU2hELE9BQU82SSxRQUFRLEdBQUt2SCxLQUFLMEIsU0FBU2tELE9BQ3hFRSxFQUFRLEtBQ1IwQyxFQUFXeEgsS0FBS3NDLE9BQU96RCxPQUN2QnNJLEdBQVFuSCxLQUFLMEIsU0FBU3NELFVBQ3RCeUMsS0FPSixJQUxBVCxFQUFNdEksT0FDRm9HLE9BQU8sRUFDUGlDLE1BQU9BLEdBR0pTLEtBQ0gxQyxFQUFROUUsS0FBS3dDLFNBQVNnRixHQUN0QjFDLEVBQVE5RSxLQUFLMEIsU0FBU3FELFVBQVk5RixLQUFLeUksSUFBSTVDLEVBQU85RSxLQUFLMEIsU0FBU2hELFFBQVVvRyxFQUUxRWtDLEVBQU10SSxNQUFNb0csTUFBUUEsRUFBUSxHQUFLa0MsRUFBTXRJLE1BQU1vRyxNQUU3QzJDLEVBQU9ELEdBQWFMLEVBQXVDSixFQUFRakMsRUFBeEM5RSxLQUFLc0MsT0FBT2tGLEdBQVVULFFBR3JEL0csS0FBS3lDLFFBQVVnRixLQUduQnZELFFBQVUsUUFBUyxZQUNuQkMsSUFBSyxXQUNELElBQUl3RCxLQUNBakosRUFBUXNCLEtBQUtzQyxPQUNiWixFQUFXMUIsS0FBSzBCLFNBRWhCa0csRUFBTzNJLEtBQUs0SSxJQUFxQixFQUFqQm5HLEVBQVNoRCxNQUFXLEdBQ3BDb0osRUFBcUMsRUFBOUI3SSxLQUFLQyxLQUFLUixFQUFNRyxPQUFTLEdBQ2hDa0osRUFBU3JHLEVBQVM0QyxNQUFRNUYsRUFBTUcsT0FBUzZDLEVBQVM2QyxPQUFTcUQsRUFBTzNJLEtBQUs0SSxJQUFJRCxFQUFNRSxHQUFRLEVBQ3pGeEksRUFBUyxHQUNUMEksRUFBVSxHQUlkLElBRkFELEdBQVUsRUFFSEEsS0FFSEosRUFBTzVJLEtBQUtpQixLQUFLaUksVUFBVU4sRUFBTzlJLE9BQVMsR0FBRyxJQUM5Q1MsR0FBa0JaLEVBQU1pSixFQUFPQSxFQUFPOUksT0FBUyxJQUFJLEdBQUdxSixVQUN0RFAsRUFBTzVJLEtBQUtpQixLQUFLaUksVUFBVXZKLEVBQU1HLE9BQVMsR0FBSzhJLEVBQU85SSxPQUFTLEdBQUssR0FBRyxJQUN2RW1KLEVBQVV0SixFQUFNaUosRUFBT0EsRUFBTzlJLE9BQVMsSUFBSSxHQUFHcUosVUFBWUYsRUFHOURoSSxLQUFLdUMsUUFBVW9GLEVBRWZ6SixFQUFFb0IsR0FBUUUsU0FBUyxVQUFVMkksU0FBU25JLEtBQUtrSCxRQUMzQ2hKLEVBQUU4SixHQUFTeEksU0FBUyxVQUFVNEksVUFBVXBJLEtBQUtrSCxXQUdqRGhELFFBQVUsUUFBUyxRQUFTLFlBQzVCQyxJQUFLLFdBUUQsSUFQQSxJQUFJZSxFQUFNbEYsS0FBSzBCLFNBQVN3RCxJQUFNLEdBQUssRUFDL0I0QyxFQUFPOUgsS0FBS3VDLFFBQVExRCxPQUFTbUIsS0FBS3NDLE9BQU96RCxPQUN6QzJJLEdBQVksRUFDWmEsRUFBVyxFQUNYcEYsRUFBVSxFQUNWcUYsT0FFS2QsRUFBV00sR0FDaEJPLEVBQVdDLEVBQVlkLEVBQVcsSUFBTSxFQUN4Q3ZFLEVBQVVqRCxLQUFLeUMsUUFBUXpDLEtBQUtpSCxTQUFTTyxJQUFheEgsS0FBSzBCLFNBQVNrRCxPQUNoRTBELEVBQVl2SixLQUFLc0osRUFBV3BGLEVBQVVpQyxHQUcxQ2xGLEtBQUttQyxhQUFlbUcsS0FHeEJwRSxRQUFVLFFBQVMsUUFBUyxZQUM1QkMsSUFBSyxXQUNELElBQUlvRSxFQUFVdkksS0FBSzBCLFNBQVNtRCxhQUN4QnlELEVBQWN0SSxLQUFLbUMsYUFDbkJpRixHQUNJTCxNQUFTOUgsS0FBS0MsS0FBS0QsS0FBS3VKLElBQUlGLEVBQVlBLEVBQVl6SixPQUFTLEtBQWlCLEVBQVYwSixFQUNwRUUsZUFBZ0JGLEdBQVcsR0FDM0JHLGdCQUFpQkgsR0FBVyxJQUdwQ3ZJLEtBQUtrSCxPQUFPRSxJQUFJQSxNQUdwQmxELFFBQVUsUUFBUyxRQUFTLFlBQzVCQyxJQUFLLFNBQVM2QyxHQUNWLElBQUlRLEVBQVd4SCxLQUFLbUMsYUFBYXRELE9BQzdCc0ksR0FBUW5ILEtBQUswQixTQUFTc0QsVUFDdEJ0RyxFQUFRc0IsS0FBS2tILE9BQU8xRyxXQUV4QixHQUFJMkcsR0FBUUgsRUFBTXRJLE1BQU1vRyxNQUNwQixLQUFPMEMsS0FDSFIsRUFBTUksSUFBSUwsTUFBUS9HLEtBQUt5QyxRQUFRekMsS0FBS2lILFNBQVNPLElBQzdDOUksRUFBTWlLLEdBQUduQixHQUFVSixJQUFJSixFQUFNSSxVQUUxQkQsSUFDUEgsRUFBTUksSUFBSUwsTUFBUUMsRUFBTXRJLE1BQU1xSSxNQUM5QnJJLEVBQU0wSSxJQUFJSixFQUFNSSxTQUl4QmxELFFBQVUsU0FDVkMsSUFBSyxXQUNEbkUsS0FBS21DLGFBQWF0RCxPQUFTLEdBQUttQixLQUFLa0gsT0FBTzBCLFdBQVcsWUFHM0QxRSxRQUFVLFFBQVMsUUFBUyxZQUM1QkMsSUFBSyxTQUFTNkMsR0FDVkEsRUFBTS9ELFFBQVUrRCxFQUFNL0QsUUFBVWpELEtBQUtrSCxPQUFPMUcsV0FBV3FJLE1BQU03QixFQUFNL0QsU0FBVyxFQUM5RStELEVBQU0vRCxRQUFVaEUsS0FBSzRJLElBQUk3SCxLQUFLOEksVUFBVzdKLEtBQUt5SSxJQUFJMUgsS0FBSytJLFVBQVcvQixFQUFNL0QsVUFDeEVqRCxLQUFLZ0osTUFBTWhDLEVBQU0vRCxZQUdyQmlCLFFBQVUsWUFDVkMsSUFBSyxXQUNEbkUsS0FBS2lKLFFBQVFqSixLQUFLc0ksWUFBWXRJLEtBQUtpQyxjQUd2Q2lDLFFBQVUsUUFBUyxXQUFZLFFBQVMsWUFDeENDLElBQUssV0FDRCxJQUlJK0UsRUFBT0MsRUFBcUJySyxFQUFHc0ssRUFKL0JsRSxFQUFNbEYsS0FBSzBCLFNBQVN3RCxJQUFNLEdBQUssRUFDL0JxRCxFQUF1QyxFQUE3QnZJLEtBQUswQixTQUFTbUQsYUFDeEJ3RSxFQUFRckosS0FBS3NJLFlBQVl0SSxLQUFLaUQsV0FBYXNGLEVBQzNDZSxFQUFNRCxFQUFRckosS0FBSytHLFFBQVU3QixFQUNmcUUsS0FFbEIsSUFBS3pLLEVBQUksRUFBR3NLLEVBQUlwSixLQUFLbUMsYUFBYXRELE9BQVFDLEVBQUlzSyxFQUFHdEssSUFDN0NvSyxFQUFRbEosS0FBS21DLGFBQWFyRCxFQUFJLElBQU0sRUFDcENxSyxFQUFRbEssS0FBS3VKLElBQUl4SSxLQUFLbUMsYUFBYXJELElBQU15SixFQUFVckQsR0FFOUNsRixLQUFLd0osR0FBR04sRUFBTyxLQUFNRyxJQUFXckosS0FBS3dKLEdBQUdOLEVBQU8sSUFBS0ksSUFDakR0SixLQUFLd0osR0FBR0wsRUFBTyxJQUFLRSxJQUFVckosS0FBS3dKLEdBQUdMLEVBQU8sSUFBS0csS0FDdERDLEVBQVF4SyxLQUFLRCxHQUlyQmtCLEtBQUtrSCxPQUFPMUcsU0FBUyxXQUFXaUosWUFBWSxVQUM1Q3pKLEtBQUtrSCxPQUFPMUcsU0FBUyxPQUFTK0ksRUFBUUcsS0FBSyxXQUFhLEtBQUtsSyxTQUFTLFVBRWxFUSxLQUFLMEIsU0FBU3RFLFNBQ2Q0QyxLQUFLa0gsT0FBTzFHLFNBQVMsV0FBV2lKLFlBQVksVUFDNUN6SixLQUFLa0gsT0FBTzFHLFdBQVdtSSxHQUFHM0ksS0FBS2lELFdBQVd6RCxTQUFTLGNBUy9EK0IsRUFBSW9JLFVBQVV0RixXQUFhLFdBTXZCLEdBTEFyRSxLQUFLNEosTUFBTSxnQkFDWDVKLEtBQUs2SixRQUFRLGNBRWI3SixLQUFLNkIsU0FBU2lJLFlBQVk5SixLQUFLMEIsU0FBU3VFLFNBQVVqRyxLQUFLMEIsU0FBU3dELEtBRTVEbEYsS0FBSzBCLFNBQVNzRCxZQUFjaEYsS0FBSytKLEdBQUcsZUFBZ0IsQ0FDcEQsSUFBSUMsRUFBTUMsRUFBZ0JsRCxFQUMxQmlELEVBQU9oSyxLQUFLNkIsU0FBU3FJLEtBQUssT0FDMUJELEVBQWlCakssS0FBSzBCLFNBQVNpRSxtQkFBcUIsSUFBTTNGLEtBQUswQixTQUFTaUUsd0JBeGJuRixFQXliV29CLEVBQVEvRyxLQUFLNkIsU0FBU3JCLFNBQVN5SixHQUFnQmxELFFBRTNDaUQsRUFBS25MLFFBQVVrSSxHQUFTLEdBQ3hCL0csS0FBS21LLHVCQUF1QkgsR0FJcENoSyxLQUFLNkIsU0FBU3JDLFNBQVNRLEtBQUt5QixRQUFRdUUsY0FHcENoRyxLQUFLa0gsT0FBU2hKLEVBQUUsSUFBTThCLEtBQUswQixTQUFTbUUsYUFBZSxXQUFhN0YsS0FBSzBCLFNBQVMyRSxXQUFhLE9BQ3RGK0QsS0FBSyxlQUFpQnBLLEtBQUswQixTQUFTNEUsZ0JBQWtCLE9BRzNEdEcsS0FBSzZCLFNBQVN2QyxPQUFPVSxLQUFLa0gsT0FBT3JILFVBR2pDRyxLQUFLcUssUUFBUXJLLEtBQUs2QixTQUFTckIsV0FBVzhKLElBQUl0SyxLQUFLa0gsT0FBT3JILFdBR2xERyxLQUFLNkIsU0FBU2tJLEdBQUcsWUFFakIvSixLQUFLdUssVUFHTHZLLEtBQUt3SyxXQUFXLFNBR3BCeEssS0FBSzZCLFNBQ0E0SCxZQUFZekosS0FBS3lCLFFBQVF1RSxjQUN6QnhHLFNBQVNRLEtBQUt5QixRQUFRc0UsYUFHM0IvRixLQUFLeUssd0JBRUx6SyxLQUFLMEssTUFBTSxnQkFDWDFLLEtBQUs2SixRQUFRLGdCQVNqQnRJLEVBQUlvSSxVQUFVdkYsTUFBUSxXQUNsQixJQUFJdUcsRUFBVzNLLEtBQUsySyxXQUNoQkMsRUFBYTVLLEtBQUt5QixRQUFRNkQsV0FDMUJ1RixHQUFTLEVBQ1RuSixFQUFXLEtBRVZrSixHQUdEMU0sRUFBRStCLEtBQUsySyxFQUFZLFNBQVNFLEdBQ3BCQSxHQUFjSCxHQUFZRyxFQUFhRCxJQUN2Q0EsRUFBUUUsT0FBT0QsTUFLYyxtQkFEckNwSixFQUFXeEQsRUFBRXlELFVBQVczQixLQUFLeUIsUUFBU21KLEVBQVdDLEtBQzdCaEcsZUFDaEJuRCxFQUFTbUQsYUFBZW5ELEVBQVNtRCx1QkFFOUJuRCxFQUFTNEQsV0FHWjVELEVBQVN3RSxpQkFDVGxHLEtBQUs2QixTQUFTVixLQUFLLFFBQ2ZuQixLQUFLNkIsU0FBU1YsS0FBSyxTQUFTa0osUUFBUSxJQUFJVyxPQUFPLElBQU1oTCxLQUFLeUIsUUFBUXlFLGdCQUFrQixZQUFhLEtBQU0sS0FBTzJFLEtBakJ0SG5KLEVBQVd4RCxFQUFFeUQsVUFBVzNCLEtBQUt5QixTQXNCakN6QixLQUFLNkosUUFBUSxVQUFZb0IsVUFBWUMsS0FBTSxXQUFZQyxNQUFPekosS0FDOUQxQixLQUFLb0MsWUFBY3lJLEVBQ25CN0ssS0FBSzBCLFNBQVdBLEVBQ2hCMUIsS0FBS3dLLFdBQVcsWUFDaEJ4SyxLQUFLNkosUUFBUSxXQUFhb0IsVUFBWUMsS0FBTSxXQUFZQyxNQUFPbkwsS0FBSzBCLGFBT3hFSCxFQUFJb0ksVUFBVXlCLGFBQWUsV0FDckJwTCxLQUFLMEIsU0FBU3NELFlBQ2RoRixLQUFLMEIsU0FBU21ELGNBQWUsRUFDN0I3RSxLQUFLMEIsU0FBU29ELE9BQVEsSUFVOUJ2RCxFQUFJb0ksVUFBVTBCLFFBQVUsU0FBU0MsR0FDN0IsSUFBSUMsRUFBUXZMLEtBQUs2SixRQUFRLFdBQWEyQixRQUFTRixJQVMvQyxPQVBLQyxFQUFNRSxPQUNQRixFQUFNRSxLQUFPdk4sRUFBRSxJQUFNOEIsS0FBSzBCLFNBQVNrRSxZQUFjLE1BQzVDcEcsU0FBU1EsS0FBS3lCLFFBQVEyRSxXQUFXOUcsT0FBT2dNLElBR2pEdEwsS0FBSzZKLFFBQVEsWUFBYzJCLFFBQVNELEVBQU1FLE9BRW5DRixFQUFNRSxNQU9qQmxLLEVBQUlvSSxVQUFVK0IsT0FBUyxXQU1uQixJQUxBLElBQUk1TSxFQUFJLEVBQ0pzSyxFQUFJcEosS0FBSzJDLE1BQU05RCxPQUNmcUYsRUFBU2hHLEVBQUVzRixNQUFNLFNBQVNtSSxHQUFLLE9BQU8zTCxLQUFLMkwsSUFBTTNMLEtBQUswQyxjQUN0RHNFLEtBRUdsSSxFQUFJc0ssSUFDSHBKLEtBQUswQyxhQUFha0osS0FBTzFOLEVBQUUyTixLQUFLN0wsS0FBSzJDLE1BQU03RCxHQUFHb0YsT0FBUUEsR0FBUXJGLE9BQVMsSUFDdkVtQixLQUFLMkMsTUFBTTdELEdBQUdxRixJQUFJNkMsR0FFdEJsSSxJQUdKa0IsS0FBSzBDLGlCQUVKMUMsS0FBSytKLEdBQUcsVUFBWS9KLEtBQUs0SixNQUFNLFVBU3BDckksRUFBSW9JLFVBQVU1QyxNQUFRLFNBQVMrRSxHQUUzQixPQURBQSxFQUFZQSxHQUFhdkssRUFBSWlGLE1BQU1DLFNBRS9CLEtBQUtsRixFQUFJaUYsTUFBTUUsTUFDZixLQUFLbkYsRUFBSWlGLE1BQU1HLE1BQ1gsT0FBTzNHLEtBQUtxQyxPQUNoQixRQUNJLE9BQU9yQyxLQUFLcUMsT0FBc0MsRUFBN0JyQyxLQUFLMEIsU0FBU21ELGFBQW1CN0UsS0FBSzBCLFNBQVNrRCxTQVFoRnJELEVBQUlvSSxVQUFVWSxRQUFVLFdBQ3BCdkssS0FBSzRKLE1BQU0sY0FDWDVKLEtBQUs2SixRQUFRLFdBRWI3SixLQUFLb0UsUUFFTHBFLEtBQUtvTCxlQUVMcEwsS0FBSzZCLFNBQVNyQyxTQUFTUSxLQUFLeUIsUUFBUXFFLGNBRXBDOUYsS0FBSzBMLFNBRUwxTCxLQUFLNkIsU0FBUzRILFlBQVl6SixLQUFLeUIsUUFBUXFFLGNBRXZDOUYsS0FBSzBLLE1BQU0sY0FDWDFLLEtBQUs2SixRQUFRLGNBT2pCdEksRUFBSW9JLFVBQVVvQyxrQkFBb0IsV0FDOUI1TCxFQUFPNkwsYUFBYWhNLEtBQUtpTSxhQUN6QmpNLEtBQUtpTSxZQUFjOUwsRUFBT21CLFdBQVd0QixLQUFLOEIsVUFBVW9LLFNBQVVsTSxLQUFLMEIsU0FBUzZELHdCQU9oRmhFLEVBQUlvSSxVQUFVdUMsU0FBVyxXQUNyQixRQUFLbE0sS0FBS3NDLE9BQU96RCxTQUlibUIsS0FBS3FDLFNBQVdyQyxLQUFLNkIsU0FBU2tGLFlBSTdCL0csS0FBSzZCLFNBQVNrSSxHQUFHLGNBSXRCL0osS0FBSzRKLE1BQU0sWUFFUDVKLEtBQUs2SixRQUFRLFVBQVVzQyxzQkFDdkJuTSxLQUFLMEssTUFBTSxhQUNKLElBR1gxSyxLQUFLd0ssV0FBVyxTQUVoQnhLLEtBQUt1SyxVQUVMdkssS0FBSzBLLE1BQU0saUJBQ1gxSyxLQUFLNkosUUFBUSxnQkFTakJ0SSxFQUFJb0ksVUFBVWMsc0JBQXdCLFdBQzlCdk0sRUFBRWtPLFFBQVFDLFlBQ1ZyTSxLQUFLa0gsT0FBT3hHLEdBQUd4QyxFQUFFa08sUUFBUUMsV0FBVy9DLElBQU0sWUFBYXBMLEVBQUVzRixNQUFNeEQsS0FBS3NNLGdCQUFpQnRNLFFBR3hELElBQTdCQSxLQUFLMEIsU0FBUzRELFlBQ2R0RixLQUFLVSxHQUFHUCxFQUFRLFNBQVVILEtBQUs4QixVQUFVaUssbUJBR3pDL0wsS0FBSzBCLFNBQVM4QyxZQUNkeEUsS0FBSzZCLFNBQVNyQyxTQUFTUSxLQUFLeUIsUUFBUTBFLFdBQ3BDbkcsS0FBS2tILE9BQU94RyxHQUFHLHFCQUFzQnhDLEVBQUVzRixNQUFNeEQsS0FBS3VNLFlBQWF2TSxPQUMvREEsS0FBS2tILE9BQU94RyxHQUFHLDBDQUEyQyxXQUFhLE9BQU8sS0FHOUVWLEtBQUswQixTQUFTK0MsWUFDZHpFLEtBQUtrSCxPQUFPeEcsR0FBRyxzQkFBdUJ4QyxFQUFFc0YsTUFBTXhELEtBQUt1TSxZQUFhdk0sT0FDaEVBLEtBQUtrSCxPQUFPeEcsR0FBRyx1QkFBd0J4QyxFQUFFc0YsTUFBTXhELEtBQUt3TSxVQUFXeE0sU0FXdkV1QixFQUFJb0ksVUFBVTRDLFlBQWMsU0FBU2hCLEdBQ2pDLElBQUl4SSxFQUFRLEtBRVEsSUFBaEJ3SSxFQUFNa0IsUUFJTnZPLEVBQUVrTyxRQUFRTSxVQUVWM0osR0FDSTRKLEdBRko1SixFQUFRL0MsS0FBS2tILE9BQU9FLElBQUksYUFBYWlELFFBQVEsYUFBYyxJQUFJdUMsTUFBTSxNQUV2QyxLQUFqQjdKLEVBQU1sRSxPQUFnQixHQUFLLEdBQ3BDZ08sRUFBRzlKLEVBQXVCLEtBQWpCQSxFQUFNbEUsT0FBZ0IsR0FBSyxLQUd4Q2tFLEVBQVEvQyxLQUFLa0gsT0FBT2xKLFdBQ3BCK0UsR0FDSTRKLEVBQUczTSxLQUFLMEIsU0FBU3dELElBQ2JuQyxFQUFNK0osS0FBTzlNLEtBQUtrSCxPQUFPSCxRQUFVL0csS0FBSytHLFFBQVUvRyxLQUFLMEIsU0FBU2tELE9BQ2hFN0IsRUFBTStKLEtBQ1ZELEVBQUc5SixFQUFNZ0ssTUFJYi9NLEtBQUsrSixHQUFHLGVBQ1I3TCxFQUFFa08sUUFBUU0sVUFBWTFNLEtBQUtpSixRQUFRbEcsRUFBTTRKLEdBQUszTSxLQUFLa0gsT0FBTzhGLE9BQzFEaE4sS0FBS3dLLFdBQVcsYUFHcEJ4SyxLQUFLNkIsU0FBU2lJLFlBQVk5SixLQUFLeUIsUUFBUThFLFVBQTBCLGNBQWZnRixFQUFNMEIsTUFFeERqTixLQUFLa04sTUFBTSxHQUVYbE4sS0FBSzRDLE1BQU1DLE1BQU8sSUFBSXNLLE1BQU9DLFVBQzdCcE4sS0FBSzRDLE1BQU05QixPQUFTNUMsRUFBRXFOLEVBQU16SyxRQUM1QmQsS0FBSzRDLE1BQU1HLE1BQU1DLE1BQVFELEVBQ3pCL0MsS0FBSzRDLE1BQU1HLE1BQU1FLFFBQVVGLEVBQzNCL0MsS0FBSzRDLE1BQU1FLFFBQVU5QyxLQUFLOEMsUUFBUXlJLEdBRWxDck4sRUFBRUwsR0FBVTZDLEdBQUcscUNBQXNDeEMsRUFBRXNGLE1BQU14RCxLQUFLd00sVUFBV3hNLE9BRTdFOUIsRUFBRUwsR0FBVXdQLElBQUksd0NBQXlDblAsRUFBRXNGLE1BQU0sU0FBUytILEdBQ3RFLElBQUkrQixFQUFRdE4sS0FBS3VOLFdBQVd2TixLQUFLNEMsTUFBTUUsUUFBUzlDLEtBQUs4QyxRQUFReUksSUFFN0RyTixFQUFFTCxHQUFVNkMsR0FBRyx3Q0FBeUN4QyxFQUFFc0YsTUFBTXhELEtBQUt3TixXQUFZeE4sT0FFN0VmLEtBQUt1SixJQUFJOEUsRUFBTVgsR0FBSzFOLEtBQUt1SixJQUFJOEUsRUFBTVQsSUFBTTdNLEtBQUsrSixHQUFHLFdBSXJEd0IsRUFBTWtDLGlCQUVOek4sS0FBSzRKLE1BQU0sWUFDWDVKLEtBQUs2SixRQUFRLFVBQ2Q3SixTQVNQdUIsRUFBSW9JLFVBQVU2RCxXQUFhLFNBQVNqQyxHQUNoQyxJQUFJekMsRUFBVSxLQUNWQyxFQUFVLEtBQ1YyRSxFQUFPLEtBQ1BKLEVBQVF0TixLQUFLdU4sV0FBV3ZOLEtBQUs0QyxNQUFNRSxRQUFTOUMsS0FBSzhDLFFBQVF5SSxJQUN6RHhJLEVBQVEvQyxLQUFLdU4sV0FBV3ZOLEtBQUs0QyxNQUFNRyxNQUFNQyxNQUFPc0ssR0FFL0N0TixLQUFLK0osR0FBRyxjQUlid0IsRUFBTWtDLGlCQUVGek4sS0FBSzBCLFNBQVM0QyxNQUNkd0UsRUFBVTlJLEtBQUtzSSxZQUFZdEksS0FBSzhJLFdBQ2hDQyxFQUFVL0ksS0FBS3NJLFlBQVl0SSxLQUFLK0ksVUFBWSxHQUFLRCxFQUNqRC9GLEVBQU00SixJQUFPNUosRUFBTTRKLEVBQUk3RCxHQUFXQyxFQUFVQSxHQUFXQSxFQUFXRCxJQUVsRUEsRUFBVTlJLEtBQUswQixTQUFTd0QsSUFBTWxGLEtBQUtzSSxZQUFZdEksS0FBSytJLFdBQWEvSSxLQUFLc0ksWUFBWXRJLEtBQUs4SSxXQUN2RkMsRUFBVS9JLEtBQUswQixTQUFTd0QsSUFBTWxGLEtBQUtzSSxZQUFZdEksS0FBSzhJLFdBQWE5SSxLQUFLc0ksWUFBWXRJLEtBQUsrSSxXQUN2RjJFLEVBQU8xTixLQUFLMEIsU0FBU2dELFVBQVksRUFBSTRJLEVBQU1YLEVBQUksRUFBSSxFQUNuRDVKLEVBQU00SixFQUFJMU4sS0FBSzRJLElBQUk1SSxLQUFLeUksSUFBSTNFLEVBQU00SixFQUFHN0QsRUFBVTRFLEdBQU8zRSxFQUFVMkUsSUFHcEUxTixLQUFLNEMsTUFBTUcsTUFBTUUsUUFBVUYsRUFFM0IvQyxLQUFLaUosUUFBUWxHLEVBQU00SixLQVV2QnBMLEVBQUlvSSxVQUFVNkMsVUFBWSxTQUFTakIsR0FDL0IsSUFBSStCLEVBQVF0TixLQUFLdU4sV0FBV3ZOLEtBQUs0QyxNQUFNRSxRQUFTOUMsS0FBSzhDLFFBQVF5SSxJQUN6RHhJLEVBQVEvQyxLQUFLNEMsTUFBTUcsTUFBTUUsUUFDekJDLEVBQVlvSyxFQUFNWCxFQUFJLEVBQUkzTSxLQUFLMEIsU0FBU3dELElBQU0sT0FBUyxRQUUzRGhILEVBQUVMLEdBQVU4UCxJQUFJLGFBRWhCM04sS0FBSzZCLFNBQVM0SCxZQUFZekosS0FBS3lCLFFBQVE4RSxZQUV2QixJQUFaK0csRUFBTVgsR0FBVzNNLEtBQUsrSixHQUFHLGNBQWdCL0osS0FBSytKLEdBQUcsWUFDakQvSixLQUFLa04sTUFBTWxOLEtBQUswQixTQUFTMkQsY0FBZ0JyRixLQUFLMEIsU0FBU3lELFlBQ3ZEbkYsS0FBS2lELFFBQVFqRCxLQUFLNE4sUUFBUTdLLEVBQU00SixFQUFlLElBQVpXLEVBQU1YLEVBQVV6SixFQUFZbEQsS0FBSzRDLE1BQU1NLFlBQzFFbEQsS0FBS3dLLFdBQVcsWUFDaEJ4SyxLQUFLMEwsU0FFTDFMLEtBQUs0QyxNQUFNTSxVQUFZQSxHQUVuQmpFLEtBQUt1SixJQUFJOEUsRUFBTVgsR0FBSyxJQUFLLElBQUlRLE1BQU9DLFVBQVlwTixLQUFLNEMsTUFBTUMsS0FBTyxNQUNsRTdDLEtBQUs0QyxNQUFNOUIsT0FBT3VNLElBQUksaUJBQWtCLFdBQWEsT0FBTyxLQUkvRHJOLEtBQUsrSixHQUFHLGNBSWIvSixLQUFLMEssTUFBTSxZQUNYMUssS0FBSzZKLFFBQVEsYUFXakJ0SSxFQUFJb0ksVUFBVWlFLFFBQVUsU0FBU0MsRUFBWTNLLEdBQ3pDLElBQUlsRixHQUFZLEVBRVorSSxFQUFRL0csS0FBSytHLFFBQ2J1QixFQUFjdEksS0FBS3NJLGNBNkJ2QixPQTNCS3RJLEtBQUswQixTQUFTaUQsVUFFZnpHLEVBQUUrQixLQUFLcUksRUFBYXBLLEVBQUVzRixNQUFNLFNBQVNxRixFQUFPc0MsR0FZeEMsTUFWa0IsU0FBZGpJLEdBQXdCMkssRUFBYTFDLEVBUnRDLElBUXNEMEMsRUFBYTFDLEVBUm5FLEdBU0NuTixFQUFXNkssRUFHVSxVQUFkM0YsR0FBeUIySyxFQUFhMUMsRUFBUXBFLEVBWnRELElBWXNFOEcsRUFBYTFDLEVBQVFwRSxFQVozRixHQWFDL0ksRUFBVzZLLEVBQVEsRUFDWjdJLEtBQUt3SixHQUFHcUUsRUFBWSxJQUFLMUMsSUFDN0JuTCxLQUFLd0osR0FBR3FFLEVBQVksSUFBS3ZGLEVBQVlPLEVBQVEsSUFBTXNDLEVBQVFwRSxLQUM5RC9JLEVBQXlCLFNBQWRrRixFQUF1QjJGLEVBQVEsRUFBSUEsSUFFN0IsSUFBZDdLLEdBQ1JnQyxPQUdGQSxLQUFLMEIsU0FBUzRDLE9BRVh0RSxLQUFLd0osR0FBR3FFLEVBQVksSUFBS3ZGLEVBQVl0SSxLQUFLOEksWUFDMUM5SyxFQUFXNlAsRUFBYTdOLEtBQUs4SSxVQUN0QjlJLEtBQUt3SixHQUFHcUUsRUFBWSxJQUFLdkYsRUFBWXRJLEtBQUsrSSxjQUNqRC9LLEVBQVc2UCxFQUFhN04sS0FBSytJLFlBSTlCL0ssR0FTWHVELEVBQUlvSSxVQUFVVixRQUFVLFNBQVM0RSxHQUM3QixJQUFJNUUsRUFBVWpKLEtBQUtrTixRQUFVLEVBRTdCbE4sS0FBSytKLEdBQUcsY0FBZ0IvSixLQUFLc00sa0JBRXpCckQsSUFDQWpKLEtBQUs0SixNQUFNLGFBQ1g1SixLQUFLNkosUUFBUSxjQUdiM0wsRUFBRWtPLFFBQVEwQixhQUFlNVAsRUFBRWtPLFFBQVFDLFdBQ25Dck0sS0FBS2tILE9BQU9FLEtBQ1JzRixVQUFXLGVBQWlCbUIsRUFBYSxjQUN6Q3hCLFdBQWFyTSxLQUFLa04sUUFBVSxJQUFRLE1BRWpDakUsRUFDUGpKLEtBQUtrSCxPQUFPK0IsU0FDUjZELEtBQU1lLEVBQWEsTUFDcEI3TixLQUFLa04sUUFBU2xOLEtBQUswQixTQUFTK0QsZUFBZ0J2SCxFQUFFc0YsTUFBTXhELEtBQUtzTSxnQkFBaUJ0TSxPQUU3RUEsS0FBS2tILE9BQU9FLEtBQ1IwRixLQUFNZSxFQUFhLFFBVS9CdE0sRUFBSW9JLFVBQVVJLEdBQUssU0FBU2dFLEdBQ3hCLE9BQU8vTixLQUFLbUQsUUFBUUYsUUFBUThLLElBQVUvTixLQUFLbUQsUUFBUUYsUUFBUThLLEdBQVMsR0FTeEV4TSxFQUFJb0ksVUFBVTFHLFFBQVUsU0FBU2pGLEdBQzdCLFFBNTRCUCxJQTQ0QldBLEVBQ0EsT0FBT2dDLEtBQUtpQyxTQUdoQixHQUEyQixJQUF2QmpDLEtBQUtzQyxPQUFPekQsT0FBaEIsQ0FNQSxHQUZBYixFQUFXZ0MsS0FBS2lJLFVBQVVqSyxHQUV0QmdDLEtBQUtpQyxXQUFhakUsRUFBVSxDQUM1QixJQUFJdU4sRUFBUXZMLEtBQUs2SixRQUFRLFVBQVlvQixVQUFZQyxLQUFNLFdBQVlDLE1BQU9uTixVQXY1QnJGLElBeTVCZXVOLEVBQU1FLE9BQ056TixFQUFXZ0MsS0FBS2lJLFVBQVVzRCxFQUFNRSxPQUdwQ3pMLEtBQUtpQyxTQUFXakUsRUFFaEJnQyxLQUFLd0ssV0FBVyxZQUVoQnhLLEtBQUs2SixRQUFRLFdBQWFvQixVQUFZQyxLQUFNLFdBQVlDLE1BQU9uTCxLQUFLaUMsWUFHeEUsT0FBT2pDLEtBQUtpQyxXQVFoQlYsRUFBSW9JLFVBQVVhLFdBQWEsU0FBU3dELEdBS2hDLE1BSnFCLFdBQWpCOVAsRUFBRStPLEtBQUtlLEtBQ1BoTyxLQUFLMEMsYUFBYXNMLElBQVEsRUFDMUJoTyxLQUFLK0osR0FBRyxVQUFZL0osS0FBSzBLLE1BQU0sVUFFNUJ4TSxFQUFFUCxJQUFJcUMsS0FBSzBDLGFBQWMsU0FBU3VMLEVBQUduUCxHQUFLLE9BQU9BLEtBUTVEeUMsRUFBSW9JLFVBQVVYLE1BQVEsU0FBU2hMLFFBejdCbEMsS0EwN0JPQSxFQUFXZ0MsS0FBS2lJLFVBQVVqSyxNQU0xQmdDLEtBQUtrQyxPQUFTLEVBQ2RsQyxLQUFLaUMsU0FBV2pFLEVBRWhCZ0MsS0FBS2tPLFVBQVcsWUFBYSxlQUU3QmxPLEtBQUtpSixRQUFRakosS0FBS3NJLFlBQVl0SyxJQUU5QmdDLEtBQUttTyxTQUFVLFlBQWEsaUJBVWhDNU0sRUFBSW9JLFVBQVUxQixVQUFZLFNBQVNqSyxFQUFVaUosR0FDekMsSUFBSW1DLEVBQUlwSixLQUFLc0MsT0FBT3pELE9BQ2hCdVAsRUFBSW5ILEVBQVcsRUFBSWpILEtBQUt1QyxRQUFRMUQsT0FRcEMsT0FOS21CLEtBQUtxTyxVQUFVclEsSUFBYW9MLEVBQUksRUFDakNwTCxPQXQ5QlgsR0F1OUJrQkEsRUFBVyxHQUFLQSxHQUFZb0wsRUFBSWdGLEtBQ3ZDcFEsSUFBYUEsRUFBV29RLEVBQUksR0FBS2hGLEVBQUlBLEdBQUtBLEVBQUlnRixFQUFJLEdBRy9DcFEsR0FTWHVELEVBQUlvSSxVQUFVMUMsU0FBVyxTQUFTakosR0FFOUIsT0FEQUEsR0FBWWdDLEtBQUt1QyxRQUFRMUQsT0FBUyxFQUMzQm1CLEtBQUtpSSxVQUFVakssR0FBVSxJQVNwQ3VELEVBQUlvSSxVQUFVWixRQUFVLFNBQVM5QixHQUM3QixJQUVJTyxFQUNBOEcsRUFDQUMsRUFKQTdNLEVBQVcxQixLQUFLMEIsU0FDaEJxSCxFQUFVL0ksS0FBS21DLGFBQWF0RCxPQUtoQyxHQUFJNkMsRUFBUzRDLEtBQ1R5RSxFQUFVL0ksS0FBS3VDLFFBQVExRCxPQUFTLEVBQUltQixLQUFLc0MsT0FBT3pELE9BQVMsT0FDdEQsR0FBSTZDLEVBQVNzRCxXQUFhdEQsRUFBU29ELE1BQU8sQ0FJN0MsSUFIQTBDLEVBQVd4SCxLQUFLc0MsT0FBT3pELE9BQ3ZCeVAsRUFBdUJ0TyxLQUFLc0MsU0FBU2tGLEdBQVVULFFBQy9Dd0gsRUFBZXZPLEtBQUs2QixTQUFTa0YsUUFDdEJTLFFBQ0g4RyxHQUF3QnRPLEtBQUtzQyxPQUFPa0YsR0FBVVQsUUFBVS9HLEtBQUswQixTQUFTa0QsUUFDM0MySixLQUkvQnhGLEVBQVV2QixFQUFXLE9BRXJCdUIsRUFET3JILEVBQVN0RSxPQUNONEMsS0FBS3NDLE9BQU96RCxPQUFTLEVBRXJCbUIsS0FBS3NDLE9BQU96RCxPQUFTNkMsRUFBU2hELE1BTzVDLE9BSkl1SSxJQUNBOEIsR0FBVy9JLEtBQUt1QyxRQUFRMUQsT0FBUyxHQUc5QkksS0FBSzRJLElBQUlrQixFQUFTLElBUzdCeEgsRUFBSW9JLFVBQVViLFFBQVUsU0FBUzdCLEdBQzdCLE9BQU9BLEVBQVcsRUFBSWpILEtBQUt1QyxRQUFRMUQsT0FBUyxHQVNoRDBDLEVBQUlvSSxVQUFVakwsTUFBUSxTQUFTVixHQUMzQixZQWppQ1AsSUFpaUNXQSxFQUNPZ0MsS0FBS3NDLE9BQU8xRCxTQUd2QlosRUFBV2dDLEtBQUtpSSxVQUFVakssR0FBVSxHQUM3QmdDLEtBQUtzQyxPQUFPdEUsS0FTdkJ1RCxFQUFJb0ksVUFBVTZFLFFBQVUsU0FBU3hRLEdBQzdCLFlBaGpDUCxJQWdqQ1dBLEVBQ09nQyxLQUFLd0MsU0FBUzVELFNBR3pCWixFQUFXZ0MsS0FBS2lJLFVBQVVqSyxHQUFVLEdBQzdCZ0MsS0FBS3dDLFNBQVN4RSxLQVN6QnVELEVBQUlvSSxVQUFVaEMsT0FBUyxTQUFTM0osR0FDNUIsSUFBSXlRLEVBQU16TyxLQUFLdUMsUUFBUTFELE9BQVMsRUFDNUI2UCxFQUFPRCxFQUFNek8sS0FBS3NDLE9BQU96RCxPQUN6QmxCLEVBQU0sU0FBU2tMLEdBQVMsT0FBT0EsRUFBUSxHQUFNLEVBQUk2RixFQUFPN0YsRUFBUSxFQUFJNEYsR0FBTzVGLEVBQVEsR0FBSyxHQUU1RixZQW5rQ1AsSUFta0NXN0ssRUFDT0UsRUFBRVAsSUFBSXFDLEtBQUt1QyxRQUFTLFNBQVMwTCxFQUFHblAsR0FBSyxPQUFPbkIsRUFBSW1CLEtBR3BEWixFQUFFUCxJQUFJcUMsS0FBS3VDLFFBQVMsU0FBUzBMLEVBQUduUCxHQUFLLE9BQU9tUCxJQUFNalEsRUFBV0wsRUFBSW1CLEdBQUssUUFTakZ5QyxFQUFJb0ksVUFBVXVELE1BQVEsU0FBU0EsR0FLM0IsWUFybENQLElBaWxDV0EsSUFDQWxOLEtBQUtrQyxPQUFTZ0wsR0FHWGxOLEtBQUtrQyxRQVVoQlgsRUFBSW9JLFVBQVVyQixZQUFjLFNBQVN0SyxHQUNqQyxJQUVJNlAsRUFGQWMsRUFBYSxFQUNiQyxFQUFjNVEsRUFBVyxFQUc3QixZQXBtQ1AsSUFvbUNXQSxFQUNPRSxFQUFFUCxJQUFJcUMsS0FBS21DLGFBQWNqRSxFQUFFc0YsTUFBTSxTQUFTcUssRUFBWWhGLEdBQ3pELE9BQU83SSxLQUFLc0ksWUFBWU8sSUFDekI3SSxRQUdIQSxLQUFLMEIsU0FBU3RFLFFBQ1Y0QyxLQUFLMEIsU0FBU3dELE1BQ2R5SixHQUFjLEVBQ2RDLEVBQWM1USxFQUFXLEdBRzdCNlAsRUFBYTdOLEtBQUttQyxhQUFhbkUsR0FDL0I2UCxJQUFlN04sS0FBSytHLFFBQVU4RyxHQUFjN04sS0FBS21DLGFBQWF5TSxJQUFnQixJQUFNLEVBQUlELEdBRXhGZCxFQUFhN04sS0FBS21DLGFBQWF5TSxJQUFnQixFQUduRGYsRUFBYTVPLEtBQUtDLEtBQUsyTyxLQWEzQnRNLEVBQUlvSSxVQUFVa0YsU0FBVyxTQUFTQyxFQUFNQyxFQUFJQyxHQUN4QyxPQUFlLElBQVhBLEVBQ08sRUFHSi9QLEtBQUt5SSxJQUFJekksS0FBSzRJLElBQUk1SSxLQUFLdUosSUFBSXVHLEVBQUtELEdBQU8sR0FBSSxHQUFLN1AsS0FBS3VKLElBQUt3RyxHQUFVaFAsS0FBSzBCLFNBQVN5RCxhQVM3RjVELEVBQUlvSSxVQUFVb0YsR0FBSyxTQUFTL1EsRUFBVWtQLEdBQ2xDLElBQUlqSyxFQUFVakQsS0FBS2lELFVBQ2ZnTSxFQUFTLEtBQ1RDLEVBQVdsUixFQUFXZ0MsS0FBS2lILFNBQVNoRSxHQUNwQ0MsR0FBYWdNLEVBQVcsSUFBTUEsRUFBVyxHQUN6Q3hRLEVBQVFzQixLQUFLc0MsT0FBT3pELE9BQ3BCaUssRUFBVTlJLEtBQUs4SSxVQUNmQyxFQUFVL0ksS0FBSytJLFVBRWYvSSxLQUFLMEIsU0FBUzRDLE9BQ1R0RSxLQUFLMEIsU0FBUzZDLFFBQVV0RixLQUFLdUosSUFBSTBHLEdBQVl4USxFQUFRLElBQ3REd1EsSUFBeUIsRUFBYmhNLEVBQWlCeEUsSUFJakN1USxLQURBalIsRUFBV2lGLEVBQVVpTSxHQUNDcEcsR0FBV3BLLEVBQVFBLEdBQVNBLEVBQVFvSyxLQUUzQzlLLEdBQVlpUixFQUFTQyxHQUFZbkcsR0FBV2tHLEVBQVNDLEVBQVcsSUFDM0VqTSxFQUFVZ00sRUFBU0MsRUFDbkJsUixFQUFXaVIsRUFDWGpQLEtBQUtnSixNQUFNL0YsS0FJZmpGLEVBRk9nQyxLQUFLMEIsU0FBUzZDLFFBRVR2RyxHQURaK0ssR0FBVyxHQUNzQkEsR0FBV0EsRUFFakM5SixLQUFLNEksSUFBSWlCLEVBQVM3SixLQUFLeUksSUFBSXFCLEVBQVMvSyxJQUduRGdDLEtBQUtrTixNQUFNbE4sS0FBSzZPLFNBQVM1TCxFQUFTakYsRUFBVWtQLElBQzVDbE4sS0FBS2lELFFBQVFqRixHQUVUZ0MsS0FBSzZCLFNBQVNrSSxHQUFHLGFBQ2pCL0osS0FBSzBMLFVBU2JuSyxFQUFJb0ksVUFBVXdGLEtBQU8sU0FBU2pDLEdBQzFCQSxFQUFRQSxJQUFTLEVBQ2pCbE4sS0FBSytPLEdBQUcvTyxLQUFLaUgsU0FBU2pILEtBQUtpRCxXQUFhLEVBQUdpSyxJQVEvQzNMLEVBQUlvSSxVQUFVeUYsS0FBTyxTQUFTbEMsR0FDMUJBLEVBQVFBLElBQVMsRUFDakJsTixLQUFLK08sR0FBRy9PLEtBQUtpSCxTQUFTakgsS0FBS2lELFdBQWEsRUFBR2lLLElBUS9DM0wsRUFBSW9JLFVBQVUyQyxnQkFBa0IsU0FBU2YsR0FHckMsUUFsdENQLElBa3RDV0EsSUFDQUEsRUFBTThELG1CQUdEOUQsRUFBTXpLLFFBQVV5SyxFQUFNK0QsWUFBYy9ELEVBQU1nRSxrQkFBb0J2UCxLQUFLa0gsT0FBT3NJLElBQUksSUFDL0UsT0FBTyxFQUlmeFAsS0FBSzBLLE1BQU0sYUFDWDFLLEtBQUs2SixRQUFRLGVBUWpCdEksRUFBSW9JLFVBQVVnQixTQUFXLFdBQ3JCLElBQUk1RCxFQVVKLE9BVEkvRyxLQUFLeUIsUUFBUStELHdCQUEwQnJGLEVBQ3ZDNEcsRUFBUTdJLEVBQUU4QixLQUFLeUIsUUFBUStELHVCQUF1QnVCLFFBQ3ZDNUcsRUFBT3NQLFdBQ2QxSSxFQUFRNUcsRUFBT3NQLFdBQ1I1UixFQUFTNlIsaUJBQW1CN1IsRUFBUzZSLGdCQUFnQkMsWUFDNUQ1SSxFQUFRbEosRUFBUzZSLGdCQUFnQkMsWUFFakN4UixRQUFReVIsS0FBSyxrQ0FFVjdJLEdBUVh4RixFQUFJb0ksVUFBVVUsUUFBVSxTQUFTbUIsR0FDN0J4TCxLQUFLa0gsT0FBTzJJLFFBQ1o3UCxLQUFLc0MsVUFFRGtKLElBQ0FBLEVBQVdBLGFBQW1CekssT0FBVXlLLEVBQVV0TixFQUFFc04sSUFHcER4TCxLQUFLMEIsU0FBU2lFLHFCQUNkNkYsRUFBVUEsRUFBUXRCLEtBQUssSUFBTWxLLEtBQUswQixTQUFTaUUscUJBRy9DNkYsRUFBUXRILE9BQU8sV0FDWCxPQUF5QixJQUFsQmxFLEtBQUs4UCxXQUNiN1AsS0FBSy9CLEVBQUVzRixNQUFNLFNBQVNxRixFQUFPeUMsR0FDNUJBLEVBQU90TCxLQUFLcUwsUUFBUUMsR0FDcEJ0TCxLQUFLa0gsT0FBTzVILE9BQU9nTSxHQUNuQnRMLEtBQUtzQyxPQUFPdkQsS0FBS3VNLEdBQ2pCdEwsS0FBS3dDLFNBQVN6RCxLQUE0RSxFQUF2RXVNLEVBQUtwQixLQUFLLGdCQUFnQjZGLFFBQVEsZ0JBQWdCNU8sS0FBSyxlQUFxQixJQUNoR25CLE9BRUhBLEtBQUtnSixNQUFNaEosS0FBS3FPLFVBQVVyTyxLQUFLMEIsU0FBU3VELGVBQWlCakYsS0FBSzBCLFNBQVN1RCxjQUFnQixHQUV2RmpGLEtBQUt3SyxXQUFXLFVBVXBCakosRUFBSW9JLFVBQVVxRyxJQUFNLFNBQVN4RSxFQUFTeE4sR0FDbEMsSUFBSWlGLEVBQVVqRCxLQUFLaUgsU0FBU2pILEtBQUtpQyxVQUVqQ2pFLE9BM3hDUCxJQTJ4Q2tCQSxFQUF5QmdDLEtBQUtzQyxPQUFPekQsT0FBU21CLEtBQUtpSSxVQUFVakssR0FBVSxHQUNsRndOLEVBQVVBLGFBQW1CekssT0FBU3lLLEVBQVV0TixFQUFFc04sR0FFbER4TCxLQUFLNkosUUFBUSxPQUFTMkIsUUFBU0EsRUFBU3hOLFNBQVVBLElBRWxEd04sRUFBVXhMLEtBQUtxTCxRQUFRRyxHQUVJLElBQXZCeEwsS0FBS3NDLE9BQU96RCxRQUFnQmIsSUFBYWdDLEtBQUtzQyxPQUFPekQsUUFDOUIsSUFBdkJtQixLQUFLc0MsT0FBT3pELFFBQWdCbUIsS0FBS2tILE9BQU81SCxPQUFPa00sR0FDeEIsSUFBdkJ4TCxLQUFLc0MsT0FBT3pELFFBQWdCbUIsS0FBS3NDLE9BQU90RSxFQUFXLEdBQUdxQyxNQUFNbUwsR0FDNUR4TCxLQUFLc0MsT0FBT3ZELEtBQUt5TSxHQUNqQnhMLEtBQUt3QyxTQUFTekQsS0FBK0UsRUFBMUV5TSxFQUFRdEIsS0FBSyxnQkFBZ0I2RixRQUFRLGdCQUFnQjVPLEtBQUssZUFBcUIsS0FFbEduQixLQUFLc0MsT0FBT3RFLEdBQVVpUyxPQUFPekUsR0FDN0J4TCxLQUFLc0MsT0FBTzROLE9BQU9sUyxFQUFVLEVBQUd3TixHQUNoQ3hMLEtBQUt3QyxTQUFTME4sT0FBT2xTLEVBQVUsRUFBNkUsRUFBMUV3TixFQUFRdEIsS0FBSyxnQkFBZ0I2RixRQUFRLGdCQUFnQjVPLEtBQUssZUFBcUIsSUFHckhuQixLQUFLc0MsT0FBT1csSUFBWWpELEtBQUtnSixNQUFNaEosS0FBS3NDLE9BQU9XLEdBQVM0RixTQUV4RDdJLEtBQUt3SyxXQUFXLFNBRWhCeEssS0FBSzZKLFFBQVEsU0FBVzJCLFFBQVNBLEVBQVN4TixTQUFVQSxLQVN4RHVELEVBQUlvSSxVQUFVaEssT0FBUyxTQUFTM0IsUUExekNuQyxLQTJ6Q09BLEVBQVdnQyxLQUFLaUksVUFBVWpLLEdBQVUsTUFNcENnQyxLQUFLNkosUUFBUSxVQUFZMkIsUUFBU3hMLEtBQUtzQyxPQUFPdEUsR0FBV0EsU0FBVUEsSUFFbkVnQyxLQUFLc0MsT0FBT3RFLEdBQVUyQixTQUN0QkssS0FBS3NDLE9BQU80TixPQUFPbFMsRUFBVSxHQUM3QmdDLEtBQUt3QyxTQUFTME4sT0FBT2xTLEVBQVUsR0FFL0JnQyxLQUFLd0ssV0FBVyxTQUVoQnhLLEtBQUs2SixRQUFRLFdBQWEyQixRQUFTLEtBQU14TixTQUFVQSxNQVF2RHVELEVBQUlvSSxVQUFVUSx1QkFBeUIsU0FBU2dHLEdBQzVDQSxFQUFPbFEsS0FBSy9CLEVBQUVzRixNQUFNLFNBQVMxRSxFQUFHMEMsR0FDNUJ4QixLQUFLNEosTUFBTSxlQUNYcEksRUFBVXRELEVBQUVzRCxHQUNadEQsRUFBRSxJQUFJa1MsT0FBUy9DLElBQUksT0FBUW5QLEVBQUVzRixNQUFNLFNBQVM3QyxHQUN4Q2EsRUFBUUwsS0FBSyxNQUFPUixFQUFFRyxPQUFPSSxLQUM3Qk0sRUFBUTRGLElBQUksVUFBVyxHQUN2QnBILEtBQUswSyxNQUFNLGdCQUNWMUssS0FBSytKLEdBQUcsaUJBQW1CL0osS0FBSytKLEdBQUcsaUJBQW1CL0osS0FBS3VLLFdBQzdEdkssT0FBT21CLEtBQUssTUFBT0ssRUFBUUwsS0FBSyxRQUFVSyxFQUFRTCxLQUFLLGFBQWVLLEVBQVFMLEtBQUsscUJBQ3ZGbkIsUUFPUHVCLEVBQUlvSSxVQUFVMEcsUUFBVSxXQUVwQnJRLEtBQUs2QixTQUFTOEwsSUFBSSxhQUNsQjNOLEtBQUtrSCxPQUFPeUcsSUFBSSxhQUNoQnpQLEVBQUVMLEdBQVU4UCxJQUFJLGNBRWlCLElBQTdCM04sS0FBSzBCLFNBQVM0RCxhQUNkbkYsRUFBTzZMLGFBQWFoTSxLQUFLaU0sYUFDekJqTSxLQUFLMk4sSUFBSXhOLEVBQVEsU0FBVUgsS0FBSzhCLFVBQVVpSyxvQkFHOUMsSUFBSyxJQUFJak4sS0FBS2tCLEtBQUsrQixTQUNmL0IsS0FBSytCLFNBQVNqRCxHQUFHdVIsVUFHckJyUSxLQUFLa0gsT0FBTzFHLFNBQVMsV0FBV2IsU0FFaENLLEtBQUtrSCxPQUFPb0osU0FDWnRRLEtBQUtrSCxPQUFPMUcsV0FBVytQLFdBQVdELFNBQ2xDdFEsS0FBS2tILE9BQU8xRyxXQUFXOFAsU0FFdkJ0USxLQUFLNkIsU0FDQTRILFlBQVl6SixLQUFLeUIsUUFBUXFFLGNBQ3pCMkQsWUFBWXpKLEtBQUt5QixRQUFRdUUsY0FDekJ5RCxZQUFZekosS0FBS3lCLFFBQVFzRSxhQUN6QjBELFlBQVl6SixLQUFLeUIsUUFBUXdFLFVBQ3pCd0QsWUFBWXpKLEtBQUt5QixRQUFRMEUsV0FDekJzRCxZQUFZekosS0FBS3lCLFFBQVE4RSxXQUN6QnBGLEtBQUssUUFBU25CLEtBQUs2QixTQUFTVixLQUFLLFNBQVNrSixRQUFRLElBQUlXLE9BQU9oTCxLQUFLeUIsUUFBUXlFLGdCQUFrQixXQUFZLEtBQU0sS0FDOUdzSyxXQUFXLGlCQVVwQmpQLEVBQUlvSSxVQUFVSCxHQUFLLFNBQVNpSCxFQUFHQyxFQUFHQyxHQUM5QixJQUFJekwsRUFBTWxGLEtBQUswQixTQUFTd0QsSUFDeEIsT0FBUXdMLEdBQ0osSUFBSyxJQUNELE9BQU94TCxFQUFNdUwsRUFBSUUsRUFBSUYsRUFBSUUsRUFDN0IsSUFBSyxJQUNELE9BQU96TCxFQUFNdUwsRUFBSUUsRUFBSUYsRUFBSUUsRUFDN0IsSUFBSyxLQUNELE9BQU96TCxFQUFNdUwsR0FBS0UsRUFBSUYsR0FBS0UsRUFDL0IsSUFBSyxLQUNELE9BQU96TCxFQUFNdUwsR0FBS0UsRUFBSUYsR0FBS0UsSUFjdkNwUCxFQUFJb0ksVUFBVWpKLEdBQUssU0FBU2MsRUFBUytKLEVBQU9xRixFQUFVQyxHQUM5Q3JQLEVBQVFzUCxpQkFDUnRQLEVBQVFzUCxpQkFBaUJ2RixFQUFPcUYsRUFBVUMsR0FDbkNyUCxFQUFRdVAsYUFDZnZQLEVBQVF1UCxZQUFZLEtBQU94RixFQUFPcUYsSUFZMUNyUCxFQUFJb0ksVUFBVWdFLElBQU0sU0FBU25NLEVBQVMrSixFQUFPcUYsRUFBVUMsR0FDL0NyUCxFQUFRd1Asb0JBQ1J4UCxFQUFRd1Asb0JBQW9CekYsRUFBT3FGLEVBQVVDLEdBQ3RDclAsRUFBUXlQLGFBQ2Z6UCxFQUFReVAsWUFBWSxLQUFPMUYsRUFBT3FGLElBZTFDclAsRUFBSW9JLFVBQVVFLFFBQVUsU0FBU3FCLEVBQU1PLEVBQU15RixFQUFXbkQsRUFBT25FLEdBQzNELElBQUl1SCxHQUNBN0YsTUFBUThGLE1BQU9wUixLQUFLc0MsT0FBT3pELE9BQVFnSyxNQUFPN0ksS0FBS2lELFlBQ2hEUSxFQUFVdkYsRUFBRW1ULFVBQ1huVCxFQUFFMk4sTUFBTyxLQUFNWCxFQUFNZ0csR0FBYSxTQUFTakQsR0FBSyxPQUFPQSxJQUNsRHZFLEtBQUssS0FBSzVGLGVBQ2hCeUgsRUFBUXJOLEVBQUUySSxPQUNQcUUsRUFBTSxNQUFPZ0csR0FBYSxZQUFheEgsS0FBSyxLQUFLNUYsY0FDbkQ1RixFQUFFeUQsUUFBUzJQLGNBQWV0UixNQUFRbVIsRUFBUTFGLElBa0I5QyxPQWZLekwsS0FBS2dDLFNBQVNrSixLQUNmaE4sRUFBRStCLEtBQUtELEtBQUsrQixTQUFVLFNBQVNtSixFQUFNdEgsR0FDN0JBLEVBQU8yTixXQUNQM04sRUFBTzJOLFVBQVVoRyxLQUl6QnZMLEtBQUt3UixVQUFXdkUsS0FBTTFMLEVBQUlxRixLQUFLQyxNQUFPcUUsS0FBTUEsSUFDNUNsTCxLQUFLNkIsU0FBU2dJLFFBQVEwQixHQUVsQnZMLEtBQUswQixVQUE4QyxtQkFBM0IxQixLQUFLMEIsU0FBUytCLElBQ3RDekQsS0FBSzBCLFNBQVMrQixHQUFTZ08sS0FBS3pSLEtBQU11TCxJQUluQ0EsR0FPWGhLLEVBQUlvSSxVQUFVQyxNQUFRLFNBQVNzQixHQUMzQmhOLEVBQUUrQixNQUFPaUwsR0FBT3dHLE9BQU8xUixLQUFLbUQsUUFBUUMsS0FBSzhILFFBQWNoTixFQUFFc0YsTUFBTSxTQUFTMUUsRUFBR29NLFFBdCtDbEYsSUF1K0NlbEwsS0FBS21ELFFBQVFGLFFBQVFpSSxLQUNyQmxMLEtBQUttRCxRQUFRRixRQUFRaUksR0FBUSxHQUdqQ2xMLEtBQUttRCxRQUFRRixRQUFRaUksTUFDdEJsTCxRQU9QdUIsRUFBSW9JLFVBQVVlLE1BQVEsU0FBU1EsR0FDM0JoTixFQUFFK0IsTUFBT2lMLEdBQU93RyxPQUFPMVIsS0FBS21ELFFBQVFDLEtBQUs4SCxRQUFjaE4sRUFBRXNGLE1BQU0sU0FBUzFFLEVBQUdvTSxHQUN2RWxMLEtBQUttRCxRQUFRRixRQUFRaUksTUFDdEJsTCxRQVFQdUIsRUFBSW9JLFVBQVU2SCxTQUFXLFNBQVNHLEdBQzlCLEdBQUlBLEVBQU8xRSxPQUFTMUwsRUFBSXFGLEtBQUtDLE9BS3pCLEdBSkszSSxFQUFFcU4sTUFBTXFHLFFBQVFELEVBQU96RyxRQUN4QmhOLEVBQUVxTixNQUFNcUcsUUFBUUQsRUFBT3pHLFdBR3RCaE4sRUFBRXFOLE1BQU1xRyxRQUFRRCxFQUFPekcsTUFBTTJHLElBQUssQ0FDbkMsSUFBSUMsRUFBVzVULEVBQUVxTixNQUFNcUcsUUFBUUQsRUFBT3pHLE1BQU00RyxTQUM1QzVULEVBQUVxTixNQUFNcUcsUUFBUUQsRUFBT3pHLE1BQU00RyxTQUFXLFNBQVNuUixHQUM3QyxPQUFJbVIsSUFBWUEsRUFBU0MsT0FBV3BSLEVBQUV1USxZQUE2QyxJQUFoQ3ZRLEVBQUV1USxVQUFVYyxRQUFRLE9BR2hFclIsRUFBRXVRLFdBQWF2USxFQUFFdVEsVUFBVWMsUUFBUSxRQUFVLEVBRnpDRixFQUFTQyxNQUFNL1IsS0FBTWlTLFlBSXBDL1QsRUFBRXFOLE1BQU1xRyxRQUFRRCxFQUFPekcsTUFBTTJHLEtBQU0sUUFFaENGLEVBQU8xRSxPQUFTMUwsRUFBSXFGLEtBQUtFLFFBQzNCOUcsS0FBS21ELFFBQVFDLEtBQUt1TyxFQUFPekcsTUFHMUJsTCxLQUFLbUQsUUFBUUMsS0FBS3VPLEVBQU96RyxNQUFRbEwsS0FBS21ELFFBQVFDLEtBQUt1TyxFQUFPekcsTUFBTXdHLE9BQU9DLEVBQU92TyxNQUY5RXBELEtBQUttRCxRQUFRQyxLQUFLdU8sRUFBT3pHLE1BQVF5RyxFQUFPdk8sS0FLNUNwRCxLQUFLbUQsUUFBUUMsS0FBS3VPLEVBQU96RyxNQUFRaE4sRUFBRTJOLEtBQUs3TCxLQUFLbUQsUUFBUUMsS0FBS3VPLEVBQU96RyxNQUFPaE4sRUFBRXNGLE1BQU0sU0FBUzBPLEVBQUtwVCxHQUMxRixPQUFPWixFQUFFaVUsUUFBUUQsRUFBS2xTLEtBQUttRCxRQUFRQyxLQUFLdU8sRUFBT3pHLFNBQVdwTSxHQUMzRGtCLFNBU1h1QixFQUFJb0ksVUFBVXVFLFNBQVcsU0FBU2tFLEdBQzlCbFUsRUFBRStCLEtBQUttUyxFQUFRbFUsRUFBRXNGLE1BQU0sU0FBU3FGLEVBQU8wQyxHQUNuQ3ZMLEtBQUtnQyxTQUFTdUosSUFBUyxHQUN4QnZMLFFBUVB1QixFQUFJb0ksVUFBVXdFLFFBQVUsU0FBU2lFLEdBQzdCbFUsRUFBRStCLEtBQUttUyxFQUFRbFUsRUFBRXNGLE1BQU0sU0FBU3FGLEVBQU8wQyxVQUM1QnZMLEtBQUtnQyxTQUFTdUosSUFDdEJ2TCxRQVVQdUIsRUFBSW9JLFVBQVU3RyxRQUFVLFNBQVN5SSxHQUM3QixJQUFJOEcsR0FBVzFGLEVBQUcsS0FBTUUsRUFBRyxNQWdCM0IsT0FkQXRCLEVBQVFBLEVBQU0rRyxlQUFpQi9HLEdBQVNwTCxFQUFPb0wsT0FFL0NBLEVBQVFBLEVBQU1nSCxTQUFXaEgsRUFBTWdILFFBQVExVCxPQUNuQzBNLEVBQU1nSCxRQUFRLEdBQUtoSCxFQUFNaUgsZ0JBQWtCakgsRUFBTWlILGVBQWUzVCxPQUM1RDBNLEVBQU1pSCxlQUFlLEdBQUtqSCxHQUV4QmtILE9BQ05KLEVBQU8xRixFQUFJcEIsRUFBTWtILE1BQ2pCSixFQUFPeEYsRUFBSXRCLEVBQU1tSCxRQUVqQkwsRUFBTzFGLEVBQUlwQixFQUFNb0gsUUFDakJOLEVBQU94RixFQUFJdEIsRUFBTXFILFNBR2RQLEdBU1g5USxFQUFJb0ksVUFBVTBFLFVBQVksU0FBU3dFLEdBQy9CLE9BQVF0UyxNQUFNdVMsV0FBV0QsS0FXN0J0UixFQUFJb0ksVUFBVTRELFdBQWEsU0FBU3dGLEVBQU9DLEdBQ3ZDLE9BQ0lyRyxFQUFHb0csRUFBTXBHLEVBQUlxRyxFQUFPckcsRUFDcEJFLEVBQUdrRyxFQUFNbEcsRUFBSW1HLEVBQU9uRyxJQVM1QjNPLEVBQUVvQyxHQUFHMlMsWUFBYyxTQUFTQyxHQUN4QixJQUFJQyxFQUFPQyxNQUFNekosVUFBVS9LLE1BQU02UyxLQUFLUSxVQUFXLEdBRWpELE9BQU9qUyxLQUFLQyxLQUFLLFdBQ2IsSUFBSW9ULEVBQVFuVixFQUFFOEIsTUFDVnlMLEVBQU80SCxFQUFNNUgsS0FBSyxnQkFFakJBLElBQ0RBLEVBQU8sSUFBSWxLLEVBQUl2QixLQUF1QixpQkFBVmtULEdBQXNCQSxHQUNsREcsRUFBTTVILEtBQUssZUFBZ0JBLEdBRTNCdk4sRUFBRStCLE1BQ0UsT0FBUSxPQUFRLEtBQU0sVUFBVyxVQUFXLFVBQVcsTUFBTyxVQUMvRCxTQUFTbkIsRUFBR3lNLEdBQ1hFLEVBQUsrRixVQUFXdkUsS0FBTTFMLEVBQUlxRixLQUFLQyxNQUFPcUUsS0FBTUssSUFDNUNFLEVBQUs1SixTQUFTbkIsR0FBRzZLLEVBQVEscUJBQXNCck4sRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ3hEQSxFQUFFdVEsV0FBYXZRLEVBQUUyUSxnQkFBa0J0UixPQUNuQ0EsS0FBS2tPLFVBQVczQyxJQUNoQkUsRUFBS0YsR0FBT3dHLE1BQU0vUixRQUFTcEIsTUFBTTZTLEtBQUtRLFVBQVcsSUFDakRqUyxLQUFLbU8sU0FBVTVDLE1BRXBCRSxPQUlVLGlCQUFWeUgsR0FBMkMsTUFBckJBLEVBQU9yUCxPQUFPLElBQzNDNEgsRUFBS3lILEdBQVFuQixNQUFNdEcsRUFBTTBILE1BU3JDalYsRUFBRW9DLEdBQUcyUyxZQUFZSyxZQUFjL1IsRUE3b0RsQyxDQStvREVwQixPQUFPb1QsT0FBU3BULE9BQU9ZLE9BQVFaLE9BQVF0QyxVQVN6QyxTQUFVSyxFQUFHaUMsRUFBUXRDLEVBQVVxQyxHQU81QixJQUFJc1QsRUFBYyxTQUFTQyxHQU12QnpULEtBQUswVCxNQUFRRCxFQU9ielQsS0FBSzJULFVBQVksS0FPakIzVCxLQUFLNFQsU0FBVyxLQU9oQjVULEtBQUs4QixXQUNEK1IsMkJBQTRCM1YsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ3JDQSxFQUFFdVEsV0FBYWxSLEtBQUswVCxNQUFNaFMsU0FBU29TLGFBQ25DOVQsS0FBSytULFNBRVYvVCxPQUlQQSxLQUFLMFQsTUFBTWpTLFFBQVV2RCxFQUFFeUQsVUFBVzZSLEVBQVk1UixTQUFVNUIsS0FBSzBULE1BQU1qUyxTQUduRXpCLEtBQUswVCxNQUFNN1IsU0FBU25CLEdBQUdWLEtBQUs4QixZQU9oQzBSLEVBQVk1UixVQUNSa1MsYUFBYSxFQUNiRSxvQkFBcUIsS0FNekJSLEVBQVk3SixVQUFVb0ssTUFBUSxXQUN0Qi9ULEtBQUsyVCxZQUlUM1QsS0FBSzRULFNBQVc1VCxLQUFLMFQsTUFBTTdSLFNBQVNrSSxHQUFHLFlBQ3ZDL0osS0FBSzJULFVBQVl4VCxFQUFPOFQsWUFBWS9WLEVBQUVzRixNQUFNeEQsS0FBS3VLLFFBQVN2SyxNQUFPQSxLQUFLMFQsTUFBTWhTLFNBQVNzUyx1QkFNekZSLEVBQVk3SixVQUFVWSxRQUFVLFdBQ3hCdkssS0FBSzBULE1BQU03UixTQUFTa0ksR0FBRyxjQUFnQi9KLEtBQUs0VCxXQUloRDVULEtBQUs0VCxVQUFZNVQsS0FBSzRULFNBRXRCNVQsS0FBSzBULE1BQU03UixTQUFTaUksWUFBWSxjQUFlOUosS0FBSzRULFVBRXBENVQsS0FBSzRULFVBQWE1VCxLQUFLMFQsTUFBTWxKLFdBQVcsVUFBWXhLLEtBQUswVCxNQUFNbkosWUFNbkVpSixFQUFZN0osVUFBVTBHLFFBQVUsV0FDNUIsSUFBSTVNLEVBQVN3SCxFQUViOUssRUFBTytULGNBQWNsVSxLQUFLMlQsV0FFMUIsSUFBS2xRLEtBQVd6RCxLQUFLOEIsVUFDakI5QixLQUFLMFQsTUFBTTdSLFNBQVM4TCxJQUFJbEssRUFBU3pELEtBQUs4QixVQUFVMkIsSUFFcEQsSUFBS3dILEtBQVlrSixPQUFPQyxvQkFBb0JwVSxNQUNmLG1CQUFsQkEsS0FBS2lMLEtBQTRCakwsS0FBS2lMLEdBQVksT0FJakUvTSxFQUFFb0MsR0FBRzJTLFlBQVlLLFlBQVk1UCxRQUFROFAsWUFBY0EsRUFyR3RELENBdUdFclQsT0FBT29ULE9BQVNwVCxPQUFPWSxPQUFRWixPQUFRdEMsVUFTekMsU0FBVUssRUFBR2lDLEVBQVF0QyxFQUFVcUMsR0FPNUIsSUFBSW1VLEVBQU8sU0FBU1osR0FPaEJ6VCxLQUFLMFQsTUFBUUQsRUFPYnpULEtBQUtzVSxXQU9MdFUsS0FBSzhCLFdBQ0R5UyxvRUFBcUVyVyxFQUFFc0YsTUFBTSxTQUFTN0MsR0FDbEYsR0FBS0EsRUFBRXVRLFdBSUZsUixLQUFLMFQsTUFBTWhTLFVBQWExQixLQUFLMFQsTUFBTWhTLFNBQVM4UyxXQUk1QzdULEVBQUVzSyxVQUErQixZQUFuQnRLLEVBQUVzSyxTQUFTQyxNQUFpQyxlQUFWdkssRUFBRXNNLE1BUW5ELElBUEEsSUFBSXZMLEVBQVcxQixLQUFLMFQsTUFBTWhTLFNBQ3RCMEgsRUFBSzFILEVBQVN0RSxRQUFVNkIsS0FBS0MsS0FBS3dDLEVBQVNoRCxNQUFRLElBQU1nRCxFQUFTaEQsTUFDbEVJLEVBQU00QyxFQUFTdEUsU0FBZSxFQUFMZ00sR0FBVyxFQUNwQ3BMLEdBQVkyQyxFQUFFc0ssZUExQ3JDLElBMENpRHRLLEVBQUVzSyxTQUFTRSxNQUFzQnhLLEVBQUVzSyxTQUFTRSxNQUFRbkwsS0FBSzBULE1BQU16USxXQUFhbkUsRUFDdEc2SSxFQUFTM0gsS0FBSzBULE1BQU0vTCxTQUFTOUksT0FDN0I0VixFQUFPdlcsRUFBRXNGLE1BQU0sU0FBUzFFLEVBQUdtUCxHQUFLak8sS0FBS3lVLEtBQUt4RyxJQUFNak8sTUFFN0NsQixJQUFNc0ssR0FDVHBKLEtBQUt5VSxLQUFLOU0sRUFBUyxFQUFJM0gsS0FBSzBULE1BQU16TSxTQUFTakosSUFDM0MySixHQUFVekosRUFBRStCLEtBQUtELEtBQUswVCxNQUFNL0wsT0FBTzNILEtBQUswVCxNQUFNek0sU0FBU2pKLElBQVl5VyxHQUNuRXpXLEtBR1RnQyxPQUlQQSxLQUFLMFQsTUFBTWpTLFFBQVV2RCxFQUFFeUQsVUFBVzBTLEVBQUt6UyxTQUFVNUIsS0FBSzBULE1BQU1qUyxTQUc1RHpCLEtBQUswVCxNQUFNN1IsU0FBU25CLEdBQUdWLEtBQUs4QixZQU9oQ3VTLEVBQUt6UyxVQUNENFMsVUFBVSxHQVFkSCxFQUFLMUssVUFBVThLLEtBQU8sU0FBU3pXLEdBQzNCLElBQUkwVyxFQUFRMVUsS0FBSzBULE1BQU14TSxPQUFPMUcsV0FBV21JLEdBQUczSyxHQUN4QzJXLEVBQVlELEdBQVNBLEVBQU14SyxLQUFLLGNBRS9CeUssR0FBYXpXLEVBQUVpVSxRQUFRdUMsRUFBTWxGLElBQUksR0FBSXhQLEtBQUtzVSxVQUFZLElBSTNESyxFQUFVMVUsS0FBSy9CLEVBQUVzRixNQUFNLFNBQVNxRixFQUFPckgsR0FDbkMsSUFBMkJvVCxFQUF2Qi9TLEVBQVczRCxFQUFFc0QsR0FDYnFULEVBQU8xVSxFQUFPMlUsaUJBQW1CLEdBQUtqVCxFQUFTVixLQUFLLG9CQUF1QlUsRUFBU1YsS0FBSyxZQUU3Rm5CLEtBQUswVCxNQUFNN0osUUFBUSxRQUFVckksUUFBU0ssRUFBVWdULElBQUtBLEdBQU8sUUFFeERoVCxFQUFTa0ksR0FBRyxPQUNabEksRUFBU3dMLElBQUksZ0JBQWlCblAsRUFBRXNGLE1BQU0sV0FDbEMzQixFQUFTdUYsSUFBSSxVQUFXLEdBQ3hCcEgsS0FBSzBULE1BQU03SixRQUFRLFVBQVlySSxRQUFTSyxFQUFVZ1QsSUFBS0EsR0FBTyxTQUMvRDdVLE9BQU9tQixLQUFLLE1BQU8wVCxLQUV0QkQsRUFBUSxJQUFJeEUsT0FDTjJFLE9BQVM3VyxFQUFFc0YsTUFBTSxXQUNuQjNCLEVBQVN1RixLQUNMNE4sbUJBQW9CLFFBQVVILEVBQU0sS0FDcENJLFFBQVcsTUFFZmpWLEtBQUswVCxNQUFNN0osUUFBUSxVQUFZckksUUFBU0ssRUFBVWdULElBQUtBLEdBQU8sU0FDL0Q3VSxNQUNINFUsRUFBTTFULElBQU0yVCxJQUVqQjdVLE9BRUhBLEtBQUtzVSxRQUFRdlYsS0FBSzJWLEVBQU1sRixJQUFJLE1BT2hDNkUsRUFBSzFLLFVBQVUwRyxRQUFVLFdBQ3JCLElBQUk1TSxFQUFTd0gsRUFFYixJQUFLeEgsS0FBV3pELEtBQUtrVixTQUNqQmxWLEtBQUswVCxNQUFNN1IsU0FBUzhMLElBQUlsSyxFQUFTekQsS0FBS2tWLFNBQVN6UixJQUVuRCxJQUFLd0gsS0FBWWtKLE9BQU9DLG9CQUFvQnBVLE1BQ2YsbUJBQWxCQSxLQUFLaUwsS0FBNEJqTCxLQUFLaUwsR0FBWSxPQUlqRS9NLEVBQUVvQyxHQUFHMlMsWUFBWUssWUFBWTVQLFFBQVEyUSxLQUFPQSxFQTdIL0MsQ0ErSEVsVSxPQUFPb1QsT0FBU3BULE9BQU9ZLE9BQVFaLE9BQVF0QyxVQVN6QyxTQUFVSyxFQUFHaUMsRUFBUXRDLEVBQVVxQyxHQU81QixJQUFJaVYsRUFBYSxTQUFTMUIsR0FNdEJ6VCxLQUFLMFQsTUFBUUQsRUFPYnpULEtBQUs4QixXQUNEc1Qsa0RBQW1EbFgsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQzVEQSxFQUFFdVEsV0FBYWxSLEtBQUswVCxNQUFNaFMsU0FBUzJULFlBQ25DclYsS0FBSzBMLFVBRVYxTCxNQUNIc1YsdUJBQXdCcFgsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ2pDQSxFQUFFdVEsV0FBYWxSLEtBQUswVCxNQUFNaFMsU0FBUzJULFlBQWlDLFlBQW5CMVUsRUFBRXNLLFNBQVNDLE1BQzVEbEwsS0FBSzBMLFVBRVYxTCxNQUNIdVYsa0JBQW1CclgsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQzVCQSxFQUFFdVEsV0FBYWxSLEtBQUswVCxNQUFNaFMsU0FBUzJULFlBQ2hDMVUsRUFBRWEsUUFBUW9NLFFBQVEsSUFBTTVOLEtBQUswVCxNQUFNaFMsU0FBUzBFLFdBQVd5QyxVQUFZN0ksS0FBSzBULE1BQU16USxXQUNqRmpELEtBQUswTCxVQUVWMUwsT0FJUEEsS0FBSzBULE1BQU1qUyxRQUFVdkQsRUFBRXlELFVBQVd3VCxFQUFXdlQsU0FBVTVCLEtBQUswVCxNQUFNalMsU0FHbEV6QixLQUFLMFQsTUFBTTdSLFNBQVNuQixHQUFHVixLQUFLOEIsWUFPaENxVCxFQUFXdlQsVUFDUHlULFlBQVksRUFDWkcsZ0JBQWlCLGNBTXJCTCxFQUFXeEwsVUFBVStCLE9BQVMsV0FDMUIsSUFBSTFJLEVBQVFoRCxLQUFLMFQsTUFBTXpSLFNBQ25CcUgsRUFBTXRHLEVBQVFoRCxLQUFLMFQsTUFBTWhTLFNBQVNoRCxNQUNsQytXLEVBQVV6VixLQUFLMFQsTUFBTXhNLE9BQU8xRyxXQUFXVCxVQUFVbkIsTUFBTW9FLEVBQU9zRyxHQUM5RG9NLEtBQ0FDLEVBQVksRUFFaEJ6WCxFQUFFK0IsS0FBS3dWLEVBQVMsU0FBUzVNLEVBQU95QyxHQUM1Qm9LLEVBQVEzVyxLQUFLYixFQUFFb04sR0FBTXNLLFlBR3pCRCxFQUFZMVcsS0FBSzRJLElBQUlrSyxNQUFNLEtBQU0yRCxHQUVqQzFWLEtBQUswVCxNQUFNeE0sT0FBT3JILFNBQ2IrVixPQUFPRCxHQUNQblcsU0FBU1EsS0FBSzBULE1BQU1oUyxTQUFTOFQsa0JBR3RDTCxFQUFXeEwsVUFBVTBHLFFBQVUsV0FDM0IsSUFBSTVNLEVBQVN3SCxFQUViLElBQUt4SCxLQUFXekQsS0FBSzhCLFVBQ2pCOUIsS0FBSzBULE1BQU03UixTQUFTOEwsSUFBSWxLLEVBQVN6RCxLQUFLOEIsVUFBVTJCLElBRXBELElBQUt3SCxLQUFZa0osT0FBT0Msb0JBQW9CcFUsTUFDZixtQkFBbEJBLEtBQUtpTCxLQUE0QmpMLEtBQUtpTCxHQUFZLE9BSWpFL00sRUFBRW9DLEdBQUcyUyxZQUFZSyxZQUFZNVAsUUFBUXlSLFdBQWFBLEVBdkZyRCxDQXlGRWhWLE9BQU9vVCxPQUFTcFQsT0FBT1ksT0FBUVosT0FBUXRDLFVBU3pDLFNBQVVLLEVBQUdpQyxFQUFRdEMsRUFBVXFDLEdBTzVCLElBQUkyVixFQUFRLFNBQVNwQyxHQU1qQnpULEtBQUswVCxNQUFRRCxFQU9ielQsS0FBSzhWLFdBT0w5VixLQUFLK1YsU0FBVyxLQVFoQi9WLEtBQUs4QixXQUNEK1IsMkJBQTRCM1YsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ3JDQSxFQUFFdVEsV0FDRmxSLEtBQUswVCxNQUFNbEMsVUFBV3ZFLEtBQU0sUUFBUy9CLEtBQU0sVUFBVzlILE1BQVEsa0JBRW5FcEQsTUFDSGdXLHNCQUF1QjlYLEVBQUVzRixNQUFNLFNBQVM3QyxHQUNoQ0EsRUFBRXVRLFdBQWFsUixLQUFLMFQsTUFBTWhTLFNBQVN1VSxPQUFTalcsS0FBS2tXLGtCQUNqRHZWLEVBQUU4TSxrQkFFUHpOLE1BQ0htVyx5QkFBMEJqWSxFQUFFc0YsTUFBTSxTQUFTN0MsR0FDbkNBLEVBQUV1USxXQUFhbFIsS0FBSzBULE1BQU0zSixHQUFHLGFBQzdCL0osS0FBSzBULE1BQU14TSxPQUFPZ0QsS0FBSyw0QkFBNEJ2SyxVQUV4REssTUFDSHNWLHVCQUF3QnBYLEVBQUVzRixNQUFNLFNBQVM3QyxHQUNqQ0EsRUFBRXVRLFdBQWlDLGFBQXBCdlEsRUFBRXNLLFNBQVNDLE1BQXVCbEwsS0FBSytWLFVBQ3REL1YsS0FBS2dOLFFBRVZoTixNQUNIb1csd0JBQXlCbFksRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ3RDLEdBQUtBLEVBQUV1USxVQUFQLENBSUEsSUFBSXJQLEVBQVczRCxFQUFFeUMsRUFBRTZLLFNBQVN0QixLQUFLLGNBRTdCckksRUFBU2hELFNBQ1RnRCxFQUFTdUYsSUFBSSxVQUFXLFFBQ3hCcEgsS0FBS3FXLE1BQU14VSxFQUFVM0QsRUFBRXlDLEVBQUU2SyxhQUU5QnhMLE9BSVBBLEtBQUswVCxNQUFNalMsUUFBVXZELEVBQUV5RCxVQUFXa1UsRUFBTWpVLFNBQVU1QixLQUFLMFQsTUFBTWpTLFNBRzdEekIsS0FBSzBULE1BQU03UixTQUFTbkIsR0FBR1YsS0FBSzhCLFdBRTVCOUIsS0FBSzBULE1BQU03UixTQUFTbkIsR0FBRyxrQkFBbUIsdUJBQXdCeEMsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQy9FWCxLQUFLc1csS0FBSzNWLElBQ1hYLFFBT1A2VixFQUFNalUsVUFDRnFVLE9BQU8sRUFDUE0sYUFBYSxFQUNiQyxZQUFZLEdBU2hCWCxFQUFNbE0sVUFBVTBNLE1BQVEsU0FBU3ZWLEVBQVF3SyxHQUNyQyxJQUFJMkIsRUFDUW5NLEVBQU9LLEtBQUssaUJBQ0wsUUFDQUwsRUFBT0ssS0FBSyxpQkFDWixRQUVBLFVBR2ZzVixFQUFLM1YsRUFBT0ssS0FBSyxrQkFBb0JMLEVBQU9LLEtBQUssb0JBQXNCTCxFQUFPSyxLQUFLLGlCQUNuRjRGLEVBQVFqRyxFQUFPSyxLQUFLLGVBQWlCbkIsS0FBSzBULE1BQU1oUyxTQUFTOFUsV0FDekRaLEVBQVM5VSxFQUFPSyxLQUFLLGdCQUFrQm5CLEtBQUswVCxNQUFNaFMsU0FBUzZVLFlBQzNEMUIsRUFBTS9ULEVBQU9LLEtBQUssUUFFdEIsSUFBSTBULEVBMEJBLE1BQU0sSUFBSTZCLE1BQU0sc0JBWGhCLElBRkFELEVBQUs1QixFQUFJaEssTUFBTSw0TUFFUixHQUFHbUgsUUFBUSxVQUFZLEVBQzFCL0UsRUFBTyxlQUNKLEdBQUl3SixFQUFHLEdBQUd6RSxRQUFRLFVBQVksRUFDakMvRSxFQUFPLFlBQ0osQ0FBQSxLQUFJd0osRUFBRyxHQUFHekUsUUFBUSxVQUFZLEdBR2pDLE1BQU0sSUFBSTBFLE1BQU0sNEJBRmhCekosRUFBTyxRQUlYd0osRUFBS0EsRUFBRyxHQUtaelcsS0FBSzhWLFFBQVFqQixJQUNUNUgsS0FBTUEsRUFDTndKLEdBQUlBLEVBQ0oxUCxNQUFPQSxFQUNQNk8sT0FBUUEsR0FHWnRLLEVBQUtuSyxLQUFLLGFBQWMwVCxHQUV4QjdVLEtBQUsyVyxVQUFVN1YsRUFBUWQsS0FBSzhWLFFBQVFqQixLQVV4Q2dCLEVBQU1sTSxVQUFVZ04sVUFBWSxTQUFTN1YsRUFBUW1WLEdBQ3pDLElBQUlXLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQWFkLEVBQU1sUCxPQUFTa1AsRUFBTUwsT0FBUyxnQkFBa0JLLEVBQU1sUCxNQUFRLGFBQWVrUCxFQUFNTCxPQUFTLE9BQVMsR0FDbEhvQixFQUFXbFcsRUFBT29KLEtBQUssT0FDdkIrTSxFQUFVLE1BQ1ZDLEVBQVksR0FDWnhWLEVBQVcxQixLQUFLMFQsTUFBTWhTLFNBQ3RCeVYsRUFBUyxTQUFTTCxHQUNkRCxFQUFPLDBDQUdIRCxFQURBbFYsRUFBUzhTLFNBQ0EsNEJBQThCMEMsRUFBWSxLQUFPRCxFQUFVLEtBQU9ILEVBQU8sV0FFekUsbUVBQXFFQSxFQUFPLFlBRXpGaFcsRUFBT1QsTUFBTXVXLEdBQ2I5VixFQUFPVCxNQUFNd1csSUFZckIsR0FSQS9WLEVBQU9zSixLQUFLLGlDQUFtQzJNLEVBQWEsV0FFeEQvVyxLQUFLMFQsTUFBTWhTLFNBQVM4UyxXQUNwQnlDLEVBQVUsV0FDVkMsRUFBWSxZQUlaRixFQUFTblksT0FHVCxPQUZBc1ksRUFBT0gsRUFBUzdWLEtBQUs4VixJQUNyQkQsRUFBU3JYLFVBQ0YsRUFHUSxZQUFmc1csRUFBTWhKLE1BQ042SixFQUFPLHdCQUEwQmIsRUFBTVEsR0FBSyxpQkFDNUNVLEVBQU9MLElBQ2UsVUFBZmIsRUFBTWhKLEtBQ2IvTyxFQUFFa1osTUFDRW5LLEtBQU0sTUFDTjRILElBQUssNEJBQThCb0IsRUFBTVEsR0FBSyxRQUM5Q1ksTUFBTyxXQUNQQyxTQUFVLFFBQ1ZDLFFBQVMsU0FBUzlMLEdBQ2RxTCxFQUFPckwsRUFBSyxHQUFHK0wsZ0JBQ2ZMLEVBQU9MLE1BR08sVUFBZmIsRUFBTWhKLE1BQ2IvTyxFQUFFa1osTUFDRW5LLEtBQU0sTUFDTjRILElBQUssMEJBQTRCb0IsRUFBTVEsR0FBSyxRQUM1Q1ksTUFBTyxXQUNQQyxTQUFVLFFBQ1ZDLFFBQVMsU0FBUzlMLEdBQ2RxTCxFQUFPckwsRUFBS2dNLGNBQ1pOLEVBQU9MLE9BVXZCakIsRUFBTWxNLFVBQVVxRCxLQUFPLFdBQ25CaE4sS0FBSzBULE1BQU03SixRQUFRLE9BQVEsS0FBTSxTQUNqQzdKLEtBQUsrVixTQUFTN0wsS0FBSyxvQkFBb0J2SyxTQUN2Q0ssS0FBSytWLFNBQVN0TSxZQUFZLHFCQUMxQnpKLEtBQUsrVixTQUFXLEtBQ2hCL1YsS0FBSzBULE1BQU1oSixNQUFNLFdBQ2pCMUssS0FBSzBULE1BQU03SixRQUFRLFVBQVcsS0FBTSxVQVF4Q2dNLEVBQU1sTSxVQUFVMk0sS0FBTyxTQUFTL0ssR0FDNUIsSUFLSW1NLEVBSkFwTSxFQURTcE4sRUFBRXFOLEVBQU16SyxRQUNIOE0sUUFBUSxJQUFNNU4sS0FBSzBULE1BQU1oUyxTQUFTMEUsV0FDaEQ2UCxFQUFRalcsS0FBSzhWLFFBQVF4SyxFQUFLbkssS0FBSyxlQUMvQjRGLEVBQVFrUCxFQUFNbFAsT0FBUyxPQUN2QjZPLEVBQVNLLEVBQU1MLFFBQVU1VixLQUFLMFQsTUFBTXhNLE9BQU8wTyxTQUczQzVWLEtBQUsrVixXQUlUL1YsS0FBSzBULE1BQU05SixNQUFNLFdBQ2pCNUosS0FBSzBULE1BQU03SixRQUFRLE9BQVEsS0FBTSxTQUVqQ3lCLEVBQU90TCxLQUFLMFQsTUFBTWhWLE1BQU1zQixLQUFLMFQsTUFBTXpNLFNBQVNxRSxFQUFLekMsVUFFakQ3SSxLQUFLMFQsTUFBTTFLLE1BQU1zQyxFQUFLekMsU0FFSCxZQUFmb04sRUFBTWhKLEtBQ055SyxFQUFPLGtCQUFvQjNRLEVBQVEsYUFBZTZPLEVBQVMsa0NBQ3ZESyxFQUFNUSxHQUFLLHVCQUF5QlIsRUFBTVEsR0FBSyw4Q0FDN0IsVUFBZlIsRUFBTWhKLEtBQ2J5SyxFQUFPLHlDQUEyQ3pCLEVBQU1RLEdBQ3BELHVCQUF5QjFQLEVBQVEsYUFBZTZPLEVBQ2hELHVGQUNrQixVQUFmSyxFQUFNaEosT0FDYnlLLEVBQU8sa0NBQXlDOUIsRUFBUyxXQUFrQjdPLEVBQ3ZFLG9GQUMyQmtQLEVBQU1RLEdBQUssb0NBRzlDdlksRUFBRSxnQ0FBa0N3WixFQUFPLFVBQVVDLFlBQVlyTSxFQUFLcEIsS0FBSyxlQUUzRWxLLEtBQUsrVixTQUFXekssRUFBSzlMLFNBQVMsdUJBU2xDcVcsRUFBTWxNLFVBQVV1TSxlQUFpQixXQUM3QixJQUFJMVUsRUFBVTNELEVBQVMrWixtQkFBcUIvWixFQUFTZ2Esc0JBQ2pEaGEsRUFBU2lhLHdCQUViLE9BQU90VyxHQUFXdEQsRUFBRXNELEdBQVMzQixTQUFTa1ksU0FBUyxvQkFNbkRsQyxFQUFNbE0sVUFBVTBHLFFBQVUsV0FDdEIsSUFBSTVNLEVBQVN3SCxFQUViakwsS0FBSzBULE1BQU03UixTQUFTOEwsSUFBSSxtQkFFeEIsSUFBS2xLLEtBQVd6RCxLQUFLOEIsVUFDakI5QixLQUFLMFQsTUFBTTdSLFNBQVM4TCxJQUFJbEssRUFBU3pELEtBQUs4QixVQUFVMkIsSUFFcEQsSUFBS3dILEtBQVlrSixPQUFPQyxvQkFBb0JwVSxNQUNmLG1CQUFsQkEsS0FBS2lMLEtBQTRCakwsS0FBS2lMLEdBQVksT0FJakUvTSxFQUFFb0MsR0FBRzJTLFlBQVlLLFlBQVk1UCxRQUFRbVMsTUFBUUEsRUFwVGhELENBc1RFMVYsT0FBT29ULE9BQVNwVCxPQUFPWSxPQUFRWixPQUFRdEMsVUFTekMsU0FBVUssRUFBR2lDLEVBQVF0QyxFQUFVcUMsR0FPNUIsSUFBSThYLEVBQVUsU0FBU0MsR0FDbkJqWSxLQUFLa1ksS0FBT0QsRUFDWmpZLEtBQUtrWSxLQUFLelcsUUFBVXZELEVBQUV5RCxVQUFXcVcsRUFBUXBXLFNBQVU1QixLQUFLa1ksS0FBS3pXLFNBQzdEekIsS0FBS21ZLFVBQVcsRUFDaEJuWSxLQUFLcUksY0FYWixFQVlPckksS0FBS21QLFVBWlosRUFjT25QLEtBQUtrVixVQUNEa0Qsc0JBQXVCbGEsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ2hDQSxFQUFFdVEsV0FBZ0MsWUFBbkJ2USxFQUFFc0ssU0FBU0MsT0FDMUJsTCxLQUFLcUksU0FBV3JJLEtBQUtrWSxLQUFLalYsVUFDMUJqRCxLQUFLbVAsS0FBT3hPLEVBQUVzSyxTQUFTRSxRQUU1Qm5MLE1BQ0hxWSxpRUFBa0VuYSxFQUFFc0YsTUFBTSxTQUFTN0MsR0FDM0VBLEVBQUV1USxZQUNGbFIsS0FBS21ZLFNBQXFCLGNBQVZ4WCxFQUFFc00sT0FFdkJqTixNQUNIc1kseUJBQTBCcGEsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ25DQSxFQUFFdVEsV0FBYWxSLEtBQUttWSxXQUFhblksS0FBS2tZLEtBQUt6VyxRQUFROFcsWUFBY3ZZLEtBQUtrWSxLQUFLelcsUUFBUStXLFlBQ25GeFksS0FBS3lZLFFBRVZ6WSxPQUdQQSxLQUFLa1ksS0FBS3JXLFNBQVNuQixHQUFHVixLQUFLa1YsV0FPL0I4QyxFQUFRcFcsVUFDSjJXLFlBQVksRUFDWkMsV0FBVyxHQVFmUixFQUFRck8sVUFBVThPLEtBQU8sV0FFckIsR0FBaUMsSUFBN0J6WSxLQUFLa1ksS0FBS3hXLFNBQVNoRCxPQUlsQlIsRUFBRWtPLFFBQVFzTSxXQUFjeGEsRUFBRWtPLFFBQVFDLFdBQXZDLENBSUFyTSxLQUFLa1ksS0FBS2hMLE1BQU0sR0FFaEIsSUFBSUosRUFDQTZMLEVBQVF6YSxFQUFFc0YsTUFBTXhELEtBQUsyWSxNQUFPM1ksTUFDNUJxSSxFQUFXckksS0FBS2tZLEtBQUtoUixPQUFPMUcsV0FBV21JLEdBQUczSSxLQUFLcUksVUFDL0M4RyxFQUFPblAsS0FBS2tZLEtBQUtoUixPQUFPMUcsV0FBV21JLEdBQUczSSxLQUFLbVAsTUFDM0N5SixFQUFXNVksS0FBS2tZLEtBQUt4VyxTQUFTOFcsVUFDOUJLLEVBQVc3WSxLQUFLa1ksS0FBS3hXLFNBQVM2VyxXQUU5QnZZLEtBQUtrWSxLQUFLalYsWUFBY2pELEtBQUtxSSxXQUk3QndRLElBQ0EvTCxFQUFPOU0sS0FBS2tZLEtBQUs1UCxZQUFZdEksS0FBS3FJLFVBQVlySSxLQUFLa1ksS0FBSzVQLFlBQVl0SSxLQUFLbVAsTUFDekU5RyxFQUFTZ0YsSUFBSW5QLEVBQUVrTyxRQUFRc00sVUFBVXBQLElBQUtxUCxHQUNqQ3ZSLEtBQU8wRixLQUFRQSxFQUFPLE9BQ3RCdE4sU0FBUyw2QkFDVEEsU0FBU3FaLElBR2RELEdBQ0F6SixFQUFLOUIsSUFBSW5QLEVBQUVrTyxRQUFRc00sVUFBVXBQLElBQUtxUCxHQUM3Qm5aLFNBQVMsNEJBQ1RBLFNBQVNvWixNQUl0QlosRUFBUXJPLFVBQVVnUCxNQUFRLFNBQVNoWSxHQUMvQnpDLEVBQUV5QyxFQUFFRyxRQUFRc0csS0FBTzBGLEtBQVEsS0FDdEJyRCxZQUFZLDZDQUNaQSxZQUFZekosS0FBS2tZLEtBQUt4VyxTQUFTOFcsV0FDL0IvTyxZQUFZekosS0FBS2tZLEtBQUt4VyxTQUFTNlcsWUFDcEN2WSxLQUFLa1ksS0FBSzVMLG1CQU9kMEwsRUFBUXJPLFVBQVUwRyxRQUFVLFdBQ3hCLElBQUk1TSxFQUFTd0gsRUFFYixJQUFLeEgsS0FBV3pELEtBQUtrVixTQUNqQmxWLEtBQUtrWSxLQUFLclcsU0FBUzhMLElBQUlsSyxFQUFTekQsS0FBS2tWLFNBQVN6UixJQUVsRCxJQUFLd0gsS0FBWWtKLE9BQU9DLG9CQUFvQnBVLE1BQ2YsbUJBQWxCQSxLQUFLaUwsS0FBNEJqTCxLQUFLaUwsR0FBWSxPQUlqRS9NLEVBQUVvQyxHQUFHMlMsWUFBWUssWUFBWTVQLFFBQVFzVSxRQUFVQSxFQS9HbEQsQ0FpSEU3WCxPQUFPb1QsT0FBU3BULE9BQU9ZLE9BQVFaLE9BQVF0QyxVQVV6QyxTQUFVSyxFQUFHaUMsRUFBUXRDLEVBQVVxQyxHQU81QixJQUFJNFksRUFBVyxTQUFTckYsR0FNcEJ6VCxLQUFLMFQsTUFBUUQsRUFNYnpULEtBQUsrWSxTQUFXLEtBTWhCL1ksS0FBS2daLFNBQVUsRUFPZmhaLEtBQUs4QixXQUNEd1QsdUJBQXdCcFgsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ2pDQSxFQUFFdVEsV0FBaUMsYUFBcEJ2USxFQUFFc0ssU0FBU0MsS0FDdEJsTCxLQUFLMFQsTUFBTWhTLFNBQVN1WCxTQUNwQmpaLEtBQUtzVyxPQUVMdFcsS0FBS2dOLE9BRUZyTSxFQUFFdVEsV0FBaUMsYUFBcEJ2USxFQUFFc0ssU0FBU0MsTUFFN0JsTCxLQUFLMFQsTUFBTWhTLFNBQVN1WCxVQUNwQmpaLEtBQUtrWix3QkFHZGxaLE1BQ0g2VCwyQkFBNEIzVixFQUFFc0YsTUFBTSxTQUFTN0MsR0FDckNBLEVBQUV1USxXQUFhbFIsS0FBSzBULE1BQU1oUyxTQUFTdVgsVUFDbkNqWixLQUFLc1csUUFFVnRXLE1BQ0htWixvQkFBcUJqYixFQUFFc0YsTUFBTSxTQUFTN0MsRUFBR3lZLEVBQUdDLEdBQ3BDMVksRUFBRXVRLFdBQ0ZsUixLQUFLc1csS0FBSzhDLEVBQUdDLElBRWxCclosTUFDSHNaLG9CQUFxQnBiLEVBQUVzRixNQUFNLFNBQVM3QyxHQUM5QkEsRUFBRXVRLFdBQ0ZsUixLQUFLZ04sUUFFVmhOLE1BQ0h1Wix5QkFBMEJyYixFQUFFc0YsTUFBTSxXQUMxQnhELEtBQUswVCxNQUFNaFMsU0FBUzhYLG9CQUFzQnhaLEtBQUswVCxNQUFNM0osR0FBRyxhQUN4RC9KLEtBQUt5WixTQUVWelosTUFDSDBaLDBCQUEyQnhiLEVBQUVzRixNQUFNLFdBQzNCeEQsS0FBSzBULE1BQU1oUyxTQUFTOFgsb0JBQXNCeFosS0FBSzBULE1BQU0zSixHQUFHLGFBQ3hEL0osS0FBS3NXLFFBRVZ0VyxNQUNIMlosc0JBQXVCemIsRUFBRXNGLE1BQU0sV0FDdkJ4RCxLQUFLMFQsTUFBTWhTLFNBQVM4WCxvQkFBc0J4WixLQUFLMFQsTUFBTTNKLEdBQUcsYUFDeEQvSixLQUFLeVosU0FFVnpaLE1BQ0g0WixvQkFBcUIxYixFQUFFc0YsTUFBTSxXQUNyQnhELEtBQUswVCxNQUFNaFMsU0FBUzhYLG9CQUNwQnhaLEtBQUtzVyxRQUVWdFcsT0FJUEEsS0FBSzBULE1BQU03UixTQUFTbkIsR0FBR1YsS0FBSzhCLFdBRzVCOUIsS0FBSzBULE1BQU1qUyxRQUFVdkQsRUFBRXlELFVBQVdtWCxFQUFTbFgsU0FBVTVCLEtBQUswVCxNQUFNalMsVUFPcEVxWCxFQUFTbFgsVUFDTHFYLFVBQVUsRUFDVlksZ0JBQWlCLElBQ2pCTCxvQkFBb0IsRUFDcEJNLGVBQWUsR0FTbkJoQixFQUFTblAsVUFBVTJNLEtBQU8sU0FBU3lELEVBQVM3TSxHQUN4Q2xOLEtBQUtnWixTQUFVLEVBRVhoWixLQUFLMFQsTUFBTTNKLEdBQUcsY0FJbEIvSixLQUFLMFQsTUFBTTlKLE1BQU0sWUFFakI1SixLQUFLa1oseUJBVVRKLEVBQVNuUCxVQUFVcVEsZ0JBQWtCLFNBQVNELEVBQVM3TSxHQUluRCxPQUhLbE4sS0FBSytZLFVBQ041WSxFQUFPNkwsYUFBYWhNLEtBQUsrWSxVQUV0QjVZLEVBQU9tQixXQUFXcEQsRUFBRXNGLE1BQU0sV0FDekJ4RCxLQUFLZ1osU0FBV2haLEtBQUswVCxNQUFNM0osR0FBRyxTQUFXL0osS0FBSzBULE1BQU0zSixHQUFHLGdCQUFrQmxNLEVBQVNvYyxRQUd0RmphLEtBQUswVCxNQUFNdkUsS0FBS2pDLEdBQVNsTixLQUFLMFQsTUFBTWhTLFNBQVNvWSxnQkFDOUM5WixNQUFPK1osR0FBVy9aLEtBQUswVCxNQUFNaFMsU0FBU21ZLGtCQU83Q2YsRUFBU25QLFVBQVV1UCxxQkFBdUIsV0FDdENsWixLQUFLK1ksU0FBVy9ZLEtBQUtnYSxtQkFPekJsQixFQUFTblAsVUFBVXFELEtBQU8sV0FDakJoTixLQUFLMFQsTUFBTTNKLEdBQUcsY0FJbkI1SixFQUFPNkwsYUFBYWhNLEtBQUsrWSxVQUN6Qi9ZLEtBQUswVCxNQUFNaEosTUFBTSxjQU9yQm9PLEVBQVNuUCxVQUFVOFAsTUFBUSxXQUNsQnpaLEtBQUswVCxNQUFNM0osR0FBRyxjQUluQi9KLEtBQUtnWixTQUFVLElBTW5CRixFQUFTblAsVUFBVTBHLFFBQVUsV0FDekIsSUFBSTVNLEVBQVN3SCxFQUViakwsS0FBS2dOLE9BRUwsSUFBS3ZKLEtBQVd6RCxLQUFLOEIsVUFDakI5QixLQUFLMFQsTUFBTTdSLFNBQVM4TCxJQUFJbEssRUFBU3pELEtBQUs4QixVQUFVMkIsSUFFcEQsSUFBS3dILEtBQVlrSixPQUFPQyxvQkFBb0JwVSxNQUNmLG1CQUFsQkEsS0FBS2lMLEtBQTRCakwsS0FBS2lMLEdBQVksT0FJakUvTSxFQUFFb0MsR0FBRzJTLFlBQVlLLFlBQVk1UCxRQUFRdVYsU0FBV0gsRUE1TG5ELENBOExFM1ksT0FBT29ULE9BQVNwVCxPQUFPWSxPQUFRWixPQUFRdEMsVUFTekMsU0FBVUssRUFBR2lDLEVBQVF0QyxFQUFVcUMsR0FDNUIsYUFPQSxJQUFJZ2EsRUFBYSxTQUFTekcsR0FNdEJ6VCxLQUFLMFQsTUFBUUQsRUFPYnpULEtBQUttYSxjQUFlLEVBT3BCbmEsS0FBS29hLFVBT0xwYSxLQUFLcWEsYUFPTHJhLEtBQUtzYSxjQU1MdGEsS0FBSzZCLFNBQVc3QixLQUFLMFQsTUFBTTdSLFNBTzNCN0IsS0FBS3VhLFlBQ0RwTCxLQUFNblAsS0FBSzBULE1BQU12RSxLQUNqQkMsS0FBTXBQLEtBQUswVCxNQUFNdEUsS0FDakJMLEdBQUkvTyxLQUFLMFQsTUFBTTNFLElBUW5CL08sS0FBSzhCLFdBQ0RzVSx3QkFBeUJsWSxFQUFFc0YsTUFBTSxTQUFTN0MsR0FDbENBLEVBQUV1USxXQUFhbFIsS0FBSzBULE1BQU1oUyxTQUFTOFksVUFDbkN4YSxLQUFLc2EsV0FBV3ZiLEtBQUssZUFBaUJpQixLQUFLMFQsTUFBTWhTLFNBQVMrWSxTQUFXLEtBQ2pFdmMsRUFBRXlDLEVBQUU2SyxTQUFTdEIsS0FBSyxjQUFjNkYsUUFBUSxjQUFjNU8sS0FBSyxZQUFjLFdBRWxGbkIsTUFDSDBhLHFCQUFzQnhjLEVBQUVzRixNQUFNLFNBQVM3QyxHQUMvQkEsRUFBRXVRLFdBQWFsUixLQUFLMFQsTUFBTWhTLFNBQVM4WSxVQUNuQ3hhLEtBQUtzYSxXQUFXcEssT0FBT3ZQLEVBQUUzQyxTQUFVLEVBQUdnQyxLQUFLc2EsV0FBV0ssUUFFM0QzYSxNQUNINGEsc0JBQXVCMWMsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ2hDQSxFQUFFdVEsV0FBYWxSLEtBQUswVCxNQUFNaFMsU0FBUzhZLFVBQ25DeGEsS0FBS3NhLFdBQVdwSyxPQUFPdlAsRUFBRTNDLFNBQVUsSUFFeENnQyxNQUNIc1YsdUJBQXdCcFgsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ2pDQSxFQUFFdVEsV0FBZ0MsWUFBbkJ2USxFQUFFc0ssU0FBU0MsTUFDMUJsTCxLQUFLNmEsUUFFVjdhLE1BQ0g2VCwyQkFBNEIzVixFQUFFc0YsTUFBTSxTQUFTN0MsR0FDckNBLEVBQUV1USxZQUFjbFIsS0FBS21hLGVBQ3JCbmEsS0FBSzBULE1BQU03SixRQUFRLGFBQWMsS0FBTSxjQUN2QzdKLEtBQUtxRSxhQUNMckUsS0FBSzBMLFNBQ0wxTCxLQUFLNmEsT0FDTDdhLEtBQUttYSxjQUFlLEVBQ3BCbmEsS0FBSzBULE1BQU03SixRQUFRLGNBQWUsS0FBTSxnQkFFN0M3SixNQUNIbVcseUJBQTBCalksRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ25DQSxFQUFFdVEsV0FBYWxSLEtBQUttYSxlQUNwQm5hLEtBQUswVCxNQUFNN0osUUFBUSxVQUFXLEtBQU0sY0FDcEM3SixLQUFLMEwsU0FDTDFMLEtBQUs2YSxPQUNMN2EsS0FBSzBULE1BQU03SixRQUFRLFlBQWEsS0FBTSxnQkFFM0M3SixPQUlQQSxLQUFLMFQsTUFBTWpTLFFBQVV2RCxFQUFFeUQsVUFBV3VZLEVBQVd0WSxTQUFVNUIsS0FBSzBULE1BQU1qUyxTQUdsRXpCLEtBQUs2QixTQUFTbkIsR0FBR1YsS0FBSzhCLFlBUTFCb1ksRUFBV3RZLFVBQ1BrWixLQUFLLEVBQ0xDLFNBQVcsR0FBSSxJQUNmQyxVQUFVLEVBQ1ZDLFdBQVksTUFDWkMsY0FBYyxFQUNkQyxrQkFBbUIsVUFDbkJDLFVBQVksV0FBWSxZQUN4QkMsUUFBUyxFQUNUWixTQUFVLFVBQ1ZhLFVBQVcsV0FDWEMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZoQixVQUFVLEVBQ1ZpQixXQUFXLEVBQ1hDLGVBQWUsR0FPbkJ4QixFQUFXdlEsVUFBVXRGLFdBQWEsV0FDOUIsSUFBSXNYLEVBQ0FqYSxFQUFXMUIsS0FBSzBULE1BQU1oUyxTQUcxQjFCLEtBQUtxYSxVQUFVdUIsV0FBYWxhLEVBQVN3WixhQUFlaGQsRUFBRXdELEVBQVN3WixjQUN6RGhkLEVBQUUsU0FBU3NCLFNBQVNrQyxFQUFTeVosbUJBQW1CaFQsU0FBU25JLEtBQUs2QixXQUFXckMsU0FBUyxZQUV4RlEsS0FBS3FhLFVBQVV3QixVQUFZM2QsRUFBRSxJQUFNd0QsRUFBU3VaLFdBQWEsS0FDcER6YixTQUFTa0MsRUFBUzBaLFNBQVMsSUFDM0IxRCxLQUFLaFcsRUFBU3FaLFFBQVEsSUFDdEIzUyxVQUFVcEksS0FBS3FhLFVBQVV1QixXQUN6QmxiLEdBQUcsUUFBU3hDLEVBQUVzRixNQUFNLFNBQVM3QyxHQUMxQlgsS0FBS29QLEtBQUsxTixFQUFTc1osV0FDcEJoYixPQUNQQSxLQUFLcWEsVUFBVXlCLE1BQVE1ZCxFQUFFLElBQU13RCxFQUFTdVosV0FBYSxLQUNoRHpiLFNBQVNrQyxFQUFTMFosU0FBUyxJQUMzQjFELEtBQUtoVyxFQUFTcVosUUFBUSxJQUN0QjVTLFNBQVNuSSxLQUFLcWEsVUFBVXVCLFdBQ3hCbGIsR0FBRyxRQUFTeEMsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQzFCWCxLQUFLbVAsS0FBS3pOLEVBQVNzWixXQUNwQmhiLE9BR0YwQixFQUFTOFksV0FDVnhhLEtBQUtzYSxZQUFlcGMsRUFBRSxTQUNqQnNCLFNBQVNrQyxFQUFTK1ksVUFDbEJuYixPQUFPcEIsRUFBRSxXQUNUNmQsS0FBSyxlQUdkL2IsS0FBS3FhLFVBQVUyQixXQUFhdGEsRUFBU2dhLGNBQWdCeGQsRUFBRXdELEVBQVNnYSxlQUMxRHhkLEVBQUUsU0FBU3NCLFNBQVNrQyxFQUFTNFosV0FBV25ULFNBQVNuSSxLQUFLNkIsV0FBV3JDLFNBQVMsWUFFaEZRLEtBQUtxYSxVQUFVMkIsVUFBVXRiLEdBQUcsUUFBUyxNQUFPeEMsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ3pELElBQUlrSSxFQUFRM0ssRUFBRXlDLEVBQUVHLFFBQVFqQixTQUFTa0ssR0FBRy9KLEtBQUtxYSxVQUFVMkIsV0FDN0M5ZCxFQUFFeUMsRUFBRUcsUUFBUStILFFBQVUzSyxFQUFFeUMsRUFBRUcsUUFBUWpCLFNBQVNnSixRQUVqRGxJLEVBQUU4TSxpQkFFRnpOLEtBQUsrTyxHQUFHbEcsRUFBT25ILEVBQVMrWixZQUN6QnpiLE9BR0gsSUFBSzJiLEtBQVkzYixLQUFLdWEsV0FDbEJ2YSxLQUFLMFQsTUFBTWlJLEdBQVl6ZCxFQUFFc0YsTUFBTXhELEtBQUsyYixHQUFXM2IsT0FRdkRrYSxFQUFXdlEsVUFBVTBHLFFBQVUsV0FDM0IsSUFBSTVNLEVBQVN3WSxFQUFTaFIsRUFBVTBRLEVBRWhDLElBQUtsWSxLQUFXekQsS0FBSzhCLFVBQ2pCOUIsS0FBSzZCLFNBQVM4TCxJQUFJbEssRUFBU3pELEtBQUs4QixVQUFVMkIsSUFFOUMsSUFBS3dZLEtBQVdqYyxLQUFLcWEsVUFDakJyYSxLQUFLcWEsVUFBVTRCLEdBQVN0YyxTQUU1QixJQUFLZ2MsS0FBWTNiLEtBQUtrYyxTQUNsQmxjLEtBQUswVCxNQUFNaUksR0FBWTNiLEtBQUt1YSxXQUFXb0IsR0FFM0MsSUFBSzFRLEtBQVlrSixPQUFPQyxvQkFBb0JwVSxNQUNmLG1CQUFsQkEsS0FBS2lMLEtBQTRCakwsS0FBS2lMLEdBQVksT0FRakVpUCxFQUFXdlEsVUFBVStCLE9BQVMsV0FDMUIsSUFBSTVNLEVBQUdxZCxFQUNIQyxFQUFRcGMsS0FBSzBULE1BQU0vTCxTQUFTOUksT0FBUyxFQUNyQ3dkLEVBQVFELEVBQVFwYyxLQUFLMFQsTUFBTWhWLFFBQVFHLE9BQ25Da0ssRUFBVS9JLEtBQUswVCxNQUFNM0ssU0FBUSxHQUM3QnJILEVBQVcxQixLQUFLMFQsTUFBTWhTLFNBQ3RCb0csRUFBT3BHLEVBQVN0RSxRQUFVc0UsRUFBU3NELFdBQWF0RCxFQUFTOFksU0FDbkQsRUFBSTlZLEVBQVM4WixVQUFZOVosRUFBU2hELE1BTTVDLEdBSnlCLFNBQXJCZ0QsRUFBUzJaLFVBQ1QzWixFQUFTMlosUUFBVXBjLEtBQUt5SSxJQUFJaEcsRUFBUzJaLFFBQVMzWixFQUFTaEQsUUFHdkRnRCxFQUFTNlosTUFBNEIsUUFBcEI3WixFQUFTMlosUUFHMUIsSUFGQXJiLEtBQUtvYSxVQUVBdGIsRUFBSXNkLEVBQU9ELEVBQUksRUFBTyxFQUFHcmQsRUFBSXVkLEVBQU92ZCxJQUFLLENBQzFDLEdBQUlxZCxHQUFLclUsR0FBYyxJQUFOcVUsRUFBUyxDQUt0QixHQUpBbmMsS0FBS29hLE9BQU9yYixNQUNSaUUsTUFBTy9ELEtBQUt5SSxJQUFJcUIsRUFBU2pLLEVBQUlzZCxHQUM3QjlTLElBQUt4SyxFQUFJc2QsRUFBUXRVLEVBQU8sSUFFeEI3SSxLQUFLeUksSUFBSXFCLEVBQVNqSyxFQUFJc2QsS0FBV3JULEVBQ2pDLE1BRUpvVCxFQUFJLEVBQUcsRUFFWEEsR0FBS25jLEtBQUswVCxNQUFNbEYsUUFBUXhPLEtBQUswVCxNQUFNek0sU0FBU25JLE1BVXhEb2IsRUFBV3ZRLFVBQVVrUixLQUFPLFdBQ3hCLElBQUl0TixFQUNBN0wsRUFBVzFCLEtBQUswVCxNQUFNaFMsU0FDdEI0YSxFQUFXdGMsS0FBSzBULE1BQU1oVixRQUFRRyxRQUFVNkMsRUFBU2hELE1BQ2pEbUssRUFBUTdJLEtBQUswVCxNQUFNek0sU0FBU2pILEtBQUswVCxNQUFNelEsV0FDdkNxQixFQUFPNUMsRUFBUzRDLE1BQVE1QyxFQUFTNkMsT0FFckN2RSxLQUFLcWEsVUFBVXVCLFVBQVU5UixZQUFZLFlBQWFwSSxFQUFTb1osS0FBT3dCLEdBRTlENWEsRUFBU29aLE1BQ1Q5YSxLQUFLcWEsVUFBVXdCLFVBQVUvUixZQUFZLFlBQWF4RixHQUFRdUUsR0FBUzdJLEtBQUswVCxNQUFNNUssU0FBUSxJQUN0RjlJLEtBQUtxYSxVQUFVeUIsTUFBTWhTLFlBQVksWUFBYXhGLEdBQVF1RSxHQUFTN0ksS0FBSzBULE1BQU0zSyxTQUFRLEtBR3RGL0ksS0FBS3FhLFVBQVUyQixVQUFVbFMsWUFBWSxZQUFhcEksRUFBUzZaLE1BQVFlLEdBRS9ENWEsRUFBUzZaLE9BQ1RoTyxFQUFhdk4sS0FBS29hLE9BQU92YixPQUFTbUIsS0FBS3FhLFVBQVUyQixVQUFVeGIsV0FBVzNCLE9BRWxFNkMsRUFBUzhZLFVBQTJCLElBQWZqTixFQUNyQnZOLEtBQUtxYSxVQUFVMkIsVUFBVXRFLEtBQUsxWCxLQUFLc2EsV0FBVzVRLEtBQUssS0FDNUM2RCxFQUFhLEVBQ3BCdk4sS0FBS3FhLFVBQVUyQixVQUFVMWMsT0FBTyxJQUFJOFQsTUFBTTdGLEVBQWEsR0FBRzdELEtBQUsxSixLQUFLc2EsV0FBVyxLQUN4RS9NLEVBQWEsR0FDcEJ2TixLQUFLcWEsVUFBVTJCLFVBQVV4YixXQUFXNUIsTUFBTTJPLEdBQVk1TixTQUcxREssS0FBS3FhLFVBQVUyQixVQUFVOVIsS0FBSyxXQUFXVCxZQUFZLFVBQ3JEekosS0FBS3FhLFVBQVUyQixVQUFVeGIsV0FBV21JLEdBQUd6SyxFQUFFaVUsUUFBUW5TLEtBQUtpRCxVQUFXakQsS0FBS29hLFNBQVM1YSxTQUFTLFlBU2hHMGEsRUFBV3ZRLFVBQVU0SCxVQUFZLFNBQVNoRyxHQUN0QyxJQUFJN0osRUFBVzFCLEtBQUswVCxNQUFNaFMsU0FFMUI2SixFQUFNNU0sTUFDRmtLLE1BQU8zSyxFQUFFaVUsUUFBUW5TLEtBQUtpRCxVQUFXakQsS0FBS29hLFFBQ3RDaEosTUFBT3BSLEtBQUtvYSxPQUFPdmIsT0FDbkJpSixLQUFNcEcsSUFBYUEsRUFBU3RFLFFBQVVzRSxFQUFTc0QsV0FBYXRELEVBQVM4WSxTQUMvRCxFQUFJOVksRUFBUzhaLFVBQVk5WixFQUFTaEQsU0FTaER3YixFQUFXdlEsVUFBVTFHLFFBQVUsV0FDM0IsSUFBSUEsRUFBVWpELEtBQUswVCxNQUFNek0sU0FBU2pILEtBQUswVCxNQUFNelEsV0FDN0MsT0FBTy9FLEVBQUUyTixLQUFLN0wsS0FBS29hLE9BQVFsYyxFQUFFc0YsTUFBTSxTQUFTN0UsRUFBTWtLLEdBQzlDLE9BQU9sSyxFQUFLcUUsT0FBU0MsR0FBV3RFLEVBQUsySyxLQUFPckcsR0FDN0NqRCxPQUFPMmEsT0FRZFQsRUFBV3ZRLFVBQVU0UyxZQUFjLFNBQVNDLEdBQ3hDLElBQUl4ZSxFQUFVYSxFQUNWNkMsRUFBVzFCLEtBQUswVCxNQUFNaFMsU0FhMUIsTUFYd0IsUUFBcEJBLEVBQVMyWixTQUNUcmQsRUFBV0UsRUFBRWlVLFFBQVFuUyxLQUFLaUQsVUFBV2pELEtBQUtvYSxRQUMxQ3ZiLEVBQVNtQixLQUFLb2EsT0FBT3ZiLE9BQ3JCMmQsSUFBY3hlLElBQWFBLEVBQzNCQSxFQUFXZ0MsS0FBS29hLFFBQVNwYyxFQUFXYSxFQUFVQSxHQUFVQSxHQUFRbUUsUUFFaEVoRixFQUFXZ0MsS0FBSzBULE1BQU16TSxTQUFTakgsS0FBSzBULE1BQU16USxXQUMxQ3BFLEVBQVNtQixLQUFLMFQsTUFBTWhWLFFBQVFHLE9BQzVCMmQsRUFBWXhlLEdBQVkwRCxFQUFTMlosUUFBVXJkLEdBQVkwRCxFQUFTMlosU0FHN0RyZCxHQVFYa2MsRUFBV3ZRLFVBQVV3RixLQUFPLFNBQVNqQyxHQUNqQ2hQLEVBQUVzRixNQUFNeEQsS0FBS3VhLFdBQVd4TCxHQUFJL08sS0FBSzBULE1BQWpDeFYsQ0FBd0M4QixLQUFLdWMsYUFBWSxHQUFPclAsSUFRcEVnTixFQUFXdlEsVUFBVXlGLEtBQU8sU0FBU2xDLEdBQ2pDaFAsRUFBRXNGLE1BQU14RCxLQUFLdWEsV0FBV3hMLEdBQUkvTyxLQUFLMFQsTUFBakN4VixDQUF3QzhCLEtBQUt1YyxhQUFZLEdBQVFyUCxJQVVyRWdOLEVBQVd2USxVQUFVb0YsR0FBSyxTQUFTL1EsRUFBVWtQLEVBQU91UCxHQUNoRCxJQUFJNWQsR0FFQzRkLEdBQVl6YyxLQUFLb2EsT0FBT3ZiLFFBQ3pCQSxFQUFTbUIsS0FBS29hLE9BQU92YixPQUNyQlgsRUFBRXNGLE1BQU14RCxLQUFLdWEsV0FBV3hMLEdBQUkvTyxLQUFLMFQsTUFBakN4VixDQUF3QzhCLEtBQUtvYSxRQUFTcGMsRUFBV2EsRUFBVUEsR0FBVUEsR0FBUW1FLE1BQU9rSyxJQUVwR2hQLEVBQUVzRixNQUFNeEQsS0FBS3VhLFdBQVd4TCxHQUFJL08sS0FBSzBULE1BQWpDeFYsQ0FBd0NGLEVBQVVrUCxJQUkxRGhQLEVBQUVvQyxHQUFHMlMsWUFBWUssWUFBWTVQLFFBQVF3VyxXQUFhQSxFQXBYckQsQ0FzWEUvWixPQUFPb1QsT0FBU3BULE9BQU9ZLE9BQVFaLE9BQVF0QyxVQVN6QyxTQUFVSyxFQUFHaUMsRUFBUXRDLEVBQVVxQyxHQUM1QixhQU9BLElBQUl3YyxFQUFPLFNBQVNqSixHQU1oQnpULEtBQUswVCxNQUFRRCxFQU9ielQsS0FBSzJjLFdBTUwzYyxLQUFLNkIsU0FBVzdCLEtBQUswVCxNQUFNN1IsU0FPM0I3QixLQUFLOEIsV0FDRCtSLDJCQUE0QjNWLEVBQUVzRixNQUFNLFNBQVM3QyxHQUNyQ0EsRUFBRXVRLFdBQW1ELFlBQXRDbFIsS0FBSzBULE1BQU1oUyxTQUFTdUQsZUFDbkMvRyxFQUFFaUMsR0FBUTBKLFFBQVEsOEJBRXZCN0osTUFDSG9XLHdCQUF5QmxZLEVBQUVzRixNQUFNLFNBQVM3QyxHQUN0QyxHQUFJQSxFQUFFdVEsVUFBVyxDQUNiLElBQUkwTCxFQUFPMWUsRUFBRXlDLEVBQUU2SyxTQUFTdEIsS0FBSyxlQUFlNkYsUUFBUSxlQUFlNU8sS0FBSyxhQUV4RSxJQUFLeWIsRUFDRCxPQUdKNWMsS0FBSzJjLFFBQVFDLEdBQVFqYyxFQUFFNkssVUFFNUJ4TCxNQUNIc1YsdUJBQXdCcFgsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ3JDLEdBQUlBLEVBQUV1USxXQUFpQyxhQUFwQnZRLEVBQUVzSyxTQUFTQyxLQUFxQixDQUMvQyxJQUFJakksRUFBVWpELEtBQUswVCxNQUFNaFYsTUFBTXNCLEtBQUswVCxNQUFNek0sU0FBU2pILEtBQUswVCxNQUFNelEsWUFDMUQyWixFQUFPMWUsRUFBRVAsSUFBSXFDLEtBQUsyYyxRQUFTLFNBQVNyUixFQUFNc1IsR0FDdEMsT0FBT3RSLElBQVNySSxFQUFVMlosRUFBTyxPQUNsQ2xULE9BRVAsSUFBS2tULEdBQVF6YyxFQUFPMGMsU0FBU0QsS0FBS2hlLE1BQU0sS0FBT2dlLEVBQzNDLE9BR0p6YyxFQUFPMGMsU0FBU0QsS0FBT0EsSUFFNUI1YyxPQUlQQSxLQUFLMFQsTUFBTWpTLFFBQVV2RCxFQUFFeUQsVUFBVythLEVBQUs5YSxTQUFVNUIsS0FBSzBULE1BQU1qUyxTQUc1RHpCLEtBQUs2QixTQUFTbkIsR0FBR1YsS0FBSzhCLFdBR3RCNUQsRUFBRWlDLEdBQVFPLEdBQUcsNEJBQTZCeEMsRUFBRXNGLE1BQU0sU0FBUzdDLEdBQ3ZELElBQUlpYyxFQUFPemMsRUFBTzBjLFNBQVNELEtBQUtFLFVBQVUsR0FDdENwZSxFQUFRc0IsS0FBSzBULE1BQU14TSxPQUFPMUcsV0FDMUJ4QyxFQUFXZ0MsS0FBSzJjLFFBQVFDLElBQVNsZSxFQUFNbUssTUFBTTdJLEtBQUsyYyxRQUFRQyxTQTdFekUsSUErRWU1ZSxHQUEwQkEsSUFBYWdDLEtBQUswVCxNQUFNelEsV0FJdERqRCxLQUFLMFQsTUFBTTNFLEdBQUcvTyxLQUFLMFQsTUFBTXpNLFNBQVNqSixJQUFXLEdBQU8sSUFDckRnQyxRQU9QMGMsRUFBSzlhLFVBQ0RtYixpQkFBaUIsR0FPckJMLEVBQUsvUyxVQUFVMEcsUUFBVSxXQUNyQixJQUFJNU0sRUFBU3dILEVBRWIvTSxFQUFFaUMsR0FBUXdOLElBQUksNkJBRWQsSUFBS2xLLEtBQVd6RCxLQUFLOEIsVUFDakI5QixLQUFLMFQsTUFBTTdSLFNBQVM4TCxJQUFJbEssRUFBU3pELEtBQUs4QixVQUFVMkIsSUFFcEQsSUFBS3dILEtBQVlrSixPQUFPQyxvQkFBb0JwVSxNQUNmLG1CQUFsQkEsS0FBS2lMLEtBQTRCakwsS0FBS2lMLEdBQVksT0FJakUvTSxFQUFFb0MsR0FBRzJTLFlBQVlLLFlBQVk1UCxRQUFRZ1osS0FBT0EsRUFoSC9DLENBa0hFdmMsT0FBT29ULE9BQVNwVCxPQUFPWSxPQUFRWixPQUFRdEMsVUFXekMsU0FBVUssRUFBR2lDLEVBQVF0QyxFQUFVcUMsR0FxQzVCLFNBQVM4YyxFQUFLL1IsRUFBVWdTLEdBQ3BCLElBQUk1SyxHQUFTLEVBQ1RnSyxFQUFRcFIsRUFBU3BILE9BQU8sR0FBR3FaLGNBQWdCalMsRUFBU3JNLE1BQU0sR0FTOUQsT0FQQVYsRUFBRStCLE1BQU1nTCxFQUFXLElBQU1rUyxFQUFTelQsS0FBSzJTLEVBQVEsS0FBT0EsR0FBT3pQLE1BQU0sS0FBTSxTQUFTOU4sRUFBR21NLEdBQ2pGLEdBQUltUyxFQUFNblMsS0FBYy9LLEVBRXBCLE9BREFtUyxHQUFTNEssR0FBV2hTLEdBQ2IsSUFJUm9ILEVBR1gsU0FBUzRLLEVBQVNoUyxHQUNkLE9BQU8rUixFQUFLL1IsR0FBVSxHQWxEMUIsSUFBSW1TLEVBQVFsZixFQUFFLGFBQWFzUixJQUFJLEdBQUc0TixNQUM5QkQsRUFBVyxrQkFBa0J2USxNQUFNLEtBQ25Dd0YsR0FDSS9GLFlBQ0kvQyxLQUNJK1QsaUJBQWtCLHNCQUNsQkMsY0FBZSxnQkFDZkMsWUFBYSxpQkFDYmxSLFdBQVksa0JBR3BCcU0sV0FDSXBQLEtBQ0lrVSxnQkFBaUIscUJBQ2pCQyxhQUFjLGVBQ2RDLFdBQVksZ0JBQ1poRixVQUFXLGtCQUl2QmlGLEdBQ0lDLGNBQWUsV0FDWCxRQUFTWixFQUFLLGNBRWxCYSxnQkFBaUIsV0FDYixRQUFTYixFQUFLLGdCQUVsQmMsZUFBZ0IsV0FDWixRQUFTZCxFQUFLLGVBRWxCZSxjQUFlLFdBQ1gsUUFBU2YsRUFBSyxlQXNCdEJXLEVBQU1HLG1CQUVONWYsRUFBRWtPLFFBQVFDLFdBQWEsSUFBSTJSLE9BQU9mLEVBQVMsZUFDM0MvZSxFQUFFa08sUUFBUUMsV0FBVy9DLElBQU04SSxFQUFPL0YsV0FBVy9DLElBQUtwTCxFQUFFa08sUUFBUUMsYUFHNURzUixFQUFNSSxrQkFFTjdmLEVBQUVrTyxRQUFRc00sVUFBWSxJQUFJc0YsT0FBT2YsRUFBUyxjQUMxQy9lLEVBQUVrTyxRQUFRc00sVUFBVXBQLElBQU04SSxFQUFPc0csVUFBVXBQLElBQUtwTCxFQUFFa08sUUFBUXNNLFlBRzFEaUYsRUFBTUMsa0JBRU4xZixFQUFFa08sUUFBUU0sVUFBWSxJQUFJc1IsT0FBT2YsRUFBUyxjQUMxQy9lLEVBQUVrTyxRQUFRMEIsWUFBYzZQLEVBQU1FLG1CQXRFckMsQ0F5RUUxZCxPQUFPb1QsT0FBU3BULE9BQU9ZLE9BQVFaLE9BQVF0QyxVQUMxQ0ssRUFBRUwsVUFBVW1ELE1BQU0sV0EwQ2Q5QyxFQUFFLFdBQzBCQSxFQUFFLG9DQUVSK0IsS0FBSyxXQUNuQixJQUFJb1QsRUFBUW5WLEVBQUU4QixNQUVkcVQsRUFBTTNTLEdBQUcsUUFBUyxXQUNkMlMsRUFBTTdULFNBQVMsZUFHbkI2VCxFQUFNM1MsR0FBRyxPQUFRLFdBQ1ksR0FBdEIyUyxFQUFNNEssTUFBTXBmLFFBQ1h3VSxFQUFNNUosWUFBWSxxQkEwQnRDdkwsRUFBRSxXQUFXd0MsR0FBRyxRQUFTLFdBQ3JCeEMsRUFBRSxjQUFjOE8sT0FBT3hOLFNBQVMsWUFHcEN0QixFQUFFLFVBQVV3QyxHQUFHLFFBQVMsV0FDcEJ4QyxFQUFFLGNBQWM4TyxPQUFPdkQsWUFBWSxZQVN2Q3ZMLEVBQUVMLFVBQVVtRCxNQUFNLFdBQ2Q5QyxFQUFFLGlCQUFpQitVLGFBQ2Z2VSxNQUFPLEVBQ1B3ZixZQUFZLEVBQ1pDLFlBQVksRUFDWkMsY0FBZSxFQUNmQyxXQUFZLElBQ1pDLFVBQVUsRUFDVkMsY0FBZSxJQUNmQyxnQkFBaUIsTUFLckJ0Z0IsRUFBRSxTQUFTK0ssU0FDUHdWLGVBQWdCLFFBQ2pCLEtBR092Z0IsRUFBRSx1QkFDUitCLEtBQUssV0FDTCxJQUFJNEksRUFBUTNLLEVBQUU4QixNQUFNNkksUUFBVSxFQUMzQkEsRUFBUSxHQUNQM0ssRUFBRThCLE1BQU0wWCxLQUFLLEtBQUtwWSxPQUFPdUosR0FFekIzSyxFQUFFOEIsTUFBTTBYLEtBQUs3TyxLQU9yQixJQUFJNlYsRUFBVTdnQixTQUFTOGdCLGNBQWMsWUFDakNDLEVBQU0vZ0IsU0FBUzhnQixjQUFjLGFBQzdCdk4sRUFBUXJHLE9BQU82VCxFQUFJQyxRQUFRQyxhQUUvQkYsRUFBSTlOLGlCQUFpQixPQUFRLFdBQ3pCLElBQUksSUFBSWhTLEVBQUksRUFBR0EsRUFBSXNTLEVBQU90UyxJQUFJLENBQzFCLElBQUlpZ0IsRUFBU2xoQixTQUFTbWhCLGNBQWMsT0FHcENELEVBQU9FLFdBQWEsb0JBQW9CbmdCLEVBQ3hDaWdCLEVBQU8zQixNQUFRLHlCQUF5QndCLEVBQUlNLGFBQWEsT0FBTyxhQUFhTixFQUFJN1gsTUFBTSxjQUFjNlgsRUFBSWhKLE9BQU8sS0FFaEg4SSxFQUFRUyxZQUFZSixNQUk1QjlLLFlBQVksV0FFUixJQUFJLElBREFtTCxFQUFXdmhCLFNBQVN3aEIsaUJBQWlCLGFBQ2pDdmdCLEVBQUksRUFBR0EsRUFBSXNnQixFQUFTdmdCLE9BQVFDLElBQ2hDc2dCLEVBQVN0Z0IsR0FBR3dnQixVQUFVQyxPQUFPLGlCQUVsQyxPQUtQcmhCLEVBQUVpQyxRQUFRcWYsT0FBTyxXQUNiLElBQUlDLEVBQUt2aEIsRUFBRThCLE1BQU0wZixZQUNyQnhoQixFQUFFLHNCQUFzQmtKLEtBQ3BCc0YsVUFBYSxrQkFBb0IrUyxFQUFLLEdBQUssTUFHL0N2aEIsRUFBRSxnQkFBZ0JrSixLQUNkc0YsVUFBYSxpQkFBbUIrUyxFQUFLLEdBQUssTUFHOUN2aEIsRUFBRSxxQkFBcUJrSixLQUNuQnNGLFVBQWEsa0JBQW9CK1MsRUFBSyxHQUFLLE1BRzlDdmhCLEVBQUUsZ0JBQWdCa0osS0FDZHNGLFVBQWEsa0JBQW9CK1MsRUFBSyxHQUFLLE1BR2hEdmhCLEVBQUUsY0FBY2tKLEtBQ1pzRixVQUFhLGtCQUFvQitTLEVBQUssR0FBSyxRQVEvQ3ZoQixFQUFFTCxVQUFVbUQsTUFBTSxXQUNkOUMsRUFBRSxjQUFjeWhCLE1BQU0sS0FBTXRlLFFBQVEsVUFJeENuRCxFQUFFTCxVQUFVbUQsTUFBTSxXQUNkOUMsRUFBRSxTQUFTMGhCLGFBQ1gsSUFBSUMsRUFBTSxJQUFJMVMsS0FDVjJTLEVBQUlELEVBQUlFLFVBQ1IzUixFQUFJeVIsRUFBSUcsV0FBVyxFQUNuQm5ULEVBQUlnVCxFQUFJSSxjQUVaQyxLQUFPOVIsRUFBRSxJQUFJMFIsRUFBRSxJQUFJalQsRUFHbkIzTyxFQUFFLGVBQWUrZixJQUFJaUMsUUFNekJoaUIsRUFBRUwsVUFBVTZDLEdBQUcsU0FBVSxXQUNqQnhDLEVBQUVMLFVBQVU2aEIsWUFBYyxJQUMxQnhoQixFQUFFLFVBQVVzQixTQUFTLFNBRXJCdEIsRUFBRSxVQUFVdUwsWUFBWSxXQXFCaEMxSSxPQUFPLFNBQVM3QyxHQUdaLElBQUlpaUIsRUFBZSxXQUdmLElBQUlDLEVBQVNsaUIsRUFBRWlDLFFBQVF1ZixZQUFjeGhCLEVBQUVpQyxRQUFReVYsU0FDM0N5SyxFQUFlbmlCLEVBQUUsZUFHTSxHQUF2Qm1pQixFQUFheGhCLFFBQ2JYLEVBQUVpQyxRQUFRd04sSUFBSSxTQUFVd1MsR0FJNUJFLEVBQWFwZ0IsS0FBSyxTQUFTbkIsR0FDdkIsSUFBSXdoQixFQUFjcGlCLEVBQUU4QixNQUNmc2dCLEVBQVlGLFNBQVNyVCxJQUFNdVQsRUFBWTFLLFNBQVcsR0FBTXdLLEdBQ3pERSxFQUFZN1csWUFBWSxjQUFjakssU0FBUyxlQU8zRHRCLEVBQUVpQyxRQUFRTyxHQUFHLFNBQVV5ZixHQUN2QmppQixFQUFFaUMsUUFBUTBKLFFBQVEsWUFHdEIzTCxFQUFFTCxVQUFVbUQsTUFBTSxTQUFTOUMsR0FDdkJBLEVBQUUsY0FBY3dDLEdBQUcsUUFBUyxTQUFTNkssR0FDakNBLEVBQU1rQyxpQkFDTnZQLEVBQUUsY0FBY3NCLFNBQVMsZ0JBRzdCdEIsRUFBRSxlQUFlK0MsTUFBTSxXQUNuQi9DLEVBQUUsY0FBY3VMLFlBQVksZ0JBRWhDdkwsRUFBRSxjQUFjK0MsTUFBTSxXQUNsQi9DLEVBQUUsY0FBY3VMLFlBQVksZ0JBRWhDdkwsRUFBRUwsVUFBVTBpQixNQUFNLFNBQVNoVixHQUNQLE1BQWJBLEVBQU1rQixPQUNMdk8sRUFBRSxjQUFjdUwsWUFBWSxrQkFJeEN2TCxFQUFFTCxVQUFVbUQsTUFBTSxTQUFTOUMsR0FDdkJBLEVBQUUsaUJBQWlCd0MsR0FBRyxRQUFTLFNBQVM2SyxHQUNwQ0EsRUFBTWtDLGlCQUNOdlAsRUFBRSxrQkFBa0JzQixTQUFTLGdCQUdqQ3RCLEVBQUUscUJBQXFCK0MsTUFBTSxXQUNyQi9DLEVBQUUsa0JBQWtCdUwsWUFBWSxnQkFFeEN2TCxFQUFFTCxVQUFVMGlCLE1BQU0sU0FBU2hWLEdBQ1AsTUFBYkEsRUFBTWtCLE9BQ0x2TyxFQUFFLGtCQUFrQnVMLFlBQVkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuXHJcblxyXG5cblxyXG4oZnVuY3Rpb24oJCl7XHJcbmNvbnNvbGUubG9nKCdycicpO1xyXG4gICAgdmFyIHBhZ2luYXRlID0ge1xyXG4gICAgICAgIHN0YXJ0UG9zOiBmdW5jdGlvbihwYWdlTnVtYmVyLCBwZXJQYWdlKSB7XHJcbiAgICAgICAgICAgIC8vIGRldGVybWluZSB3aGF0IGFycmF5IHBvc2l0aW9uIHRvIHN0YXJ0IGZyb21cclxuICAgICAgICAgICAgLy8gYmFzZWQgb24gY3VycmVudCBwYWdlIGFuZCAjIHBlciBwYWdlXHJcbiAgICAgICAgICAgIHJldHVybiBwYWdlTnVtYmVyICogcGVyUGFnZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRQYWdlOiBmdW5jdGlvbihpdGVtcywgc3RhcnRQb3MsIHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgLy8gZGVjbGFyZSBhbiBlbXB0eSBhcnJheSB0byBob2xkIG91ciBwYWdlIGl0ZW1zXHJcbiAgICAgICAgICAgIHZhciBwYWdlID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBvbmx5IGdldCBpdGVtcyBhZnRlciB0aGUgc3RhcnRpbmcgcG9zaXRpb25cclxuICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5zbGljZShzdGFydFBvcywgaXRlbXMubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxvb3AgcmVtYWluaW5nIGl0ZW1zIHVudGlsIG1heCBwZXIgcGFnZVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBwZXJQYWdlOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBhZ2UucHVzaChpdGVtc1tpXSk7IH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwYWdlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRvdGFsUGFnZXM6IGZ1bmN0aW9uKGl0ZW1zLCBwZXJQYWdlKSB7XHJcbiAgICAgICAgICAgIC8vIGRldGVybWluZSB0b3RhbCBudW1iZXIgb2YgcGFnZXNcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChpdGVtcy5sZW5ndGggLyBwZXJQYWdlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjcmVhdGVCdG5zOiBmdW5jdGlvbih0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgYnV0dG9ucyB0byBtYW5pcHVsYXRlIGN1cnJlbnQgcGFnZVxyXG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICQoJzxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uXCIgLz4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBhIFwiZmlyc3RcIiBidXR0b25cclxuICAgICAgICAgICAgcGFnaW5hdGlvbi5hcHBlbmQoJzxzcGFuIGNsYXNzPVwicGFnaW5hdGlvbi1idXR0b25cIj4mbGFxdW87PC9zcGFuPicpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIHBhZ2VzIGluYmV0d2VlblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGkgPD0gdG90YWxQYWdlczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0cnVuY2F0ZSBsaXN0IHdoZW4gdG9vIGxhcmdlXHJcbiAgICAgICAgICAgICAgICBpZiAodG90YWxQYWdlcyA+IDUgJiYgY3VycmVudFBhZ2UgIT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBvbiBmaXJzdCB0d28gcGFnZXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT09IDEgfHwgY3VycmVudFBhZ2UgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBmaXJzdCA1IHBhZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gNSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG9uIGxhc3QgdHdvIHBhZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyB8fCBjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBsYXN0IDUgcGFnZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCB0b3RhbFBhZ2VzIC0gNCkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBzaG93IDUgcGFnZXMgdy8gY3VycmVudCBpbiBtaWRkbGVcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IGN1cnJlbnRQYWdlIC0gMiB8fCBpID4gY3VycmVudFBhZ2UgKyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtYXJrdXAgZm9yIHBhZ2UgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFnZUJ0biA9ICQoJzxzcGFuIGNsYXNzPVwicGFnaW5hdGlvbi1idXR0b24gcGFnZS1udW1cIiAvPicpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFkZCBhY3RpdmUgY2xhc3MgZm9yIGN1cnJlbnQgcGFnZVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlQnRuLmFkZENsYXNzKCdhY3RpdmUnKTsgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNldCB0ZXh0IHRvIHRoZSBwYWdlIG51bWJlclxyXG4gICAgICAgICAgICAgICAgcGFnZUJ0bi50ZXh0KGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFkZCBidXR0b24gdG8gdGhlIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5hcHBlbmQocGFnZUJ0bik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBhIFwibGFzdFwiIGJ1dHRvblxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cInBhZ2luYXRpb24tYnV0dG9uXCI+JnJhcXVvOzwvc3Bhbj4nKSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcGFnaW5hdGlvbjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjcmVhdGVQYWdlOiBmdW5jdGlvbihpdGVtcywgY3VycmVudFBhZ2UsIHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIHBhZ2luYXRpb24gZnJvbSB0aGUgcGFnZVxyXG4gICAgICAgICAgICAkKCcucGFnaW5hdGlvbicpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0IGNvbnRleHQgZm9yIHRoZSBpdGVtc1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gaXRlbXMucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICAvLyBkZXRhY2ggaXRlbXMgZnJvbSB0aGUgcGFnZSBhbmQgY2FzdCBhcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5kZXRhY2goKS50b0FycmF5KCksXHJcbiAgICAgICAgICAgICAgICAvLyBnZXQgc3RhcnQgcG9zaXRpb24gYW5kIHNlbGVjdCBpdGVtcyBmb3IgcGFnZVxyXG4gICAgICAgICAgICAgICAgc3RhcnRQb3MgPSB0aGlzLnN0YXJ0UG9zKGN1cnJlbnRQYWdlIC0gMSwgcGVyUGFnZSksXHJcbiAgICAgICAgICAgICAgICBwYWdlID0gdGhpcy5nZXRQYWdlKGl0ZW1zLCBzdGFydFBvcywgcGVyUGFnZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBsb29wIGl0ZW1zIGFuZCByZWFkZCB0byBwYWdlXHJcbiAgICAgICAgICAgICQuZWFjaChwYWdlLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBlbXB0eSBpdGVtcyB0aGF0IHJldHVybiBhcyBXaW5kb3dcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndpbmRvdyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZCgkKHRoaXMpKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHByZXAgcGFnaW5hdGlvbiBidXR0b25zIGFuZCBhZGQgdG8gcGFnZVxyXG4gICAgICAgICAgICB2YXIgdG90YWxQYWdlcyA9IHRoaXMudG90YWxQYWdlcyhpdGVtcywgcGVyUGFnZSksXHJcbiAgICAgICAgICAgICAgICBwYWdlQnV0dG9ucyA9IHRoaXMuY3JlYXRlQnRucyh0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSk7XHJcblxyXG4gICAgICAgICAgICBjb250YWluZXIuYWZ0ZXIocGFnZUJ1dHRvbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gc3R1ZmYgaXQgYWxsIGludG8gYSBqUXVlcnkgbWV0aG9kIVxyXG4gICAgJC5mbi5wYWdpbmF0ZSA9IGZ1bmN0aW9uKHBlclBhZ2UpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBkZWZhdWx0IHBlclBhZ2UgdG8gNVxyXG4gICAgICAgIGlmIChpc05hTihwZXJQYWdlKSB8fCBwZXJQYWdlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGVyUGFnZSA9IDU7IH1cclxuXHJcbiAgICAgICAgLy8gZG9uJ3QgZmlyZSBpZiBmZXdlciBpdGVtcyB0aGFuIHBlclBhZ2VcclxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoIDw9IHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IH1cclxuXHJcbiAgICAgICAgLy8gZW5zdXJlIGl0ZW1zIHN0YXkgaW4gdGhlIHNhbWUgRE9NIHBvc2l0aW9uXHJcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCAhPT0gaXRlbXMucGFyZW50KClbMF0uY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uLWl0ZW1zXCIgLz4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHBhZ2luYXRlIHRoZSBpdGVtcyBzdGFydGluZyBhdCBwYWdlIDFcclxuICAgICAgICBwYWdpbmF0ZS5jcmVhdGVQYWdlKGl0ZW1zLCAxLCBwZXJQYWdlKTtcclxuXHJcbiAgICAgICAgLy8gaGFuZGxlIGNsaWNrIGV2ZW50cyBvbiB0aGUgYnV0dG9uc1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucGFnaW5hdGlvbi1idXR0b24nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIC8vIGdldCBjdXJyZW50IHBhZ2UgZnJvbSBhY3RpdmUgYnV0dG9uXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZSA9IHBhcnNlSW50KCQoJy5wYWdpbmF0aW9uLWJ1dHRvbi5hY3RpdmUnKS50ZXh0KCksIDEwKSxcclxuICAgICAgICAgICAgICAgIG5ld1BhZ2UgPSBjdXJyZW50UGFnZSxcclxuICAgICAgICAgICAgICAgIHRvdGFsUGFnZXMgPSBwYWdpbmF0ZS50b3RhbFBhZ2VzKGl0ZW1zLCBwZXJQYWdlKSxcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgLy8gZ2V0IG51bWJlcmVkIHBhZ2VcclxuICAgICAgICAgICAgbmV3UGFnZSA9IHBhcnNlSW50KHRhcmdldC50ZXh0KCksIDEwKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC50ZXh0KCkgPT0gJ8KrJykgbmV3UGFnZSA9IDE7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQudGV4dCgpID09ICfCuycpIG5ld1BhZ2UgPSB0b3RhbFBhZ2VzO1xyXG5cclxuICAgICAgICAgICAgLy8gZW5zdXJlIG5ld1BhZ2UgaXMgaW4gYXZhaWxhYmxlIHJhbmdlXHJcbiAgICAgICAgICAgIGlmIChuZXdQYWdlID4gMCAmJiBuZXdQYWdlIDw9IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2luYXRlLmNyZWF0ZVBhZ2UoaXRlbXMsIG5ld1BhZ2UsIHBlclBhZ2UpOyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxufSkoalF1ZXJ5KTtcclxuJCgnLmFydGljbGUtbG9vcCcpLnBhZ2luYXRlKDIpO1xyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PXBvcCB1cCBpbWFnZT09PT09PT09PT09PT09PT0qL1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsgLy8g0JbQtNGR0Lwg0LfQsNCz0YDRg9C30LrQuCDRgdGC0YDQsNC90LjRhtGLXHJcblxyXG4gICAgJChcIi5pbWFnZVwiKS5jbGljayhmdW5jdGlvbigpe1x0Ly8g0KHQvtCx0YvRgtC40LUg0LrQu9C40LrQsCDQvdCwINC80LDQu9C10L3RjNC60L7QtSDQuNC30L7QsdGA0LDQttC10L3QuNC1XHJcbiAgICAgICAgdmFyIGltZyA9ICQodGhpcyk7XHQvLyDQn9C+0LvRg9GH0LDQtdC8INC40LfQvtCx0YDQsNC20LXQvdC40LUsINC90LAg0LrQvtGC0L7RgNC+0LUg0LrQu9C40LrQvdGD0LvQuFxyXG4gICAgICAgIHZhciBzcmMgPSBpbWcuYXR0cignc3JjJyk7IC8vINCU0L7RgdGC0LDQtdC8INC40Lcg0Y3RgtC+0LPQviDQuNC30L7QsdGA0LDQttC10L3QuNGPINC/0YPRgtGMINC00L4g0LrQsNGA0YLQuNC90LrQuFxyXG4gICAgICAgICQoXCJib2R5XCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9J3BvcHVwJz5cIisgLy/QlNC+0LHQsNCy0LvRj9C10Lwg0LIg0YLQtdC70L4g0LTQvtC60YPQvNC10L3RgtCwINGA0LDQt9C80LXRgtC60YMg0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQs9C+INC+0LrQvdCwXHJcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0ncG9wdXBfYmcnPjwvZGl2PlwiKyAvLyDQkdC70L7Quiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDRgdC70YPQttC40YLRjCDRhNC+0L3QvtC8INC30LDRgtC10LzQvdC10L3QvdGL0LxcclxuICAgICAgICAgICAgXCI8aW1nIHNyYz0nXCIrc3JjK1wiJyBjbGFzcz0ncG9wdXBfaW1nJyAvPlwiKyAvLyDQodCw0LzQviDRg9Cy0LXQu9C40YfQtdC90L3QvtC1INGE0L7RgtC+XHJcbiAgICAgICAgICAgIFwiPC9kaXY+XCIpO1xyXG4gICAgICAgICQoXCIucG9wdXBcIikuZmFkZUluKDgwMCk7IC8vINCc0LXQtNC70LXQvdC90L4g0LLRi9Cy0L7QtNC40Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVxyXG4gICAgICAgICQoXCIucG9wdXBfYmdcIikuY2xpY2soZnVuY3Rpb24oKXtcdC8vINCh0L7QsdGL0YLQuNC1INC60LvQuNC60LAg0L3QsCDQt9Cw0YLQtdC80L3QtdC90L3Ri9C5INGE0L7QvVxyXG4gICAgICAgICAgICAkKFwiLnBvcHVwXCIpLmZhZGVPdXQoODAwKTtcdC8vINCc0LXQtNC70LXQvdC90L4g0YPQsdC40YDQsNC10Lwg0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQtSDQvtC60L3QvlxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1x0Ly8g0JLRi9GB0YLQsNCy0LvRj9C10Lwg0YLQsNC50LzQtdGAXHJcbiAgICAgICAgICAgICAgICAkKFwiLnBvcHVwXCIpLnJlbW92ZSgpOyAvLyDQo9C00LDQu9GP0LXQvCDRgNCw0LfQvNC10YLQutGDINCy0YHQv9C70YvQstCw0Y7RidC10LPQviDQvtC60L3QsFxyXG4gICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59KTtcbi8qKlxyXG4gKiBPd2wgQ2Fyb3VzZWwgdjIuMi4xXHJcbiAqIENvcHlyaWdodCAyMDEzLTIwMTcgRGF2aWQgRGV1dHNjaFxyXG4gKiBMaWNlbnNlZCB1bmRlciAgKClcclxuICovXHJcbi8qKlxyXG4gKiBPd2wgY2Fyb3VzZWxcclxuICogQHZlcnNpb24gMi4xLjZcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKiBAdG9kbyBMYXp5IExvYWQgSWNvblxyXG4gKiBAdG9kbyBwcmV2ZW50IGFuaW1hdGlvbmVuZCBidWJsaW5nXHJcbiAqIEB0b2RvIGl0ZW1zU2NhbGVVcFxyXG4gKiBAdG9kbyBUZXN0IFplcHRvXHJcbiAqIEB0b2RvIHN0YWdlUGFkZGluZyBjYWxjdWxhdGUgd3JvbmcgYWN0aXZlIGNsYXNzZXNcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgY2Fyb3VzZWwuXHJcbiAgICAgKiBAY2xhc3MgVGhlIE93bCBDYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gY3JlYXRlIHRoZSBjYXJvdXNlbCBmb3IuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gT3dsKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBzZXR0aW5ncyBmb3IgdGhlIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBvcHRpb25zIHNldCBieSB0aGUgY2FsbGVyIGluY2x1ZGluZyBkZWZhdWx0cy5cclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIE93bC5EZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFBsdWdpbiBlbGVtZW50LlxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJveGllZCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlcyB0byB0aGUgcnVubmluZyBwbHVnaW5zIG9mIHRoaXMgY2Fyb3VzZWwuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3BsdWdpbnMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudGx5IHN1cHByZXNzZWQgZXZlbnRzIHRvIHByZXZlbnQgdGhlbSBmcm9tIGJlZWluZyByZXRyaWdnZXJlZC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fc3VwcmVzcyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBYnNvbHV0ZSBjdXJyZW50IHBvc2l0aW9uLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW5pbWF0aW9uIHNwZWVkIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fc3BlZWQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb29yZGluYXRlcyBvZiBhbGwgaXRlbXMgaW4gcGl4ZWwuXHJcbiAgICAgICAgICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZW1iZXIgaXMgbWlzc2xlYWRpbmcuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgYnJlYWtwb2ludC5cclxuICAgICAgICAgKiBAdG9kbyBSZWFsIG1lZGlhIHF1ZXJpZXMgd291bGQgYmUgbmljZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fYnJlYWtwb2ludCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgd2lkdGggb2YgdGhlIHBsdWdpbiBlbGVtZW50LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIHJlYWwgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBjbG9uZWQgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2Nsb25lcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNZXJnZSB2YWx1ZXMgb2YgYWxsIGl0ZW1zLlxyXG4gICAgICAgICAqIEB0b2RvIE1heWJlIHRoaXMgY291bGQgYmUgcGFydCBvZiBhIHBsdWdpbi5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbWVyZ2VycyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBXaWR0aHMgb2YgYWxsIGl0ZW1zLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3dpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbnZhbGlkYXRlZCBwYXJ0cyB3aXRoaW4gdGhlIHVwZGF0ZSBwcm9jZXNzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlZCA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPcmRlcmVkIGxpc3Qgb2Ygd29ya2VycyBmb3IgdGhlIHVwZGF0ZSBwcm9jZXNzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9waXBlID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgc3RhdGUgaW5mb3JtYXRpb24gZm9yIHRoZSBkcmFnIG9wZXJhdGlvbi5cclxuICAgICAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2RyYWcgPSB7XHJcbiAgICAgICAgICAgIHRpbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICAgICAgcG9pbnRlcjogbnVsbCxcclxuICAgICAgICAgICAgc3RhZ2U6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudDogbnVsbFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IG51bGxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHN0YXRlIGluZm9ybWF0aW9uIGFuZCB0aGVpciB0YWdzLlxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3N0YXRlcyA9IHtcclxuICAgICAgICAgICAgY3VycmVudDoge30sXHJcbiAgICAgICAgICAgIHRhZ3M6IHtcclxuICAgICAgICAgICAgICAgICdpbml0aWFsaXppbmcnOiBbICdidXN5JyBdLFxyXG4gICAgICAgICAgICAgICAgJ2FuaW1hdGluZyc6IFsgJ2J1c3knIF0sXHJcbiAgICAgICAgICAgICAgICAnZHJhZ2dpbmcnOiBbICdpbnRlcmFjdGluZycgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJC5lYWNoKFsgJ29uUmVzaXplJywgJ29uVGhyb3R0bGVkUmVzaXplJyBdLCAkLnByb3h5KGZ1bmN0aW9uKGksIGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0gPSAkLnByb3h5KHRoaXNbaGFuZGxlcl0sIHRoaXMpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKE93bC5QbHVnaW5zLCAkLnByb3h5KGZ1bmN0aW9uKGtleSwgcGx1Z2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsdWdpbnNba2V5LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpXVxyXG4gICAgICAgICAgICAgICAgPSBuZXcgcGx1Z2luKHRoaXMpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKE93bC5Xb3JrZXJzLCAkLnByb3h5KGZ1bmN0aW9uKHByaW9yaXR5LCB3b3JrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGlwZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICdmaWx0ZXInOiB3b3JrZXIuZmlsdGVyLFxyXG4gICAgICAgICAgICAgICAgJ3J1bic6ICQucHJveHkod29ya2VyLnJ1biwgdGhpcylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwKCk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGl0ZW1zOiAzLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgICAgcmV3aW5kOiBmYWxzZSxcclxuXHJcbiAgICAgICAgbW91c2VEcmFnOiB0cnVlLFxyXG4gICAgICAgIHRvdWNoRHJhZzogdHJ1ZSxcclxuICAgICAgICBwdWxsRHJhZzogdHJ1ZSxcclxuICAgICAgICBmcmVlRHJhZzogZmFsc2UsXHJcblxyXG4gICAgICAgIG1hcmdpbjogMCxcclxuICAgICAgICBzdGFnZVBhZGRpbmc6IDAsXHJcblxyXG4gICAgICAgIG1lcmdlOiBmYWxzZSxcclxuICAgICAgICBtZXJnZUZpdDogdHJ1ZSxcclxuICAgICAgICBhdXRvV2lkdGg6IGZhbHNlLFxyXG5cclxuICAgICAgICBzdGFydFBvc2l0aW9uOiAwLFxyXG4gICAgICAgIHJ0bDogZmFsc2UsXHJcblxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6IDI1MCxcclxuICAgICAgICBmbHVpZFNwZWVkOiBmYWxzZSxcclxuICAgICAgICBkcmFnRW5kU3BlZWQ6IGZhbHNlLFxyXG5cclxuICAgICAgICByZXNwb25zaXZlOiB7fSxcclxuICAgICAgICByZXNwb25zaXZlUmVmcmVzaFJhdGU6IDIwMCxcclxuICAgICAgICByZXNwb25zaXZlQmFzZUVsZW1lbnQ6IHdpbmRvdyxcclxuXHJcbiAgICAgICAgZmFsbGJhY2tFYXNpbmc6ICdzd2luZycsXHJcblxyXG4gICAgICAgIGluZm86IGZhbHNlLFxyXG5cclxuICAgICAgICBuZXN0ZWRJdGVtU2VsZWN0b3I6IGZhbHNlLFxyXG4gICAgICAgIGl0ZW1FbGVtZW50OiAnZGl2JyxcclxuICAgICAgICBzdGFnZUVsZW1lbnQ6ICdkaXYnLFxyXG5cclxuICAgICAgICByZWZyZXNoQ2xhc3M6ICdvd2wtcmVmcmVzaCcsXHJcbiAgICAgICAgbG9hZGVkQ2xhc3M6ICdvd2wtbG9hZGVkJyxcclxuICAgICAgICBsb2FkaW5nQ2xhc3M6ICdvd2wtbG9hZGluZycsXHJcbiAgICAgICAgcnRsQ2xhc3M6ICdvd2wtcnRsJyxcclxuICAgICAgICByZXNwb25zaXZlQ2xhc3M6ICdvd2wtcmVzcG9uc2l2ZScsXHJcbiAgICAgICAgZHJhZ0NsYXNzOiAnb3dsLWRyYWcnLFxyXG4gICAgICAgIGl0ZW1DbGFzczogJ293bC1pdGVtJyxcclxuICAgICAgICBzdGFnZUNsYXNzOiAnb3dsLXN0YWdlJyxcclxuICAgICAgICBzdGFnZU91dGVyQ2xhc3M6ICdvd2wtc3RhZ2Utb3V0ZXInLFxyXG4gICAgICAgIGdyYWJDbGFzczogJ293bC1ncmFiJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVudW1lcmF0aW9uIGZvciB3aWR0aC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQGVudW0ge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgT3dsLldpZHRoID0ge1xyXG4gICAgICAgIERlZmF1bHQ6ICdkZWZhdWx0JyxcclxuICAgICAgICBJbm5lcjogJ2lubmVyJyxcclxuICAgICAgICBPdXRlcjogJ291dGVyJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVudW1lcmF0aW9uIGZvciB0eXBlcy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQGVudW0ge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgT3dsLlR5cGUgPSB7XHJcbiAgICAgICAgRXZlbnQ6ICdldmVudCcsXHJcbiAgICAgICAgU3RhdGU6ICdzdGF0ZSdcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb250YWlucyBhbGwgcmVnaXN0ZXJlZCBwbHVnaW5zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wuUGx1Z2lucyA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdCBvZiB3b3JrZXJzIGludm9sdmVkIGluIHRoZSB1cGRhdGUgcHJvY2Vzcy5cclxuICAgICAqL1xyXG4gICAgT3dsLldvcmtlcnMgPSBbIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdGhpcy4kZWxlbWVudC53aWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IHRoaXMuX2l0ZW1zICYmIHRoaXMuX2l0ZW1zW3RoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCldO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2xvbmVkJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5zZXR0aW5ncy5tYXJnaW4gfHwgJycsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGwsXHJcbiAgICAgICAgICAgICAgICBjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6IHJ0bCA/IG1hcmdpbiA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tcmlnaHQnOiBydGwgPyAnJyA6IG1hcmdpblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICFncmlkICYmIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY3NzKGNzcyk7XHJcblxyXG4gICAgICAgICAgICBjYWNoZS5jc3MgPSBjc3M7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAodGhpcy53aWR0aCgpIC8gdGhpcy5zZXR0aW5ncy5pdGVtcykudG9GaXhlZCgzKSAtIHRoaXMuc2V0dGluZ3MubWFyZ2luLFxyXG4gICAgICAgICAgICAgICAgbWVyZ2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgd2lkdGhzID0gW107XHJcblxyXG4gICAgICAgICAgICBjYWNoZS5pdGVtcyA9IHtcclxuICAgICAgICAgICAgICAgIG1lcmdlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlID0gdGhpcy5fbWVyZ2Vyc1tpdGVyYXRvcl07XHJcbiAgICAgICAgICAgICAgICBtZXJnZSA9IHRoaXMuc2V0dGluZ3MubWVyZ2VGaXQgJiYgTWF0aC5taW4obWVyZ2UsIHRoaXMuc2V0dGluZ3MuaXRlbXMpIHx8IG1lcmdlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhY2hlLml0ZW1zLm1lcmdlID0gbWVyZ2UgPiAxIHx8IGNhY2hlLml0ZW1zLm1lcmdlO1xyXG5cclxuICAgICAgICAgICAgICAgIHdpZHRoc1tpdGVyYXRvcl0gPSAhZ3JpZCA/IHRoaXMuX2l0ZW1zW2l0ZXJhdG9yXS53aWR0aCgpIDogd2lkdGggKiBtZXJnZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fd2lkdGhzID0gd2lkdGhzO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5faXRlbXMsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG91bGQgYmUgY29tcHV0ZWQgZnJvbSBudW1iZXIgb2YgbWluIHdpZHRoIGl0ZW1zIGluIHN0YWdlXHJcbiAgICAgICAgICAgICAgICB2aWV3ID0gTWF0aC5tYXgoc2V0dGluZ3MuaXRlbXMgKiAyLCA0KSxcclxuICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLmNlaWwoaXRlbXMubGVuZ3RoIC8gMikgKiAyLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gc2V0dGluZ3MubG9vcCAmJiBpdGVtcy5sZW5ndGggPyBzZXR0aW5ncy5yZXdpbmQgPyB2aWV3IDogTWF0aC5tYXgodmlldywgc2l6ZSkgOiAwLFxyXG4gICAgICAgICAgICAgICAgYXBwZW5kID0gJycsXHJcbiAgICAgICAgICAgICAgICBwcmVwZW5kID0gJyc7XHJcblxyXG4gICAgICAgICAgICByZXBlYXQgLz0gMjtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQtLSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRvIG9ubHkgdXNpbmcgYXBwZW5kZWQgY2xvbmVzXHJcbiAgICAgICAgICAgICAgICBjbG9uZXMucHVzaCh0aGlzLm5vcm1hbGl6ZShjbG9uZXMubGVuZ3RoIC8gMiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgYXBwZW5kID0gYXBwZW5kICsgaXRlbXNbY2xvbmVzW2Nsb25lcy5sZW5ndGggLSAxXV1bMF0ub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVzLnB1c2godGhpcy5ub3JtYWxpemUoaXRlbXMubGVuZ3RoIC0gMSAtIChjbG9uZXMubGVuZ3RoIC0gMSkgLyAyLCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICBwcmVwZW5kID0gaXRlbXNbY2xvbmVzW2Nsb25lcy5sZW5ndGggLSAxXV1bMF0ub3V0ZXJIVE1MICsgcHJlcGVuZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY2xvbmVzID0gY2xvbmVzO1xyXG5cclxuICAgICAgICAgICAgJChhcHBlbmQpLmFkZENsYXNzKCdjbG9uZWQnKS5hcHBlbmRUbyh0aGlzLiRzdGFnZSk7XHJcbiAgICAgICAgICAgICQocHJlcGVuZCkuYWRkQ2xhc3MoJ2Nsb25lZCcpLnByZXBlbmRUbyh0aGlzLiRzdGFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsID8gMSA6IC0xLFxyXG4gICAgICAgICAgICAgICAgc2l6ZSA9IHRoaXMuX2Nsb25lcy5sZW5ndGggKyB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpdGVyYXRvciA9IC0xLFxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSAwLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IDAsXHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKCsraXRlcmF0b3IgPCBzaXplKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGNvb3JkaW5hdGVzW2l0ZXJhdG9yIC0gMV0gfHwgMDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShpdGVyYXRvcildICsgdGhpcy5zZXR0aW5ncy5tYXJnaW47XHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKHByZXZpb3VzICsgY3VycmVudCAqIHJ0bCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyxcclxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gdGhpcy5fY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICBjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogTWF0aC5jZWlsKE1hdGguYWJzKGNvb3JkaW5hdGVzW2Nvb3JkaW5hdGVzLmxlbmd0aCAtIDFdKSkgKyBwYWRkaW5nICogMixcclxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1sZWZ0JzogcGFkZGluZyB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1yaWdodCc6IHBhZGRpbmcgfHwgJydcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3MoY3NzKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGdyaWQgPSAhdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgsXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHRoaXMuJHN0YWdlLmNoaWxkcmVuKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZ3JpZCAmJiBjYWNoZS5pdGVtcy5tZXJnZSkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZS5jc3Mud2lkdGggPSB0aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShpdGVyYXRvcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmVxKGl0ZXJhdG9yKS5jc3MoY2FjaGUuY3NzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChncmlkKSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZS5jc3Mud2lkdGggPSBjYWNoZS5pdGVtcy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLmNzcyhjYWNoZS5jc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnaXRlbXMnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoIDwgMSAmJiB0aGlzLiRzdGFnZS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IGNhY2hlLmN1cnJlbnQgPyB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmluZGV4KGNhY2hlLmN1cnJlbnQpIDogMDtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IE1hdGgubWF4KHRoaXMubWluaW11bSgpLCBNYXRoLm1pbih0aGlzLm1heGltdW0oKSwgY2FjaGUuY3VycmVudCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KGNhY2hlLmN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3Bvc2l0aW9uJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSh0aGlzLmNvb3JkaW5hdGVzKHRoaXMuX2N1cnJlbnQpKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdwb3NpdGlvbicsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGwgPyAxIDogLTEsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcgKiAyLFxyXG4gICAgICAgICAgICAgICAgYmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMuY3VycmVudCgpKSArIHBhZGRpbmcsXHJcbiAgICAgICAgICAgICAgICBlbmQgPSBiZWdpbiArIHRoaXMud2lkdGgoKSAqIHJ0bCxcclxuICAgICAgICAgICAgICAgIGlubmVyLCBvdXRlciwgbWF0Y2hlcyA9IFtdLCBpLCBuO1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMCwgbiA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaW5uZXIgPSB0aGlzLl9jb29yZGluYXRlc1tpIC0gMV0gfHwgMDtcclxuICAgICAgICAgICAgICAgIG91dGVyID0gTWF0aC5hYnModGhpcy5fY29vcmRpbmF0ZXNbaV0pICsgcGFkZGluZyAqIHJ0bDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMub3AoaW5uZXIsICc8PScsIGJlZ2luKSAmJiAodGhpcy5vcChpbm5lciwgJz4nLCBlbmQpKSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAodGhpcy5vcChvdXRlciwgJzwnLCBiZWdpbikgJiYgdGhpcy5vcChvdXRlciwgJz4nLCBlbmQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCc6ZXEoJyArIG1hdGNoZXMuam9pbignKSwgOmVxKCcpICsgJyknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2VudGVyJykucmVtb3ZlQ2xhc3MoJ2NlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLmN1cnJlbnQoKSkuYWRkQ2xhc3MoJ2NlbnRlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmVudGVyKCdpbml0aWFsaXppbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2luaXRpYWxpemUnKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLnNldHRpbmdzLnJ0bENsYXNzLCB0aGlzLnNldHRpbmdzLnJ0bCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCAmJiAhdGhpcy5pcygncHJlLWxvYWRpbmcnKSkge1xyXG4gICAgICAgICAgICB2YXIgaW1ncywgbmVzdGVkU2VsZWN0b3IsIHdpZHRoO1xyXG4gICAgICAgICAgICBpbWdzID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbWcnKTtcclxuICAgICAgICAgICAgbmVzdGVkU2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvciA/ICcuJyArIHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4obmVzdGVkU2VsZWN0b3IpLndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW1ncy5sZW5ndGggJiYgd2lkdGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzKGltZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgc3RhZ2VcclxuICAgICAgICB0aGlzLiRzdGFnZSA9ICQoJzwnICsgdGhpcy5zZXR0aW5ncy5zdGFnZUVsZW1lbnQgKyAnIGNsYXNzPVwiJyArIHRoaXMuc2V0dGluZ3Muc3RhZ2VDbGFzcyArICdcIi8+JylcclxuICAgICAgICAgICAgLndyYXAoJzxkaXYgY2xhc3M9XCInICsgdGhpcy5zZXR0aW5ncy5zdGFnZU91dGVyQ2xhc3MgKyAnXCIvPicpO1xyXG5cclxuICAgICAgICAvLyBhcHBlbmQgc3RhZ2VcclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFwcGVuZCh0aGlzLiRzdGFnZS5wYXJlbnQoKSk7XHJcblxyXG4gICAgICAgIC8vIGFwcGVuZCBjb250ZW50XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlKHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy4kc3RhZ2UucGFyZW50KCkpKTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgdmlzaWJpbGl0eVxyXG4gICAgICAgIGlmICh0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGludmFsaWRhdGUgd2lkdGhcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCd3aWR0aCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcclxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50SGFuZGxlcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgnaW5pdGlhbGl6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdpbml0aWFsaXplZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwcyB0aGUgY3VycmVudCBzZXR0aW5ncy5cclxuICAgICAqIEB0b2RvIFJlbW92ZSByZXNwb25zaXZlIGNsYXNzZXMuIFdoeSBzaG91bGQgYWRhcHRpdmUgZGVzaWducyBiZSBicm91Z2h0IGludG8gSUU4P1xyXG4gICAgICogQHRvZG8gU3VwcG9ydCBmb3IgbWVkaWEgcXVlcmllcyBieSB1c2luZyBgbWF0Y2hNZWRpYWAgd291bGQgYmUgbmljZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnQoKSxcclxuICAgICAgICAgICAgb3ZlcndyaXRlcyA9IHRoaXMub3B0aW9ucy5yZXNwb25zaXZlLFxyXG4gICAgICAgICAgICBtYXRjaCA9IC0xLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmICghb3ZlcndyaXRlcykge1xyXG4gICAgICAgICAgICBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQuZWFjaChvdmVyd3JpdGVzLCBmdW5jdGlvbihicmVha3BvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnJlYWtwb2ludCA8PSB2aWV3cG9ydCAmJiBicmVha3BvaW50ID4gbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IE51bWJlcihicmVha3BvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG92ZXJ3cml0ZXNbbWF0Y2hdKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5zdGFnZVBhZGRpbmcgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzLnN0YWdlUGFkZGluZyA9IHNldHRpbmdzLnN0YWdlUGFkZGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5yZXNwb25zaXZlO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVzcG9uc2l2ZSBjbGFzc1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MucmVzcG9uc2l2ZUNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJykucmVwbGFjZShuZXcgUmVnRXhwKCcoJyArIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MgKyAnLSlcXFxcUytcXFxccycsICdnJyksICckMScgKyBtYXRjaClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAnc2V0dGluZ3MnLCB2YWx1ZTogc2V0dGluZ3MgfSB9KTtcclxuICAgICAgICB0aGlzLl9icmVha3BvaW50ID0gbWF0Y2g7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnc2V0dGluZ3MnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZWQnLCB7IHByb3BlcnR5OiB7IG5hbWU6ICdzZXR0aW5ncycsIHZhbHVlOiB0aGlzLnNldHRpbmdzIH0gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBvcHRpb24gbG9naWMgaWYgbmVjZXNzZXJ5LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9wdGlvbnNMb2dpYyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1lcmdlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmVzIGFuIGl0ZW0gYmVmb3JlIGFkZC5cclxuICAgICAqIEB0b2RvIFJlbmFtZSBldmVudCBwYXJhbWV0ZXIgYGNvbnRlbnRgIHRvIGBpdGVtYC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtqUXVlcnl8SFRNTEVsZW1lbnR9IC0gVGhlIGl0ZW0gY29udGFpbmVyLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnByZXBhcmUgPSBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy50cmlnZ2VyKCdwcmVwYXJlJywgeyBjb250ZW50OiBpdGVtIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWV2ZW50LmRhdGEpIHtcclxuICAgICAgICAgICAgZXZlbnQuZGF0YSA9ICQoJzwnICsgdGhpcy5zZXR0aW5ncy5pdGVtRWxlbWVudCArICcvPicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5vcHRpb25zLml0ZW1DbGFzcykuYXBwZW5kKGl0ZW0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3ByZXBhcmVkJywgeyBjb250ZW50OiBldmVudC5kYXRhIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSB2aWV3LlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpID0gMCxcclxuICAgICAgICAgICAgbiA9IHRoaXMuX3BpcGUubGVuZ3RoLFxyXG4gICAgICAgICAgICBmaWx0ZXIgPSAkLnByb3h5KGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXNbcF0gfSwgdGhpcy5faW52YWxpZGF0ZWQpLFxyXG4gICAgICAgICAgICBjYWNoZSA9IHt9O1xyXG5cclxuICAgICAgICB3aGlsZSAoaSA8IG4pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ludmFsaWRhdGVkLmFsbCB8fCAkLmdyZXAodGhpcy5fcGlwZVtpXS5maWx0ZXIsIGZpbHRlcikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGlwZVtpXS5ydW4oY2FjaGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVkID0ge307XHJcblxyXG4gICAgICAgICF0aGlzLmlzKCd2YWxpZCcpICYmIHRoaXMuZW50ZXIoJ3ZhbGlkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgd2lkdGggb2YgdGhlIHZpZXcuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge093bC5XaWR0aH0gW2RpbWVuc2lvbj1Pd2wuV2lkdGguRGVmYXVsdF0gLSBUaGUgZGltZW5zaW9uIHRvIHJldHVybi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIHdpZHRoIG9mIHRoZSB2aWV3IGluIHBpeGVsLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24oZGltZW5zaW9uKSB7XHJcbiAgICAgICAgZGltZW5zaW9uID0gZGltZW5zaW9uIHx8IE93bC5XaWR0aC5EZWZhdWx0O1xyXG4gICAgICAgIHN3aXRjaCAoZGltZW5zaW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgT3dsLldpZHRoLklubmVyOlxyXG4gICAgICAgICAgICBjYXNlIE93bC5XaWR0aC5PdXRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aCAtIHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nICogMiArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIGNhcm91c2VsIHByaW1hcmlseSBmb3IgYWRhcHRpdmUgcHVycG9zZXMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZW50ZXIoJ3JlZnJlc2hpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3JlZnJlc2gnKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnNMb2dpYygpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpO1xyXG5cclxuICAgICAgICB0aGlzLmxlYXZlKCdyZWZyZXNoaW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZWZyZXNoZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2luZG93IGByZXNpemVgIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uVGhyb3R0bGVkUmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVyKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5faGFuZGxlcnMub25SZXNpemUsIHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZVJlZnJlc2hSYXRlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2luZG93IGByZXNpemVgIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoID09PSB0aGlzLiRlbGVtZW50LndpZHRoKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW50ZXIoJ3Jlc2l6aW5nJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRyaWdnZXIoJ3Jlc2l6ZScpLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVhdmUoJ3Jlc2l6aW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnd2lkdGgnKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ3Jlc2l6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZXNpemVkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJzIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICogQHRvZG8gQ2hlY2sgYG1zUG9pbnRlckVuYWJsZWRgXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVnaXN0ZXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCArICcub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25UcmFuc2l0aW9uRW5kLCB0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm1vdXNlRHJhZykge1xyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5vbignbW91c2Vkb3duLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCdkcmFnc3RhcnQub3dsLmNvcmUgc2VsZWN0c3RhcnQub3dsLmNvcmUnLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudG91Y2hEcmFnKXtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ3RvdWNoc3RhcnQub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25EcmFnU3RhcnQsIHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ3RvdWNoY2FuY2VsLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ0VuZCwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGB0b3VjaHN0YXJ0YCBhbmQgYG1vdXNlZG93bmAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gSG9yaXpvbnRhbCBzd2lwZSB0aHJlc2hvbGQgYXMgb3B0aW9uXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub25EcmFnU3RhcnQgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBzdGFnZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJC5zdXBwb3J0LnRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuJHN0YWdlLmNzcygndHJhbnNmb3JtJykucmVwbGFjZSgvLipcXCh8XFwpfCAvZywgJycpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIHN0YWdlID0ge1xyXG4gICAgICAgICAgICAgICAgeDogc3RhZ2Vbc3RhZ2UubGVuZ3RoID09PSAxNiA/IDEyIDogNF0sXHJcbiAgICAgICAgICAgICAgICB5OiBzdGFnZVtzdGFnZS5sZW5ndGggPT09IDE2ID8gMTMgOiA1XVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YWdlID0gdGhpcy4kc3RhZ2UucG9zaXRpb24oKTtcclxuICAgICAgICAgICAgc3RhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnNldHRpbmdzLnJ0bCA/XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UubGVmdCArIHRoaXMuJHN0YWdlLndpZHRoKCkgLSB0aGlzLndpZHRoKCkgKyB0aGlzLnNldHRpbmdzLm1hcmdpbiA6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UubGVmdCxcclxuICAgICAgICAgICAgICAgIHk6IHN0YWdlLnRvcFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXMoJ2FuaW1hdGluZycpKSB7XHJcbiAgICAgICAgICAgICQuc3VwcG9ydC50cmFuc2Zvcm0gPyB0aGlzLmFuaW1hdGUoc3RhZ2UueCkgOiB0aGlzLiRzdGFnZS5zdG9wKClcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdwb3NpdGlvbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzLCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2RyYWcudGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHRoaXMuX2RyYWcudGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgICAgIHRoaXMuX2RyYWcuc3RhZ2Uuc3RhcnQgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLl9kcmFnLnN0YWdlLmN1cnJlbnQgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLl9kcmFnLnBvaW50ZXIgPSB0aGlzLnBvaW50ZXIoZXZlbnQpO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2V1cC5vd2wuY29yZSB0b3VjaGVuZC5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdFbmQsIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub25lKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eShmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLCB0aGlzLnBvaW50ZXIoZXZlbnQpKTtcclxuXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ01vdmUsIHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YS54KSA8IE1hdGguYWJzKGRlbHRhLnkpICYmIHRoaXMuaXMoJ3ZhbGlkJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZHJhZycpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBgdG91Y2htb3ZlYCBhbmQgYG1vdXNlbW92ZWAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ01vdmUgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBtaW5pbXVtID0gbnVsbCxcclxuICAgICAgICAgICAgbWF4aW11bSA9IG51bGwsXHJcbiAgICAgICAgICAgIHB1bGwgPSBudWxsLFxyXG4gICAgICAgICAgICBkZWx0YSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnBvaW50ZXIsIHRoaXMucG9pbnRlcihldmVudCkpLFxyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0LCBkZWx0YSk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pcygnZHJhZ2dpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5sb29wKSB7XHJcbiAgICAgICAgICAgIG1pbmltdW0gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkgKyAxKSAtIG1pbmltdW07XHJcbiAgICAgICAgICAgIHN0YWdlLnggPSAoKChzdGFnZS54IC0gbWluaW11bSkgJSBtYXhpbXVtICsgbWF4aW11bSkgJSBtYXhpbXVtKSArIG1pbmltdW07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWluaW11bSA9IHRoaXMuc2V0dGluZ3MucnRsID8gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSkgOiB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuc2V0dGluZ3MucnRsID8gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSkgOiB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpKTtcclxuICAgICAgICAgICAgcHVsbCA9IHRoaXMuc2V0dGluZ3MucHVsbERyYWcgPyAtMSAqIGRlbHRhLnggLyA1IDogMDtcclxuICAgICAgICAgICAgc3RhZ2UueCA9IE1hdGgubWF4KE1hdGgubWluKHN0YWdlLngsIG1pbmltdW0gKyBwdWxsKSwgbWF4aW11bSArIHB1bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50ID0gc3RhZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0ZShzdGFnZS54KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBgdG91Y2hlbmRgIGFuZCBgbW91c2V1cGAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHRvZG8gVGhyZXNob2xkIGZvciBjbGljayBldmVudFxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ0VuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGRlbHRhID0gdGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlciwgdGhpcy5wb2ludGVyKGV2ZW50KSksXHJcbiAgICAgICAgICAgIHN0YWdlID0gdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBkZWx0YS54ID4gMCBeIHRoaXMuc2V0dGluZ3MucnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub2ZmKCcub3dsLmNvcmUnKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKTtcclxuXHJcbiAgICAgICAgaWYgKGRlbHRhLnggIT09IDAgJiYgdGhpcy5pcygnZHJhZ2dpbmcnKSB8fCAhdGhpcy5pcygndmFsaWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkKHRoaXMuc2V0dGluZ3MuZHJhZ0VuZFNwZWVkIHx8IHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCh0aGlzLmNsb3Nlc3Qoc3RhZ2UueCwgZGVsdGEueCAhPT0gMCA/IGRpcmVjdGlvbiA6IHRoaXMuX2RyYWcuZGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWcuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhLngpID4gMyB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuX2RyYWcudGltZSA+IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZy50YXJnZXQub25lKCdjbGljay5vd2wuY29yZScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXMoJ2RyYWdnaW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgnZHJhZ2dpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RyYWdnZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjbG9zZXN0IGl0ZW0gZm9yIGEgY29vcmRpbmF0ZS5cclxuICAgICAqIEB0b2RvIFNldHRpbmcgYGZyZWVEcmFnYCBtYWtlcyBgY2xvc2VzdGAgbm90IHJldXNhYmxlLiBTZWUgIzE2NS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb29yZGluYXRlIC0gVGhlIGNvb3JkaW5hdGUgaW4gcGl4ZWwuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uIC0gVGhlIGRpcmVjdGlvbiB0byBjaGVjayBmb3IgdGhlIGNsb3Nlc3QgaXRlbS4gRXRoZXIgYGxlZnRgIG9yIGByaWdodGAuXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjbG9zZXN0IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKGNvb3JkaW5hdGUsIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IC0xLFxyXG4gICAgICAgICAgICBwdWxsID0gMzAsXHJcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aCgpLFxyXG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmZyZWVEcmFnKSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGNsb3Nlc3QgaXRlbVxyXG4gICAgICAgICAgICAkLmVhY2goY29vcmRpbmF0ZXMsICQucHJveHkoZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvbiBhIGxlZnQgcHVsbCwgY2hlY2sgb24gY3VycmVudCBtYWluLXBhZ2UtcGFnZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGNvb3JkaW5hdGUgPiB2YWx1ZSAtIHB1bGwgJiYgY29vcmRpbmF0ZSA8IHZhbHVlICsgcHVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gYSByaWdodCBwdWxsLCBjaGVjayBvbiBwcmV2aW91cyBtYWluLXBhZ2UtcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGRvIHNvLCBzdWJ0cmFjdCB3aWR0aCBmcm9tIHZhbHVlIGFuZCBzZXQgcG9zaXRpb24gPSBtYWluLXBhZ2UtcGFnZSArIDFcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnICYmIGNvb3JkaW5hdGUgPiB2YWx1ZSAtIHdpZHRoIC0gcHVsbCAmJiBjb29yZGluYXRlIDwgdmFsdWUgLSB3aWR0aCArIHB1bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPCcsIHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXMub3AoY29vcmRpbmF0ZSwgJz4nLCBjb29yZGluYXRlc1tpbmRleCArIDFdIHx8IHZhbHVlIC0gd2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IGluZGV4ICsgMSA6IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uID09PSAtMTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgLy8gbm9uIGxvb3AgYm91bmRyaWVzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wKGNvb3JkaW5hdGUsICc+JywgY29vcmRpbmF0ZXNbdGhpcy5taW5pbXVtKCldKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb29yZGluYXRlID0gdGhpcy5taW5pbXVtKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPCcsIGNvb3JkaW5hdGVzW3RoaXMubWF4aW11bSgpXSkpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29vcmRpbmF0ZSA9IHRoaXMubWF4aW11bSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQW5pbWF0ZXMgdGhlIHN0YWdlLlxyXG4gICAgICogQHRvZG8gIzI3MFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvb3JkaW5hdGUgLSBUaGUgY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uKGNvb3JkaW5hdGUpIHtcclxuICAgICAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuc3BlZWQoKSA+IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaXMoJ2FuaW1hdGluZycpICYmIHRoaXMub25UcmFuc2l0aW9uRW5kKCk7XHJcblxyXG4gICAgICAgIGlmIChhbmltYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ2FuaW1hdGluZycpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3RyYW5zbGF0ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2Zvcm0zZCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIGNvb3JkaW5hdGUgKyAncHgsMHB4LDBweCknLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogKHRoaXMuc3BlZWQoKSAvIDEwMDApICsgJ3MnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYW5pbWF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGNvb3JkaW5hdGUgKyAncHgnXHJcbiAgICAgICAgICAgIH0sIHRoaXMuc3BlZWQoKSwgdGhpcy5zZXR0aW5ncy5mYWxsYmFja0Vhc2luZywgJC5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCwgdGhpcykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBjb29yZGluYXRlICsgJ3B4J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGNhcm91c2VsIGlzIGluIGEgc3BlY2lmaWMgc3RhdGUgb3Igbm90LlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIGNoZWNrLlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gVGhlIGZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIHRoZSBjYXJvdXNlbCBpcyBidXN5LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmlzID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVzLmN1cnJlbnRbc3RhdGVdICYmIHRoaXMuX3N0YXRlcy5jdXJyZW50W3N0YXRlXSA+IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIG5ldyBhYnNvbHV0ZSBwb3NpdGlvbiBvciBub3RoaW5nIHRvIGxlYXZlIGl0IHVuY2hhbmdlZC5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5faXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgIT09IHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBldmVudCA9IHRoaXMudHJpZ2dlcignY2hhbmdlJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAncG9zaXRpb24nLCB2YWx1ZTogcG9zaXRpb24gfSB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBwb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlZCcsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3Bvc2l0aW9uJywgdmFsdWU6IHRoaXMuX2N1cnJlbnQgfSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludmFsaWRhdGVzIHRoZSBnaXZlbiBwYXJ0IG9mIHRoZSB1cGRhdGUgcm91dGluZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcGFydF0gLSBUaGUgcGFydCB0byBpbnZhbGlkYXRlLlxyXG4gICAgICogQHJldHVybnMge0FycmF5LjxTdHJpbmc+fSAtIFRoZSBpbnZhbGlkYXRlZCBwYXJ0cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24ocGFydCkge1xyXG4gICAgICAgIGlmICgkLnR5cGUocGFydCkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVkW3BhcnRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pcygndmFsaWQnKSAmJiB0aGlzLmxlYXZlKCd2YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJC5tYXAodGhpcy5faW52YWxpZGF0ZWQsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIGkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXRzIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBuZXcgaXRlbS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMDtcclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gcG9zaXRpb247XHJcblxyXG4gICAgICAgIHRoaXMuc3VwcHJlc3MoWyAndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZWQnIF0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyhwb3NpdGlvbikpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbGVhc2UoWyAndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZWQnIF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5vcm1hbGl6ZXMgYW4gYWJzb2x1dGUgb3IgYSByZWxhdGl2ZSBwb3NpdGlvbiBvZiBhbiBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIG9yIHJlbGF0aXZlIHBvc2l0aW9uIHRvIG5vcm1hbGl6ZS5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbGF0aXZlPWZhbHNlXSAtIFdoZXRoZXIgdGhlIGdpdmVuIHBvc2l0aW9uIGlzIHJlbGF0aXZlIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIG5vcm1hbGl6ZWQgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24ocG9zaXRpb24sIHJlbGF0aXZlKSB7XHJcbiAgICAgICAgdmFyIG4gPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG0gPSByZWxhdGl2ZSA/IDAgOiB0aGlzLl9jbG9uZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNOdW1lcmljKHBvc2l0aW9uKSB8fCBuIDwgMSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uIDwgMCB8fCBwb3NpdGlvbiA+PSBuICsgbSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9ICgocG9zaXRpb24gLSBtIC8gMikgJSBuICsgbikgJSBuICsgbSAvIDI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYW4gYWJzb2x1dGUgcG9zaXRpb24gb2YgYW4gaXRlbSBpbnRvIGEgcmVsYXRpdmUgb25lLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIHRvIGNvbnZlcnQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBjb252ZXJ0ZWQgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVsYXRpdmUgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHBvc2l0aW9uIC09IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbWF4aW11bSBwb3NpdGlvbiBmb3IgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbGF0aXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gcmV0dXJuIGFuIGFic29sdXRlIHBvc2l0aW9uIG9yIGEgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm1heGltdW0gPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLFxyXG4gICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCxcclxuICAgICAgICAgICAgZWxlbWVudFdpZHRoO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MubG9vcCkge1xyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDIgKyB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuYXV0b1dpZHRoIHx8IHNldHRpbmdzLm1lcmdlKSB7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5faXRlbXMubGVuZ3RoO1xyXG4gICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCA9IHRoaXMuX2l0ZW1zWy0taXRlcmF0b3JdLndpZHRoKCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnRXaWR0aCA9IHRoaXMuJGVsZW1lbnQud2lkdGgoKTtcclxuICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgIHJlY2lwcm9jYWxJdGVtc1dpZHRoICs9IHRoaXMuX2l0ZW1zW2l0ZXJhdG9yXS53aWR0aCgpICsgdGhpcy5zZXR0aW5ncy5tYXJnaW47XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjaXByb2NhbEl0ZW1zV2lkdGggPiBlbGVtZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXhpbXVtID0gaXRlcmF0b3IgKyAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuY2VudGVyKSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9pdGVtcy5sZW5ndGggLSBzZXR0aW5ncy5pdGVtcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICBtYXhpbXVtIC09IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1heGltdW0sIDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1pbmltdW0gcG9zaXRpb24gZm9yIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHJldHVybiBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBvciBhIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5taW5pbXVtID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcclxuICAgICAgICByZXR1cm4gcmVsYXRpdmUgPyAwIDogdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbiBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEByZXR1cm4ge2pRdWVyeXxBcnJheS48alF1ZXJ5Pn0gLSBUaGUgaXRlbSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gb3IgYWxsIGl0ZW1zIGlmIG5vIHBvc2l0aW9uIHdhcyBnaXZlbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pdGVtcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbcG9zaXRpb25dO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl8QXJyYXkuPGpRdWVyeT59IC0gVGhlIGl0ZW0gYXQgdGhlIGdpdmVuIHBvc2l0aW9uIG9yIGFsbCBpdGVtcyBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubWVyZ2VycyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlcnMuc2xpY2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUocG9zaXRpb24sIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZXJzW3Bvc2l0aW9uXTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbnMgb2YgY2xvbmVzIGZvciBhbiBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59IC0gVGhlIGFic29sdXRlIHBvc2l0aW9ucyBvZiBjbG9uZXMgZm9yIHRoZSBpdGVtIG9yIGFsbCBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY2xvbmVzID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgb2RkID0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDIsXHJcbiAgICAgICAgICAgIGV2ZW4gPSBvZGQgKyB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG1hcCA9IGZ1bmN0aW9uKGluZGV4KSB7IHJldHVybiBpbmRleCAlIDIgPT09IDAgPyBldmVuICsgaW5kZXggLyAyIDogb2RkIC0gKGluZGV4ICsgMSkgLyAyIH07XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jbG9uZXMsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIG1hcChpKSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jbG9uZXMsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIHYgPT09IHBvc2l0aW9uID8gbWFwKGkpIDogbnVsbCB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMgb3Igbm90aGluZyB0byBsZWF2ZSBpdCB1bmNoYW5nZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc3BlZWQgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgIGlmIChzcGVlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY29vcmRpbmF0ZSBvZiBhbiBpdGVtLlxyXG4gICAgICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgaXMgbWlzc2xlYW5kaW5nLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIHdpdGhpbiBgbWluaW11bSgpYCBhbmQgYG1heGltdW0oKWAuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfEFycmF5LjxOdW1iZXI+fSAtIFRoZSBjb29yZGluYXRlIG9mIHRoZSBpdGVtIGluIHBpeGVsIG9yIGFsbCBjb29yZGluYXRlcy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5jb29yZGluYXRlcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIG11bHRpcGxpZXIgPSAxLFxyXG4gICAgICAgICAgICBuZXdQb3NpdGlvbiA9IHBvc2l0aW9uIC0gMSxcclxuICAgICAgICAgICAgY29vcmRpbmF0ZTtcclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQubWFwKHRoaXMuX2Nvb3JkaW5hdGVzLCAkLnByb3h5KGZ1bmN0aW9uKGNvb3JkaW5hdGUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlcyhpbmRleCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNlbnRlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5ydGwpIHtcclxuICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gKyAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb29yZGluYXRlID0gdGhpcy5fY29vcmRpbmF0ZXNbcG9zaXRpb25dO1xyXG4gICAgICAgICAgICBjb29yZGluYXRlICs9ICh0aGlzLndpZHRoKCkgLSBjb29yZGluYXRlICsgKHRoaXMuX2Nvb3JkaW5hdGVzW25ld1Bvc2l0aW9uXSB8fCAwKSkgLyAyICogbXVsdGlwbGllcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb29yZGluYXRlID0gdGhpcy5fY29vcmRpbmF0ZXNbbmV3UG9zaXRpb25dIHx8IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb29yZGluYXRlID0gTWF0aC5jZWlsKGNvb3JkaW5hdGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzcGVlZCBmb3IgYSB0cmFuc2xhdGlvbi5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmcm9tIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBzdGFydCBpdGVtLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSB0YXJnZXQgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZmFjdG9yPXVuZGVmaW5lZF0gLSBUaGUgdGltZSBmYWN0b3IgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2xhdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uKGZyb20sIHRvLCBmYWN0b3IpIHtcclxuICAgICAgICBpZiAoZmFjdG9yID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KE1hdGguYWJzKHRvIC0gZnJvbSksIDEpLCA2KSAqIE1hdGguYWJzKChmYWN0b3IgfHwgdGhpcy5zZXR0aW5ncy5zbWFydFNwZWVkKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBzcGVjaWZpZWQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzcGVlZCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jdXJyZW50KCksXHJcbiAgICAgICAgICAgIHJldmVydCA9IG51bGwsXHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gcG9zaXRpb24gLSB0aGlzLnJlbGF0aXZlKGN1cnJlbnQpLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAoZGlzdGFuY2UgPiAwKSAtIChkaXN0YW5jZSA8IDApLFxyXG4gICAgICAgICAgICBpdGVtcyA9IHRoaXMuX2l0ZW1zLmxlbmd0aCxcclxuICAgICAgICAgICAgbWluaW11bSA9IHRoaXMubWluaW11bSgpLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5tYXhpbXVtKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnJld2luZCAmJiBNYXRoLmFicyhkaXN0YW5jZSkgPiBpdGVtcyAvIDIpIHtcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlICs9IGRpcmVjdGlvbiAqIC0xICogaXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gY3VycmVudCArIGRpc3RhbmNlO1xyXG4gICAgICAgICAgICByZXZlcnQgPSAoKHBvc2l0aW9uIC0gbWluaW11bSkgJSBpdGVtcyArIGl0ZW1zKSAlIGl0ZW1zICsgbWluaW11bTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXZlcnQgIT09IHBvc2l0aW9uICYmIHJldmVydCAtIGRpc3RhbmNlIDw9IG1heGltdW0gJiYgcmV2ZXJ0IC0gZGlzdGFuY2UgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmV2ZXJ0IC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHJldmVydDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MucmV3aW5kKSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gKz0gMTtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gJSBtYXhpbXVtICsgbWF4aW11bSkgJSBtYXhpbXVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5tYXgobWluaW11bSwgTWF0aC5taW4obWF4aW11bSwgcG9zaXRpb24pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQodGhpcy5kdXJhdGlvbihjdXJyZW50LCBwb3NpdGlvbiwgc3BlZWQpKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnQocG9zaXRpb24pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTbGlkZXMgdG8gdGhlIG5leHQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oc3BlZWQpIHtcclxuICAgICAgICBzcGVlZCA9IHNwZWVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSkgKyAxLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBwcmV2aW91cyBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgIHNwZWVkID0gc3BlZWQgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKSAtIDEsIHNwZWVkKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBlbmQgb2YgYW4gYW5pbWF0aW9uLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgIC8vIGlmIGNzczIgYW5pbWF0aW9uIHRoZW4gZXZlbnQgb2JqZWN0IGlzIHVuZGVmaW5lZFxyXG4gICAgICAgIGlmIChldmVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2F0Y2ggb25seSBvd2wtc3RhZ2UgdHJhbnNpdGlvbkVuZCBldmVudFxyXG4gICAgICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50Lm9yaWdpbmFsVGFyZ2V0KSAhPT0gdGhpcy4kc3RhZ2UuZ2V0KDApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ2FuaW1hdGluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcigndHJhbnNsYXRlZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdmlld3BvcnQgd2lkdGguXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIHdpZHRoIGluIHBpeGVsLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnZpZXdwb3J0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHdpZHRoO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50ICE9PSB3aW5kb3cpIHtcclxuICAgICAgICAgICAgd2lkdGggPSAkKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZUVsZW1lbnQpLndpZHRoKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NhbiBub3QgZGV0ZWN0IHZpZXdwb3J0IHdpZHRoLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgdGhlIGN1cnJlbnQgY29udGVudC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fFN0cmluZ30gY29udGVudCAtIFRoZSBuZXcgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICAgIHRoaXMuJHN0YWdlLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgY29udGVudCA9IChjb250ZW50IGluc3RhbmNlb2YgalF1ZXJ5KSA/IGNvbnRlbnQgOiAkKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LmZpbmQoJy4nICsgdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudC5maWx0ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlID09PSAxO1xyXG4gICAgICAgIH0pLmVhY2goJC5wcm94eShmdW5jdGlvbihpbmRleCwgaXRlbSkge1xyXG4gICAgICAgICAgICBpdGVtID0gdGhpcy5wcmVwYXJlKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21lcmdlcnMucHVzaChpdGVtLmZpbmQoJ1tkYXRhLW1lcmdlXScpLmFkZEJhY2soJ1tkYXRhLW1lcmdlXScpLmF0dHIoJ2RhdGEtbWVyZ2UnKSAqIDEgfHwgMSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0KHRoaXMuaXNOdW1lcmljKHRoaXMuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbikgPyB0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24gOiAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdpdGVtcycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbS5cclxuICAgICAqIEB0b2RvIFVzZSBgaXRlbWAgaW5zdGVhZCBvZiBgY29udGVudGAgZm9yIHRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fGpRdWVyeXxTdHJpbmd9IGNvbnRlbnQgLSBUaGUgaXRlbSBjb250ZW50IHRvIGFkZC5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIGF0IHdoaWNoIHRvIGluc2VydCB0aGUgaXRlbSBvdGhlcndpc2UgdGhlIGl0ZW0gd2lsbCBiZSBhZGRlZCB0byB0aGUgZW5kLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGNvbnRlbnQsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpO1xyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWQgPyB0aGlzLl9pdGVtcy5sZW5ndGggOiB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZW50IDogJChjb250ZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdhZGQnLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuXHJcbiAgICAgICAgY29udGVudCA9IHRoaXMucHJlcGFyZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCB8fCBwb3NpdGlvbiA9PT0gdGhpcy5faXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCAmJiB0aGlzLiRzdGFnZS5hcHBlbmQoY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLmxlbmd0aCAhPT0gMCAmJiB0aGlzLl9pdGVtc1twb3NpdGlvbiAtIDFdLmFmdGVyKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXJnZXJzLnB1c2goY29udGVudC5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXS5iZWZvcmUoY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZShwb3NpdGlvbiwgMCwgY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21lcmdlcnMuc3BsaWNlKHBvc2l0aW9uLCAwLCBjb250ZW50LmZpbmQoJ1tkYXRhLW1lcmdlXScpLmFkZEJhY2soJ1tkYXRhLW1lcmdlXScpLmF0dHIoJ2RhdGEtbWVyZ2UnKSAqIDEgfHwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1tjdXJyZW50XSAmJiB0aGlzLnJlc2V0KHRoaXMuX2l0ZW1zW2N1cnJlbnRdLmluZGV4KCkpO1xyXG5cclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ2l0ZW1zJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignYWRkZWQnLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gYnkgaXRzIHBvc2l0aW9uLlxyXG4gICAgICogQHRvZG8gVXNlIGBpdGVtYCBpbnN0ZWFkIG9mIGBjb250ZW50YCBmb3IgdGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSB0byByZW1vdmUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZW1vdmUnLCB7IGNvbnRlbnQ6IHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXSwgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1twb3NpdGlvbl0ucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuICAgICAgICB0aGlzLl9tZXJnZXJzLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnaXRlbXMnKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZW1vdmVkJywgeyBjb250ZW50OiBudWxsLCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJlbG9hZHMgaW1hZ2VzIHdpdGggYXV0byB3aWR0aC5cclxuICAgICAqIEB0b2RvIFJlcGxhY2UgYnkgYSBtb3JlIGdlbmVyaWMgYXBwcm9hY2hcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzID0gZnVuY3Rpb24oaW1hZ2VzKSB7XHJcbiAgICAgICAgaW1hZ2VzLmVhY2goJC5wcm94eShmdW5jdGlvbihpLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ3ByZS1sb2FkaW5nJyk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAkKG5ldyBJbWFnZSgpKS5vbmUoJ2xvYWQnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cignc3JjJywgZS50YXJnZXQuc3JjKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdvcGFjaXR5JywgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlYXZlKCdwcmUtbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgIXRoaXMuaXMoJ3ByZS1sb2FkaW5nJykgJiYgIXRoaXMuaXMoJ2luaXRpYWxpemluZycpICYmIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSkuYXR0cignc3JjJywgZWxlbWVudC5hdHRyKCdzcmMnKSB8fCBlbGVtZW50LmF0dHIoJ2RhdGEtc3JjJykgfHwgZWxlbWVudC5hdHRyKCdkYXRhLXNyYy1yZXRpbmEnKSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcub3dsLmNvcmUnKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5vZmYoJy5vd2wuY29yZScpO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignLm93bC5jb3JlJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lcik7XHJcbiAgICAgICAgICAgIHRoaXMub2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5fcGx1Z2lucykge1xyXG4gICAgICAgICAgICB0aGlzLl9wbHVnaW5zW2ldLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2xvbmVkJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuJHN0YWdlLnVud3JhcCgpO1xyXG4gICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLnVud3JhcCgpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50XHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ydGxDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJykucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MgKyAnLVxcXFxTK1xcXFxzJywgJ2cnKSwgJycpKVxyXG4gICAgICAgICAgICAucmVtb3ZlRGF0YSgnb3dsLmNhcm91c2VsJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlcmF0b3JzIHRvIGNhbGN1bGF0ZSByaWdodC10by1sZWZ0IGFuZCBsZWZ0LXRvLXJpZ2h0LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFthXSAtIFRoZSBsZWZ0IHNpZGUgb3BlcmFuZC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb10gLSBUaGUgb3BlcmF0b3IuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JdIC0gVGhlIHJpZ2h0IHNpZGUgb3BlcmFuZC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vcCA9IGZ1bmN0aW9uKGEsIG8sIGIpIHtcclxuICAgICAgICB2YXIgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGw7XHJcbiAgICAgICAgc3dpdGNoIChvKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJzwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0bCA/IGEgPiBiIDogYSA8IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJz4nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0bCA/IGEgPCBiIDogYSA+IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJz49JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhIDw9IGIgOiBhID49IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJzw9JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhID49IGIgOiBhIDw9IGI7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXR0YWNoZXMgdG8gYW4gaW50ZXJuYWwgZXZlbnQuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHNvdXJjZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIFRoZSBldmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgLSBUaGUgZXZlbnQgaGFuZGxlciB0byBhdHRhY2guXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmUgLSBXZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkIGF0IHRoZSBjYXB0dXJpbmcgcGhhc2Ugb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0YWNoZXMgZnJvbSBhbiBpbnRlcm5hbCBldmVudC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZXZlbnQgc291cmNlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IC0gVGhlIGV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBhdHRhY2hlZCBldmVudCBoYW5kbGVyIHRvIGRldGFjaC5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZSAtIFdldGhlciB0aGUgYXR0YWNoZWQgZXZlbnQgaGFuZGxlciB3YXMgcmVnaXN0ZXJlZCBhcyBhIGNhcHR1cmluZyBsaXN0ZW5lciBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgYSBwdWJsaWMgZXZlbnQuXHJcbiAgICAgKiBAdG9kbyBSZW1vdmUgYHN0YXR1c2AsIGByZWxhdGVkVGFyZ2V0YCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBUaGUgZXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSB7Kn0gW2RhdGE9bnVsbF0gLSBUaGUgZXZlbnQgZGF0YS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZXNwYWNlPWNhcm91c2VsXSAtIFRoZSBldmVudCBuYW1lc3BhY2UuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3N0YXRlXSAtIFRoZSBzdGF0ZSB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIGV2ZW50LlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZW50ZXI9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHRoZSBjYWxsIGVudGVycyB0aGUgc3BlY2lmaWVkIHN0YXRlIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm5zIHtFdmVudH0gLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihuYW1lLCBkYXRhLCBuYW1lc3BhY2UsIHN0YXRlLCBlbnRlcikge1xyXG4gICAgICAgIHZhciBzdGF0dXMgPSB7XHJcbiAgICAgICAgICAgIGl0ZW06IHsgY291bnQ6IHRoaXMuX2l0ZW1zLmxlbmd0aCwgaW5kZXg6IHRoaXMuY3VycmVudCgpIH1cclxuICAgICAgICB9LCBoYW5kbGVyID0gJC5jYW1lbENhc2UoXHJcbiAgICAgICAgICAgICQuZ3JlcChbICdvbicsIG5hbWUsIG5hbWVzcGFjZSBdLCBmdW5jdGlvbih2KSB7IHJldHVybiB2IH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbignLScpLnRvTG93ZXJDYXNlKClcclxuICAgICAgICApLCBldmVudCA9ICQuRXZlbnQoXHJcbiAgICAgICAgICAgIFsgbmFtZSwgJ293bCcsIG5hbWVzcGFjZSB8fCAnY2Fyb3VzZWwnIF0uam9pbignLicpLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHsgcmVsYXRlZFRhcmdldDogdGhpcyB9LCBzdGF0dXMsIGRhdGEpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdXByZXNzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLl9wbHVnaW5zLCBmdW5jdGlvbihuYW1lLCBwbHVnaW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25UcmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm9uVHJpZ2dlcihldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcih7IHR5cGU6IE93bC5UeXBlLkV2ZW50LCBuYW1lOiBuYW1lIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MgJiYgdHlwZW9mIHRoaXMuc2V0dGluZ3NbaGFuZGxlcl0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NbaGFuZGxlcl0uY2FsbCh0aGlzLCBldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnRlcnMgYSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN0YXRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJC5lYWNoKFsgbmFtZSBdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1tuYW1lXSB8fCBbXSksICQucHJveHkoZnVuY3Rpb24oaSwgbmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXSsrO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZXMgYSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN0YXRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJC5lYWNoKFsgbmFtZSBdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1tuYW1lXSB8fCBbXSksICQucHJveHkoZnVuY3Rpb24oaSwgbmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXS0tO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcnMgYW4gZXZlbnQgb3Igc3RhdGUuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gVGhlIGV2ZW50IG9yIHN0YXRlIHRvIHJlZ2lzdGVyLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdC50eXBlID09PSBPd2wuVHlwZS5FdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoISQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCEkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLm93bCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9kZWZhdWx0ID0gJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5fZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0uX2RlZmF1bHQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kZWZhdWx0ICYmIF9kZWZhdWx0LmFwcGx5ICYmICghZS5uYW1lc3BhY2UgfHwgZS5uYW1lc3BhY2UuaW5kZXhPZignb3dsJykgPT09IC0xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUubmFtZXNwYWNlICYmIGUubmFtZXNwYWNlLmluZGV4T2YoJ293bCcpID4gLTE7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5vd2wgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3QudHlwZSA9PT0gT3dsLlR5cGUuU3RhdGUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9IG9iamVjdC50YWdzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdID0gdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdLmNvbmNhdChvYmplY3QudGFncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9ICQuZ3JlcCh0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0sICQucHJveHkoZnVuY3Rpb24odGFnLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5pbkFycmF5KHRhZywgdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdKSA9PT0gaTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdXBwcmVzc2VzIGV2ZW50cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IGV2ZW50cyAtIFRoZSBldmVudHMgdG8gc3VwcHJlc3MuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc3VwcHJlc3MgPSBmdW5jdGlvbihldmVudHMpIHtcclxuICAgICAgICAkLmVhY2goZXZlbnRzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdXByZXNzW2V2ZW50XSA9IHRydWU7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbGVhc2VzIHN1cHByZXNzZWQgZXZlbnRzLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gZXZlbnRzIC0gVGhlIGV2ZW50cyB0byByZWxlYXNlLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbihldmVudHMpIHtcclxuICAgICAgICAkLmVhY2goZXZlbnRzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBldmVudCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3VwcmVzc1tldmVudF07XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdW5pZmllZCBwb2ludGVyIGNvb3JkaW5hdGVzIGZyb20gZXZlbnQuXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSAtIFRoZSBgbW91c2Vkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIENvbnRhaW5zIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wb2ludGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0geyB4OiBudWxsLCB5OiBudWxsIH07XHJcblxyXG4gICAgICAgIGV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XHJcblxyXG4gICAgICAgIGV2ZW50ID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA/XHJcbiAgICAgICAgICAgIGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudC5jaGFuZ2VkVG91Y2hlcyAmJiBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggP1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudDtcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LnBhZ2VYKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC54ID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgIHJlc3VsdC55ID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0LnggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICByZXN1bHQueSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGlucHV0IGlzIGEgTnVtYmVyIG9yIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGEgTnVtYmVyXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8T2JqZWN0fEFycmF5fEJvb2xlYW58UmVnRXhwfEZ1bmN0aW9ufFN5bWJvbH0gLSBUaGUgaW5wdXQgdG8gYmUgdGVzdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBBbiBpbmRpY2F0aW9uIGlmIHRoZSBpbnB1dCBpcyBhIE51bWJlciBvciBjYW4gYmUgY29lcmNlZCB0byBhIE51bWJlclxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChudW1iZXIpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBkaWZmZXJlbmNlIG9mIHR3byB2ZWN0b3JzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IC0gVGhlIGZpcnN0IHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gLSBUaGUgZGlmZmVyZW5jZS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24oZmlyc3QsIHNlY29uZCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IGZpcnN0LnggLSBzZWNvbmQueCxcclxuICAgICAgICAgICAgeTogZmlyc3QueSAtIHNlY29uZC55XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgalF1ZXJ5IFBsdWdpbiBmb3IgdGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICogQHRvZG8gTmF2aWdhdGlvbiBwbHVnaW4gYG5leHRgIGFuZCBgcHJldmBcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgJC5mbi5vd2xDYXJvdXNlbCA9IGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCdvd2wuY2Fyb3VzZWwnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBPd2wodGhpcywgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnb3dsLmNhcm91c2VsJywgZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKFtcclxuICAgICAgICAgICAgICAgICAgICAnbmV4dCcsICdwcmV2JywgJ3RvJywgJ2Rlc3Ryb3knLCAncmVmcmVzaCcsICdyZXBsYWNlJywgJ2FkZCcsICdyZW1vdmUnXHJcbiAgICAgICAgICAgICAgICBdLCBmdW5jdGlvbihpLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucmVnaXN0ZXIoeyB0eXBlOiBPd2wuVHlwZS5FdmVudCwgbmFtZTogZXZlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS4kZWxlbWVudC5vbihldmVudCArICcub3dsLmNhcm91c2VsLmNvcmUnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucmVsYXRlZFRhcmdldCAhPT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXBwcmVzcyhbIGV2ZW50IF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtldmVudF0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZShbIGV2ZW50IF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnICYmIG9wdGlvbi5jaGFyQXQoMCkgIT09ICdfJykge1xyXG4gICAgICAgICAgICAgICAgZGF0YVtvcHRpb25dLmFwcGx5KGRhdGEsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgalF1ZXJ5IFBsdWdpblxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yID0gT3dsO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEF1dG9SZWZyZXNoIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGF1dG8gcmVmcmVzaCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG8gUmVmcmVzaCBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIEF1dG9SZWZyZXNoID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZyZXNoIGludGVydmFsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2hldGhlciB0aGUgZWxlbWVudCBpcyBjdXJyZW50bHkgdmlzaWJsZSBvciBub3QuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b1JlZnJlc2guRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBBdXRvUmVmcmVzaC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvUmVmcmVzaDogdHJ1ZSxcclxuICAgICAgICBhdXRvUmVmcmVzaEludGVydmFsOiA1MDBcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXYXRjaGVzIHRoZSBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBBdXRvUmVmcmVzaC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRoaXMuX2NvcmUuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJyk7XHJcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLnJlZnJlc2gsIHRoaXMpLCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZnJlc2hlcyB0aGUgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5fY29yZS4kZWxlbWVudC5pcygnOnZpc2libGUnKSA9PT0gdGhpcy5fdmlzaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl92aXNpYmxlID0gIXRoaXMuX3Zpc2libGU7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ293bC1oaWRkZW4nLCAhdGhpcy5fdmlzaWJsZSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgJiYgKHRoaXMuX2NvcmUuaW52YWxpZGF0ZSgnd2lkdGgnKSAmJiB0aGlzLl9jb3JlLnJlZnJlc2goKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BdXRvUmVmcmVzaCA9IEF1dG9SZWZyZXNoO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIExhenkgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBsYXp5IHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgTGF6eSBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIExhenkgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbHJlYWR5IGxvYWRlZCBpdGVtcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0FycmF5LjxqUXVlcnk+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFdmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCBjaGFuZ2Uub3dsLmNhcm91c2VsIHJlc2l6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY29yZS5zZXR0aW5ncyB8fCAhdGhpcy5fY29yZS5zZXR0aW5ncy5sYXp5TG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGUucHJvcGVydHkgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHx8IGUudHlwZSA9PSAnaW5pdGlhbGl6ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IChzZXR0aW5ncy5jZW50ZXIgJiYgTWF0aC5jZWlsKHNldHRpbmdzLml0ZW1zIC8gMikgfHwgc2V0dGluZ3MuaXRlbXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gKChzZXR0aW5ncy5jZW50ZXIgJiYgbiAqIC0xKSB8fCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSAoZS5wcm9wZXJ0eSAmJiBlLnByb3BlcnR5LnZhbHVlICE9PSB1bmRlZmluZWQgPyBlLnByb3BlcnR5LnZhbHVlIDogdGhpcy5fY29yZS5jdXJyZW50KCkpICsgaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVzID0gdGhpcy5fY29yZS5jbG9uZXMoKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQgPSAkLnByb3h5KGZ1bmN0aW9uKGksIHYpIHsgdGhpcy5sb2FkKHYpIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSsrIDwgbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWQoY2xvbmVzIC8gMiArIHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVzICYmICQuZWFjaCh0aGlzLl9jb3JlLmNsb25lcyh0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSksIGxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBMYXp5LkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBMYXp5LkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGxhenlMb2FkOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIGFsbCByZXNvdXJjZXMgb2YgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBMYXp5LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgJGl0ZW0gPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHBvc2l0aW9uKSxcclxuICAgICAgICAgICAgJGVsZW1lbnRzID0gJGl0ZW0gJiYgJGl0ZW0uZmluZCgnLm93bC1sYXp5Jyk7XHJcblxyXG4gICAgICAgIGlmICghJGVsZW1lbnRzIHx8ICQuaW5BcnJheSgkaXRlbS5nZXQoMCksIHRoaXMuX2xvYWRlZCkgPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkZWxlbWVudHMuZWFjaCgkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCksIGltYWdlLFxyXG4gICAgICAgICAgICAgICAgdXJsID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSAmJiAkZWxlbWVudC5hdHRyKCdkYXRhLXNyYy1yZXRpbmEnKSkgfHwgJGVsZW1lbnQuYXR0cignZGF0YS1zcmMnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJGVsZW1lbnQuaXMoJ2ltZycpKSB7XHJcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5vbmUoJ2xvYWQub3dsLmxhenknLCAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcygnb3BhY2l0eScsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZGVkJywgeyBlbGVtZW50OiAkZWxlbWVudCwgdXJsOiB1cmwgfSwgJ2xhenknKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpKS5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiJyArIHVybCArICdcIiknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcxJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZGVkJywgeyBlbGVtZW50OiAkZWxlbWVudCwgdXJsOiB1cmwgfSwgJ2xhenknKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2FkZWQucHVzaCgkaXRlbS5nZXQoMCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIExhenkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuaGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkxhenkgPSBMYXp5O1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEF1dG9IZWlnaHQgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvIGhlaWdodCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG8gSGVpZ2h0IFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQXV0b0hlaWdodCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIHJlZnJlc2hlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0ICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2xvYWRlZC5vd2wubGF6eSc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGUuZWxlbWVudC5jbG9zZXN0KCcuJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKS5pbmRleCgpID09PSB0aGlzLl9jb3JlLmN1cnJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBdXRvSGVpZ2h0LkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b0hlaWdodC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICBhdXRvSGVpZ2h0Q2xhc3M6ICdvd2wtaGVpZ2h0J1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIHZpZXcuXHJcbiAgICAgKi9cclxuICAgIEF1dG9IZWlnaHQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2NvcmUuX2N1cnJlbnQsXHJcbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0ICsgdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtcyxcclxuICAgICAgICAgICAgdmlzaWJsZSA9IHRoaXMuX2NvcmUuJHN0YWdlLmNoaWxkcmVuKCkudG9BcnJheSgpLnNsaWNlKHN0YXJ0LCBlbmQpLFxyXG4gICAgICAgICAgICBoZWlnaHRzID0gW10sXHJcbiAgICAgICAgICAgIG1heGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICQuZWFjaCh2aXNpYmxlLCBmdW5jdGlvbihpbmRleCwgaXRlbSkge1xyXG4gICAgICAgICAgICBoZWlnaHRzLnB1c2goJChpdGVtKS5oZWlnaHQoKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1heGhlaWdodCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGhlaWdodHMpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRzdGFnZS5wYXJlbnQoKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KG1heGhlaWdodClcclxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodENsYXNzKTtcclxuICAgIH07XHJcblxyXG4gICAgQXV0b0hlaWdodC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BdXRvSGVpZ2h0ID0gQXV0b0hlaWdodDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBWaWRlbyBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIHZpZGVvIHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgVmlkZW8gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBWaWRlbyA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FjaGUgYWxsIHZpZGVvIFVSTHMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdmlkZW9zID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgcGxheWluZyBpdGVtLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHRvZG8gVGhlIGNsb25lZCBjb250ZW50IHJlbW92YWxlIGlzIHRvbyBsYXRlXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUucmVnaXN0ZXIoeyB0eXBlOiAnc3RhdGUnLCBuYW1lOiAncGxheWluZycsIHRhZ3M6IFsgJ2ludGVyYWN0aW5nJyBdIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3Jlc2l6ZS5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvICYmIHRoaXMuaXNJbkZ1bGxTY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZWZyZXNoZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5pcygncmVzaXppbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUuJHN0YWdlLmZpbmQoJy5jbG9uZWQgLm93bC12aWRlby1mcmFtZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAncG9zaXRpb24nICYmIHRoaXMuX3BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlLmNvbnRlbnQpLmZpbmQoJy5vd2wtdmlkZW8nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoKCRlbGVtZW50LCAkKGUuY29udGVudCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVmlkZW8uRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24oJ2NsaWNrLm93bC52aWRlbycsICcub3dsLXZpZGVvLXBsYXktaWNvbicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXkoZSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgVmlkZW8uRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgdmlkZW86IGZhbHNlLFxyXG4gICAgICAgIHZpZGVvSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICB2aWRlb1dpZHRoOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHZpZGVvIElEIGFuZCB0aGUgdHlwZSAoWW91VHViZS9WaW1lby92emFhciBvbmx5KS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IGNvbnRhaW5pbmcgdGhlIHZpZGVvIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gaXRlbSAtIFRoZSBpdGVtIGNvbnRhaW5pbmcgdGhlIHZpZGVvLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbih0YXJnZXQsIGl0ZW0pIHtcclxuICAgICAgICB2YXIgdHlwZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuYXR0cignZGF0YS12aW1lby1pZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aW1lbyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5hdHRyKCdkYXRhLXZ6YWFyLWlkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3Z6YWFyJ1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICBpZCA9IHRhcmdldC5hdHRyKCdkYXRhLXZpbWVvLWlkJykgfHwgdGFyZ2V0LmF0dHIoJ2RhdGEteW91dHViZS1pZCcpIHx8IHRhcmdldC5hdHRyKCdkYXRhLXZ6YWFyLWlkJyksXHJcbiAgICAgICAgICAgIHdpZHRoID0gdGFyZ2V0LmF0dHIoJ2RhdGEtd2lkdGgnKSB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IHRhcmdldC5hdHRyKCdkYXRhLWhlaWdodCcpIHx8IHRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW9IZWlnaHQsXHJcbiAgICAgICAgICAgIHVybCA9IHRhcmdldC5hdHRyKCdocmVmJyk7XHJcblxyXG4gICAgICAgIGlmICh1cmwpIHtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgUGFyc2VzIHRoZSBpZCdzIG91dCBvZiB0aGUgZm9sbG93aW5nIHVybHMgKGFuZCBwcm9iYWJseSBtb3JlKTpcclxuICAgICAgICAgICAgICAgICAgICBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PTppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8veW91dHUuYmUvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vY2hhbm5lbHMvOmNoYW5uZWwvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vZ3JvdXBzLzpncm91cC92aWRlb3MvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly9hcHAudnphYXIuY29tL3ZpZGVvcy86aWRcclxuICAgICAgICAgICAgICAgICAgICBWaXN1YWwgZXhhbXBsZTogaHR0cHM6Ly9yZWdleHBlci5jb20vIyhodHRwJTNBJTdDaHR0cHMlM0ElN0MpJTVDJTJGJTVDJTJGKHBsYXllci4lN0N3d3cuJTdDYXBwLiklM0YodmltZW8lNUMuY29tJTdDeW91dHUoYmUlNUMuY29tJTdDJTVDLmJlJTdDYmUlNUMuZ29vZ2xlYXBpcyU1Qy5jb20pJTdDdnphYXIlNUMuY29tKSU1QyUyRih2aWRlbyU1QyUyRiU3Q3ZpZGVvcyU1QyUyRiU3Q2VtYmVkJTVDJTJGJTdDY2hhbm5lbHMlNUMlMkYuJTJCJTVDJTJGJTdDZ3JvdXBzJTVDJTJGLiUyQiU1QyUyRiU3Q3dhdGNoJTVDJTNGdiUzRCU3Q3YlNUMlMkYpJTNGKCU1QkEtWmEtejAtOS5fJTI1LSU1RCopKCU1QyUyNiU1Q1MlMkIpJTNGXHJcbiAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICBpZCA9IHVybC5tYXRjaCgvKGh0dHA6fGh0dHBzOnwpXFwvXFwvKHBsYXllci58d3d3LnxhcHAuKT8odmltZW9cXC5jb218eW91dHUoYmVcXC5jb218XFwuYmV8YmVcXC5nb29nbGVhcGlzXFwuY29tKXx2emFhclxcLmNvbSlcXC8odmlkZW9cXC98dmlkZW9zXFwvfGVtYmVkXFwvfGNoYW5uZWxzXFwvLitcXC98Z3JvdXBzXFwvLitcXC98d2F0Y2hcXD92PXx2XFwvKT8oW0EtWmEtejAtOS5fJS1dKikoXFwmXFxTKyk/Lyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaWRbM10uaW5kZXhPZigneW91dHUnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlkWzNdLmluZGV4T2YoJ3ZpbWVvJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICd2aW1lbyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWRbM10uaW5kZXhPZigndnphYXInKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3Z6YWFyJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmlkZW8gVVJMIG5vdCBzdXBwb3J0ZWQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWQgPSBpZFs2XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdmlkZW8gVVJMLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlkZW9zW3VybF0gPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0uYXR0cignZGF0YS12aWRlbycsIHVybCk7XHJcblxyXG4gICAgICAgIHRoaXMudGh1bWJuYWlsKHRhcmdldCwgdGhpcy5fdmlkZW9zW3VybF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdmlkZW8gdGh1bWJuYWlsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHRhcmdldCAtIFRoZSB0YXJnZXQgY29udGFpbmluZyB0aGUgdmlkZW8gZGF0YS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIC0gVGhlIHZpZGVvIGluZm8gb2JqZWN0LlxyXG4gICAgICogQHNlZSBgZmV0Y2hgXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS50aHVtYm5haWwgPSBmdW5jdGlvbih0YXJnZXQsIHZpZGVvKSB7XHJcbiAgICAgICAgdmFyIHRuTGluayxcclxuICAgICAgICAgICAgaWNvbixcclxuICAgICAgICAgICAgcGF0aCxcclxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IHZpZGVvLndpZHRoICYmIHZpZGVvLmhlaWdodCA/ICdzdHlsZT1cIndpZHRoOicgKyB2aWRlby53aWR0aCArICdweDtoZWlnaHQ6JyArIHZpZGVvLmhlaWdodCArICdweDtcIicgOiAnJyxcclxuICAgICAgICAgICAgY3VzdG9tVG4gPSB0YXJnZXQuZmluZCgnaW1nJyksXHJcbiAgICAgICAgICAgIHNyY1R5cGUgPSAnc3JjJyxcclxuICAgICAgICAgICAgbGF6eUNsYXNzID0gJycsXHJcbiAgICAgICAgICAgIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgY3JlYXRlID0gZnVuY3Rpb24ocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgaWNvbiA9ICc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXBsYXktaWNvblwiPjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmxhenlMb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG5MaW5rID0gJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tdG4gJyArIGxhenlDbGFzcyArICdcIiAnICsgc3JjVHlwZSArICc9XCInICsgcGF0aCArICdcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0bkxpbmsgPSAnPGRpdiBjbGFzcz1cIm93bC12aWRlby10blwiIHN0eWxlPVwib3BhY2l0eToxO2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBwYXRoICsgJylcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFmdGVyKHRuTGluayk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuYWZ0ZXIoaWNvbik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHdyYXAgdmlkZW8gY29udGVudCBpbnRvIG93bC12aWRlby13cmFwcGVyIGRpdlxyXG4gICAgICAgIHRhcmdldC53cmFwKCc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXdyYXBwZXJcIicgKyBkaW1lbnNpb25zICsgJz48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQpIHtcclxuICAgICAgICAgICAgc3JjVHlwZSA9ICdkYXRhLXNyYyc7XHJcbiAgICAgICAgICAgIGxhenlDbGFzcyA9ICdvd2wtbGF6eSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjdXN0b20gdGh1bWJuYWlsXHJcbiAgICAgICAgaWYgKGN1c3RvbVRuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjcmVhdGUoY3VzdG9tVG4uYXR0cihzcmNUeXBlKSk7XHJcbiAgICAgICAgICAgIGN1c3RvbVRuLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmlkZW8udHlwZSA9PT0gJ3lvdXR1YmUnKSB7XHJcbiAgICAgICAgICAgIHBhdGggPSBcIi8vaW1nLnlvdXR1YmUuY29tL3ZpL1wiICsgdmlkZW8uaWQgKyBcIi9ocWRlZmF1bHQuanBnXCI7XHJcbiAgICAgICAgICAgIGNyZWF0ZShwYXRoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2aW1lbycpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLy92aW1lby5jb20vYXBpL3YyL3ZpZGVvLycgKyB2aWRlby5pZCArICcuanNvbicsXHJcbiAgICAgICAgICAgICAgICBqc29ucDogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBkYXRhWzBdLnRodW1ibmFpbF9sYXJnZTtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGUocGF0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3Z6YWFyJykge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvL3Z6YWFyLmNvbS9hcGkvdmlkZW9zLycgKyB2aWRlby5pZCArICcuanNvbicsXHJcbiAgICAgICAgICAgICAgICBqc29ucDogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBkYXRhLmZyYW1lZ3JhYl91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgdGhlIGN1cnJlbnQgdmlkZW8uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wJywgbnVsbCwgJ3ZpZGVvJyk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZy5maW5kKCcub3dsLXZpZGVvLWZyYW1lJykucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZy5yZW1vdmVDbGFzcygnb3dsLXZpZGVvLXBsYXlpbmcnKTtcclxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jb3JlLmxlYXZlKCdwbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wcGVkJywgbnVsbCwgJ3ZpZGVvJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSBjdXJyZW50IHZpZGVvLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KSxcclxuICAgICAgICAgICAgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcuJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKSxcclxuICAgICAgICAgICAgdmlkZW8gPSB0aGlzLl92aWRlb3NbaXRlbS5hdHRyKCdkYXRhLXZpZGVvJyldLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHZpZGVvLndpZHRoIHx8ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gdmlkZW8uaGVpZ2h0IHx8IHRoaXMuX2NvcmUuJHN0YWdlLmhlaWdodCgpLFxyXG4gICAgICAgICAgICBodG1sO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fcGxheWluZykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLmVudGVyKCdwbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdwbGF5JywgbnVsbCwgJ3ZpZGVvJyk7XHJcblxyXG4gICAgICAgIGl0ZW0gPSB0aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUoaXRlbS5pbmRleCgpKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUucmVzZXQoaXRlbS5pbmRleCgpKTtcclxuXHJcbiAgICAgICAgaWYgKHZpZGVvLnR5cGUgPT09ICd5b3V0dWJlJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIiBzcmM9XCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICtcclxuICAgICAgICAgICAgICAgIHZpZGVvLmlkICsgJz9hdXRvcGxheT0xJnJlbD0wJnY9JyArIHZpZGVvLmlkICsgJ1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3ZpbWVvJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgc3JjPVwiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLycgKyB2aWRlby5pZCArXHJcbiAgICAgICAgICAgICAgICAnP2F1dG9wbGF5PTFcIiB3aWR0aD1cIicgKyB3aWR0aCArICdcIiBoZWlnaHQ9XCInICsgaGVpZ2h0ICtcclxuICAgICAgICAgICAgICAgICdcIiBmcmFtZWJvcmRlcj1cIjBcIiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3Z6YWFyJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgZnJhbWVib3JkZXI9XCIwXCInICsgJ2hlaWdodD1cIicgKyBoZWlnaHQgKyAnXCInICsgJ3dpZHRoPVwiJyArIHdpZHRoICtcclxuICAgICAgICAgICAgICAgICdcIiBhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIHdlYmtpdEFsbG93RnVsbFNjcmVlbiAnICtcclxuICAgICAgICAgICAgICAgICdzcmM9XCIvL3ZpZXcudnphYXIuY29tLycgKyB2aWRlby5pZCArICcvcGxheWVyP2F1dG9wbGF5PXRydWVcIj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnPGRpdiBjbGFzcz1cIm93bC12aWRlby1mcmFtZVwiPicgKyBodG1sICsgJzwvZGl2PicpLmluc2VydEFmdGVyKGl0ZW0uZmluZCgnLm93bC12aWRlbycpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IGl0ZW0uYWRkQ2xhc3MoJ293bC12aWRlby1wbGF5aW5nJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYW4gdmlkZW8gaXMgY3VycmVudGx5IGluIGZ1bGwgc2NyZWVuIG1vZGUgb3Igbm90LlxyXG4gICAgICogQHRvZG8gQmFkIHN0eWxlIGJlY2F1c2UgbG9va3MgbGlrZSBhIHJlYWRvbmx5IG1ldGhvZCBidXQgY2hhbmdlcyBtZW1iZXJzLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5pc0luRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcclxuICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50ICYmICQoZWxlbWVudCkucGFyZW50KCkuaGFzQ2xhc3MoJ293bC12aWRlby1mcmFtZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZignY2xpY2sub3dsLnZpZGVvJyk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuVmlkZW8gPSBWaWRlbztcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBbmltYXRlIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgYW5pbWF0ZSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIE5hdmlnYXRpb24gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gc2NvcGUgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBBbmltYXRlID0gZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICB0aGlzLmNvcmUgPSBzY29wZTtcclxuICAgICAgICB0aGlzLmNvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBbmltYXRlLkRlZmF1bHRzLCB0aGlzLmNvcmUub3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5zd2FwcGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdjaGFuZ2Uub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzID0gdGhpcy5jb3JlLmN1cnJlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBlLnByb3BlcnR5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2RyYWcub3dsLmNhcm91c2VsIGRyYWdnZWQub3dsLmNhcm91c2VsIHRyYW5zbGF0ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3YXBwaW5nID0gZS50eXBlID09ICd0cmFuc2xhdGVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICd0cmFuc2xhdGUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5zd2FwcGluZyAmJiAodGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZU91dCB8fCB0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlSW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jb3JlLiRlbGVtZW50Lm9uKHRoaXMuaGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhbmltYXRlT3V0OiBmYWxzZSxcclxuICAgICAgICBhbmltYXRlSW46IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVG9nZ2xlcyB0aGUgYW5pbWF0aW9uIGNsYXNzZXMgd2hlbmV2ZXIgYW4gdHJhbnNsYXRpb25zIHN0YXJ0cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufHVuZGVmaW5lZH1cclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb3JlLnNldHRpbmdzLml0ZW1zICE9PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghJC5zdXBwb3J0LmFuaW1hdGlvbiB8fCAhJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb3JlLnNwZWVkKDApO1xyXG5cclxuICAgICAgICB2YXIgbGVmdCxcclxuICAgICAgICAgICAgY2xlYXIgPSAkLnByb3h5KHRoaXMuY2xlYXIsIHRoaXMpLFxyXG4gICAgICAgICAgICBwcmV2aW91cyA9IHRoaXMuY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLnByZXZpb3VzKSxcclxuICAgICAgICAgICAgbmV4dCA9IHRoaXMuY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLm5leHQpLFxyXG4gICAgICAgICAgICBpbmNvbWluZyA9IHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4sXHJcbiAgICAgICAgICAgIG91dGdvaW5nID0gdGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVPdXQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvcmUuY3VycmVudCgpID09PSB0aGlzLnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvdXRnb2luZykge1xyXG4gICAgICAgICAgICBsZWZ0ID0gdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMucHJldmlvdXMpIC0gdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMubmV4dCk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzLm9uZSgkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCwgY2xlYXIpXHJcbiAgICAgICAgICAgICAgICAuY3NzKCB7ICdsZWZ0JzogbGVmdCArICdweCcgfSApXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1vdXQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKG91dGdvaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmNvbWluZykge1xyXG4gICAgICAgICAgICBuZXh0Lm9uZSgkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCwgY2xlYXIpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1pbicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoaW5jb21pbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgJChlLnRhcmdldCkuY3NzKCB7ICdsZWZ0JzogJycgfSApXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgb3dsLWFuaW1hdGVkLW91dCBvd2wtYW5pbWF0ZWQtaW4nKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVJbilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlT3V0KTtcclxuICAgICAgICB0aGlzLmNvcmUub25UcmFuc2l0aW9uRW5kKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLmhhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BbmltYXRlID0gQW5pbWF0ZTtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBdXRvcGxheSBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvcGxheSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG9wbGF5IFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IHNjb3BlIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQXV0b3BsYXkgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge093bH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBhdXRvcGxheSB0aW1lb3V0LlxyXG4gICAgICAgICAqIEB0eXBlIHtUaW1lb3V0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hlbmV2ZXIgdGhlIGF1dG9wbGF5IGlzIHBhdXNlZC5cclxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdzZXR0aW5ncycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3BsYXk/JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0QXV0b1BsYXlJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncGxheS5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKGUsIHQsIHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSh0LCBzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdzdG9wLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnbW91c2VvdmVyLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdtb3VzZWxlYXZlLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3RvdWNoc3RhcnQub3dsLmNvcmUnOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAndG91Y2hlbmQub3dsLmNvcmUnOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBdXRvcGxheS5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICBhdXRvcGxheVRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgYXV0b3BsYXlIb3ZlclBhdXNlOiBmYWxzZSxcclxuICAgICAgICBhdXRvcGxheVNwZWVkOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgYXV0b3BsYXkuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVvdXRdIC0gVGhlIGludGVydmFsIGJlZm9yZSB0aGUgbmV4dCBhbmltYXRpb24gc3RhcnRzLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgYW5pbWF0aW9uIHNwZWVkIGZvciB0aGUgYW5pbWF0aW9ucy5cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbih0aW1lb3V0LCBzcGVlZCkge1xyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLmVudGVyKCdyb3RhdGluZycpO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRBdXRvUGxheUludGVydmFsKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIG5ldyB0aW1lb3V0XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lb3V0XSAtIFRoZSBpbnRlcnZhbCBiZWZvcmUgdGhlIG5leHQgYW5pbWF0aW9uIHN0YXJ0cy5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBmb3IgdGhlIGFuaW1hdGlvbnMuXHJcbiAgICAgKiBAcmV0dXJuIHtUaW1lb3V0fVxyXG4gICAgICovXHJcbiAgICBBdXRvcGxheS5wcm90b3R5cGUuX2dldE5leHRUaW1lb3V0ID0gZnVuY3Rpb24odGltZW91dCwgc3BlZWQpIHtcclxuICAgICAgICBpZiAoIHRoaXMuX3RpbWVvdXQgKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGF1c2VkIHx8IHRoaXMuX2NvcmUuaXMoJ2J1c3knKSB8fCB0aGlzLl9jb3JlLmlzKCdpbnRlcmFjdGluZycpIHx8IGRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUubmV4dChzcGVlZCB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5U3BlZWQpO1xyXG4gICAgICAgIH0sIHRoaXMpLCB0aW1lb3V0IHx8IHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlUaW1lb3V0KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGF1dG9wbGF5IGluIG1vdGlvbi5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5fc2V0QXV0b1BsYXlJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSB0aGlzLl9nZXROZXh0VGltZW91dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBhdXRvcGxheS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcclxuICAgICAgICB0aGlzLl9jb3JlLmxlYXZlKCdyb3RhdGluZycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBhdXRvcGxheS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLmF1dG9wbGF5ID0gQXV0b3BsYXk7XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogTmF2aWdhdGlvbiBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBuYXZpZ2F0aW9uIHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgTmF2aWdhdGlvbiBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWwuXHJcbiAgICAgKi9cclxuICAgIHZhciBOYXZpZ2F0aW9uID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcGx1Z2luIGlzIGluaXRpYWxpemVkIG9yIG5vdC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcGFnaW5nIGluZGV4ZXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wYWdlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgRE9NIGVsZW1lbnRzIG9mIHRoZSB1c2VyIGludGVyZmFjZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb250cm9scyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNYXJrdXAgZm9yIGFuIGluZGljYXRvci5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0FycmF5LjxTdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgY2Fyb3VzZWwgZWxlbWVudC5cclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSB0aGlzLl9jb3JlLiRlbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPdmVycmlkZGVuIG1ldGhvZHMgb2YgdGhlIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX292ZXJyaWRlcyA9IHtcclxuICAgICAgICAgICAgbmV4dDogdGhpcy5fY29yZS5uZXh0LFxyXG4gICAgICAgICAgICBwcmV2OiB0aGlzLl9jb3JlLnByZXYsXHJcbiAgICAgICAgICAgIHRvOiB0aGlzLl9jb3JlLnRvXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5wdXNoKCc8ZGl2IGNsYXNzPVwiJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90Q2xhc3MgKyAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZS5jb250ZW50KS5maW5kKCdbZGF0YS1kb3RdJykuYWRkQmFjaygnW2RhdGEtZG90XScpLmF0dHIoJ2RhdGEtZG90JykgKyAnPC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnYWRkZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMCwgdGhpcy5fdGVtcGxhdGVzLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZW1vdmUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmICF0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignaW5pdGlhbGl6ZScsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdpbml0aWFsaXplZCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncmVmcmVzaGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdyZWZyZXNoJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcigncmVmcmVzaGVkJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIE5hdmlnYXRpb24uRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHRvZG8gUmVuYW1lIGBzbGlkZUJ5YCB0byBgbmF2QnlgXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24uRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgICBuYXZUZXh0OiBbICcnLCAnJyBdLFxyXG4gICAgICAgIG5hdlNwZWVkOiBmYWxzZSxcclxuICAgICAgICBuYXZFbGVtZW50OiAnZGl2JyxcclxuICAgICAgICBuYXZDb250YWluZXI6IGZhbHNlLFxyXG4gICAgICAgIG5hdkNvbnRhaW5lckNsYXNzOiAnb3dsLW5hdicsXHJcbiAgICAgICAgbmF2Q2xhc3M6IFsgJ293bC1wcmV2JywgJ293bC1uZXh0JyBdLFxyXG4gICAgICAgIHNsaWRlQnk6IDEsXHJcbiAgICAgICAgZG90Q2xhc3M6ICdvd2wtZG90JyxcclxuICAgICAgICBkb3RzQ2xhc3M6ICdvd2wtZG90cycsXHJcbiAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICBkb3RzRWFjaDogZmFsc2UsXHJcbiAgICAgICAgZG90c0RhdGE6IGZhbHNlLFxyXG4gICAgICAgIGRvdHNTcGVlZDogZmFsc2UsXHJcbiAgICAgICAgZG90c0NvbnRhaW5lcjogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbGF5b3V0IG9mIHRoZSBwbHVnaW4gYW5kIGV4dGVuZHMgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG92ZXJyaWRlLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBET00gc3RydWN0dXJlIGZvciByZWxhdGl2ZSBuYXZpZ2F0aW9uXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHJlbGF0aXZlID0gKHNldHRpbmdzLm5hdkNvbnRhaW5lciA/ICQoc2V0dGluZ3MubmF2Q29udGFpbmVyKVxyXG4gICAgICAgICAgICA6ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q29udGFpbmVyQ2xhc3MpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHByZXZpb3VzID0gJCgnPCcgKyBzZXR0aW5ncy5uYXZFbGVtZW50ICsgJz4nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q2xhc3NbMF0pXHJcbiAgICAgICAgICAgIC5odG1sKHNldHRpbmdzLm5hdlRleHRbMF0pXHJcbiAgICAgICAgICAgIC5wcmVwZW5kVG8odGhpcy5fY29udHJvbHMuJHJlbGF0aXZlKVxyXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXYoc2V0dGluZ3MubmF2U3BlZWQpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJG5leHQgPSAkKCc8JyArIHNldHRpbmdzLm5hdkVsZW1lbnQgKyAnPicpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhzZXR0aW5ncy5uYXZDbGFzc1sxXSlcclxuICAgICAgICAgICAgLmh0bWwoc2V0dGluZ3MubmF2VGV4dFsxXSlcclxuICAgICAgICAgICAgLmFwcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSlcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0KHNldHRpbmdzLm5hdlNwZWVkKTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgRE9NIHN0cnVjdHVyZSBmb3IgYWJzb2x1dGUgbmF2aWdhdGlvblxyXG4gICAgICAgIGlmICghc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVzID0gWyAkKCc8ZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MuZG90Q2xhc3MpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpKVxyXG4gICAgICAgICAgICAgICAgLnByb3AoJ291dGVySFRNTCcpIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUgPSAoc2V0dGluZ3MuZG90c0NvbnRhaW5lciA/ICQoc2V0dGluZ3MuZG90c0NvbnRhaW5lcilcclxuICAgICAgICAgICAgOiAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRvdHNDbGFzcykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUub24oJ2NsaWNrJywgJ2RpdicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5pcyh0aGlzLl9jb250cm9scy4kYWJzb2x1dGUpXHJcbiAgICAgICAgICAgICAgICA/ICQoZS50YXJnZXQpLmluZGV4KCkgOiAkKGUudGFyZ2V0KS5wYXJlbnQoKS5pbmRleCgpO1xyXG5cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50byhpbmRleCwgc2V0dGluZ3MuZG90c1NwZWVkKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgIC8vIG92ZXJyaWRlIHB1YmxpYyBtZXRob2RzIG9mIHRoZSBjYXJvdXNlbFxyXG4gICAgICAgIGZvciAob3ZlcnJpZGUgaW4gdGhpcy5fb3ZlcnJpZGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmVbb3ZlcnJpZGVdID0gJC5wcm94eSh0aGlzW292ZXJyaWRlXSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgY29udHJvbCwgcHJvcGVydHksIG92ZXJyaWRlO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnRyb2wgaW4gdGhpcy5fY29udHJvbHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHNbY29udHJvbF0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAob3ZlcnJpZGUgaW4gdGhpcy5vdmVyaWRlcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlW292ZXJyaWRlXSA9IHRoaXMuX292ZXJyaWRlc1tvdmVycmlkZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIHN0YXRlLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaSwgaiwgayxcclxuICAgICAgICAgICAgbG93ZXIgPSB0aGlzLl9jb3JlLmNsb25lcygpLmxlbmd0aCAvIDIsXHJcbiAgICAgICAgICAgIHVwcGVyID0gbG93ZXIgKyB0aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY29yZS5tYXhpbXVtKHRydWUpLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIHNpemUgPSBzZXR0aW5ncy5jZW50ZXIgfHwgc2V0dGluZ3MuYXV0b1dpZHRoIHx8IHNldHRpbmdzLmRvdHNEYXRhXHJcbiAgICAgICAgICAgICAgICA/IDEgOiBzZXR0aW5ncy5kb3RzRWFjaCB8fCBzZXR0aW5ncy5pdGVtcztcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLnNsaWRlQnkgIT09ICdwYWdlJykge1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5zbGlkZUJ5ID0gTWF0aC5taW4oc2V0dGluZ3Muc2xpZGVCeSwgc2V0dGluZ3MuaXRlbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmRvdHMgfHwgc2V0dGluZ3Muc2xpZGVCeSA9PSAncGFnZScpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IGxvd2VyLCBqID0gMCwgayA9IDA7IGkgPCB1cHBlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA+PSBzaXplIHx8IGogPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGgubWluKG1heGltdW0sIGkgLSBsb3dlciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaSAtIGxvd2VyICsgc2l6ZSAtIDFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5taW4obWF4aW11bSwgaSAtIGxvd2VyKSA9PT0gbWF4aW11bSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaiA9IDAsICsraztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGogKz0gdGhpcy5fY29yZS5tZXJnZXJzKHRoaXMuX2NvcmUucmVsYXRpdmUoaSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIHRoZSB1c2VyIGludGVyZmFjZS5cclxuICAgICAqIEB0b2RvIFRoZSBvcHRpb24gYGRvdHNEYXRhYCB3b250IHdvcmsuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBkaXNhYmxlZCA9IHRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGggPD0gc2V0dGluZ3MuaXRlbXMsXHJcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSksXHJcbiAgICAgICAgICAgIGxvb3AgPSBzZXR0aW5ncy5sb29wIHx8IHNldHRpbmdzLnJld2luZDtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHJlbGF0aXZlLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFzZXR0aW5ncy5uYXYgfHwgZGlzYWJsZWQpO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MubmF2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cy50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhbG9vcCAmJiBpbmRleCA8PSB0aGlzLl9jb3JlLm1pbmltdW0odHJ1ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kbmV4dC50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhbG9vcCAmJiBpbmRleCA+PSB0aGlzLl9jb3JlLm1heGltdW0odHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFzZXR0aW5ncy5kb3RzIHx8IGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmRvdHMpIHtcclxuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuX3BhZ2VzLmxlbmd0aCAtIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5kb3RzRGF0YSAmJiBkaWZmZXJlbmNlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuaHRtbCh0aGlzLl90ZW1wbGF0ZXMuam9pbignJykpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpZmZlcmVuY2UgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuYXBwZW5kKG5ldyBBcnJheShkaWZmZXJlbmNlICsgMSkuam9pbih0aGlzLl90ZW1wbGF0ZXNbMF0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWZmZXJlbmNlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmNoaWxkcmVuKCkuc2xpY2UoZGlmZmVyZW5jZSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5lcSgkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRlbmRzIGV2ZW50IGRhdGEuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBvYmplY3Qgd2hpY2ggZ2V0cyB0aHJvd24uXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLm9uVHJpZ2dlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncztcclxuXHJcbiAgICAgICAgZXZlbnQucGFnZSA9IHtcclxuICAgICAgICAgICAgaW5kZXg6ICQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpLFxyXG4gICAgICAgICAgICBjb3VudDogdGhpcy5fcGFnZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBzaXplOiBzZXR0aW5ncyAmJiAoc2V0dGluZ3MuY2VudGVyIHx8IHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5kb3RzRGF0YVxyXG4gICAgICAgICAgICAgICAgPyAxIDogc2V0dGluZ3MuZG90c0VhY2ggfHwgc2V0dGluZ3MuaXRlbXMpXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHBhZ2UgcG9zaXRpb24gb2YgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSk7XHJcbiAgICAgICAgcmV0dXJuICQuZ3JlcCh0aGlzLl9wYWdlcywgJC5wcm94eShmdW5jdGlvbihwYWdlLCBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFnZS5zdGFydCA8PSBjdXJyZW50ICYmIHBhZ2UuZW5kID49IGN1cnJlbnQ7XHJcbiAgICAgICAgfSwgdGhpcykpLnBvcCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgc3VjY2Vzb3IvcHJlZGVjZXNzb3IgcG9zaXRpb24uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHN1Y2Nlc3Nvcikge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiwgbGVuZ3RoLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zbGlkZUJ5ID09ICdwYWdlJykge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9ICQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpO1xyXG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLl9wYWdlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NvciA/ICsrcG9zaXRpb24gOiAtLXBvc2l0aW9uO1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuX3BhZ2VzWygocG9zaXRpb24gJSBsZW5ndGgpICsgbGVuZ3RoKSAlIGxlbmd0aF0uc3RhcnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKTtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aDtcclxuICAgICAgICAgICAgc3VjY2Vzc29yID8gcG9zaXRpb24gKz0gc2V0dGluZ3Muc2xpZGVCeSA6IHBvc2l0aW9uIC09IHNldHRpbmdzLnNsaWRlQnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBuZXh0IGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuZ2V0UG9zaXRpb24odHJ1ZSksIHNwZWVkKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTbGlkZXMgdG8gdGhlIHByZXZpb3VzIGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuZ2V0UG9zaXRpb24oZmFsc2UpLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBzcGVjaWZpZWQgaXRlbSBvciBwYWdlLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIG9yIHBhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzdGFuZGFyZD1mYWxzZV0gLSBXaGV0aGVyIHRvIHVzZSB0aGUgc3RhbmRhcmQgYmVoYXZpb3VyIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUudG8gPSBmdW5jdGlvbihwb3NpdGlvbiwgc3BlZWQsIHN0YW5kYXJkKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKCFzdGFuZGFyZCAmJiB0aGlzLl9wYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fcGFnZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAkLnByb3h5KHRoaXMuX292ZXJyaWRlcy50bywgdGhpcy5fY29yZSkodGhpcy5fcGFnZXNbKChwb3NpdGlvbiAlIGxlbmd0aCkgKyBsZW5ndGgpICUgbGVuZ3RoXS5zdGFydCwgc3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKShwb3NpdGlvbiwgc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLk5hdmlnYXRpb24gPSBOYXZpZ2F0aW9uO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEhhc2ggUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgaGFzaCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEhhc2ggUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBIYXNoID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIYXNoIG1haW4tcGFnZS1wYWdlIGZvciB0aGUgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFzaGVzID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBjYXJvdXNlbCBlbGVtZW50LlxyXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9IHRoaXMuX2NvcmUuJGVsZW1lbnQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbiA9PT0gJ1VSTEhhc2gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ2hhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNoID0gJChlLmNvbnRlbnQpLmZpbmQoJ1tkYXRhLWhhc2hdJykuYWRkQmFjaygnW2RhdGEtaGFzaF0nKS5hdHRyKCdkYXRhLWhhc2gnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhc2hlc1toYXNoXSA9IGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fY29yZS5pdGVtcyh0aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggPSAkLm1hcCh0aGlzLl9oYXNoZXMsIGZ1bmN0aW9uKGl0ZW0sIGhhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtID09PSBjdXJyZW50ID8gaGFzaCA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNoIHx8IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpID09PSBoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIEhhc2guRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBsaXN0ZW5lciBmb3IgaGFzaCBuYXZpZ2F0aW9uXHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpLFxyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9oYXNoZXNbaGFzaF0gJiYgaXRlbXMuaW5kZXgodGhpcy5faGFzaGVzW2hhc2hdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSB0aGlzLl9jb3JlLmN1cnJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLnRvKHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgSGFzaC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBVUkxoYXNoTGlzdGVuZXI6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgSGFzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZignaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbicpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkhhc2ggPSBIYXNoO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIFN1cHBvcnQgUGx1Z2luXHJcbiAqXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgVml2aWQgUGxhbmV0IFNvZnR3YXJlIEdtYkhcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgdmFyIHN0eWxlID0gJCgnPHN1cHBvcnQ+JykuZ2V0KDApLnN0eWxlLFxyXG4gICAgICAgIHByZWZpeGVzID0gJ1dlYmtpdCBNb3ogTyBtcycuc3BsaXQoJyAnKSxcclxuICAgICAgICBldmVudHMgPSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIFdlYmtpdFRyYW5zaXRpb246ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBNb3pUcmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgT1RyYW5zaXRpb246ICdvVHJhbnNpdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgV2Via2l0QW5pbWF0aW9uOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBNb3pBbmltYXRpb246ICdhbmltYXRpb25lbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIE9BbmltYXRpb246ICdvQW5pbWF0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246ICdhbmltYXRpb25lbmQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlc3RzID0ge1xyXG4gICAgICAgICAgICBjc3N0cmFuc2Zvcm1zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ3RyYW5zZm9ybScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjc3N0cmFuc2Zvcm1zM2Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGVzdCgncGVyc3BlY3RpdmUnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzdHJhbnNpdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGVzdCgndHJhbnNpdGlvbicpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjc3NhbmltYXRpb25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ2FuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiB0ZXN0KHByb3BlcnR5LCBwcmVmaXhlZCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZSxcclxuICAgICAgICAgICAgdXBwZXIgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xyXG5cclxuICAgICAgICAkLmVhY2goKHByb3BlcnR5ICsgJyAnICsgcHJlZml4ZXMuam9pbih1cHBlciArICcgJykgKyB1cHBlcikuc3BsaXQoJyAnKSwgZnVuY3Rpb24oaSwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBwcmVmaXhlZCA/IHByb3BlcnR5IDogdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByZWZpeGVkKHByb3BlcnR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRlc3QocHJvcGVydHksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3N0cmFuc2l0aW9ucygpKSB7XHJcbiAgICAgICAgLyoganNoaW50IC1XMDUzICovXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSBuZXcgU3RyaW5nKHByZWZpeGVkKCd0cmFuc2l0aW9uJykpXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kID0gZXZlbnRzLnRyYW5zaXRpb24uZW5kWyAkLnN1cHBvcnQudHJhbnNpdGlvbiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3NhbmltYXRpb25zKCkpIHtcclxuICAgICAgICAvKiBqc2hpbnQgLVcwNTMgKi9cclxuICAgICAgICAkLnN1cHBvcnQuYW5pbWF0aW9uID0gbmV3IFN0cmluZyhwcmVmaXhlZCgnYW5pbWF0aW9uJykpXHJcbiAgICAgICAgJC5zdXBwb3J0LmFuaW1hdGlvbi5lbmQgPSBldmVudHMuYW5pbWF0aW9uLmVuZFsgJC5zdXBwb3J0LmFuaW1hdGlvbiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3N0cmFuc2Zvcm1zKCkpIHtcclxuICAgICAgICAvKiBqc2hpbnQgLVcwNTMgKi9cclxuICAgICAgICAkLnN1cHBvcnQudHJhbnNmb3JtID0gbmV3IFN0cmluZyhwcmVmaXhlZCgndHJhbnNmb3JtJykpO1xyXG4gICAgICAgICQuc3VwcG9ydC50cmFuc2Zvcm0zZCA9IHRlc3RzLmNzc3RyYW5zZm9ybXMzZCgpO1xyXG4gICAgfVxyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBUZXN0IGZvciBwbGFjZWhvbGRlciBzdXBwb3J0XHJcbi8qJC5zdXBwb3J0LnBsYWNlaG9sZGVyID0gKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICByZXR1cm4gJ3BsYWNlaG9sZGVyJyBpbiBpO1xyXG59KSgpO1xyXG5cclxuLy8gSGlkZSBsYWJlbHMgYnkgZGVmYXVsdCBpZiBwbGFjZWhvbGRlcnMgYXJlIHN1cHBvcnRlZFxyXG5pZigkLnN1cHBvcnQucGxhY2Vob2xkZXIpIHtcclxuICAgICQoJy5mb3JtLWxhYmVsJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2pzLWhpZGUtbGFiZWwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENvZGUgZm9yIGFkZGluZy9yZW1vdmluZyBjbGFzc2VzIGhlcmVcclxuICAgICQoJy5mb3JtLWdyb3VwJykuZmluZCgnaW5wdXQsIHRleHRhcmVhJykub24oJ2tleXVwIGJsdXIgZm9jdXMnLCBmdW5jdGlvbihlKXtcclxuXHJcbiAgICAgICAgLy8gQ2FjaGUgb3VyIHNlbGVjdG9yc1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICRwYXJlbnQgPSAkdGhpcy5wYXJlbnQoKS5maW5kKFwibGFiZWxcIik7XHJcblxyXG4gICAgICAgIGlmIChlLnR5cGUgPT0gJ2tleXVwJykge1xyXG4gICAgICAgICAgICBpZiggJHRoaXMudmFsKCkgPT0gJycgKSB7XHJcbiAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdqcy1oaWRlLWxhYmVsJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdqcy1oaWRlLWxhYmVsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS50eXBlID09ICdibHVyJykge1xyXG4gICAgICAgICAgICBpZiggJHRoaXMudmFsKCkgPT0gJycgKSB7XHJcbiAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdqcy1oaWRlLWxhYmVsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdqcy1oaWRlLWxhYmVsJykuYWRkQ2xhc3MoJ2pzLXVuaGlnaGxpZ2h0LWxhYmVsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS50eXBlID09ICdmb2N1cycpIHtcclxuICAgICAgICAgICAgaWYoICR0aGlzLnZhbCgpICE9PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2pzLXVuaGlnaGxpZ2h0LWxhYmVsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSovXHJcbiAgICAkKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBmb3JtQW5pbWF0ZWRJbnB1dCA9ICQoJy5mb3JtLWFuaW1hdGUtZmllbGRzIC5mb3JtLWlucHV0Jyk7XHJcblxyXG4gICAgICAgIGZvcm1BbmltYXRlZElucHV0LmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAkdGhpcy5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdpcy1maWxsZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkdGhpcy5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYoJHRoaXMudmFsKCkubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnaXMtZmlsbGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT1NQVA9PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG5mdW5jdGlvbiBteU1hcCgpXHJcbntcclxuICAgIG15Q2VudGVyPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoNDEuODc4MTE0LCAtODcuNjI5Nzk4KTtcclxuICAgIHZhciBtYXBPcHRpb25zPSB7XHJcbiAgICAgICAgY2VudGVyOm15Q2VudGVyLFxyXG4gICAgICAgIHpvb206MTIsIHNjcm9sbHdoZWVsOiBmYWxzZSwgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgICAgICBtYXBUeXBlSWQ6Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcclxuICAgIH07XHJcbiAgICB2YXIgbWFwPW5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnb29nbGVNYXBcIiksbWFwT3B0aW9ucyk7XHJcblxyXG4gICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIHBvc2l0aW9uOiBteUNlbnRlcixcclxuICAgIH0pO1xyXG4gICAgbWFya2VyLnNldE1hcChtYXApO1xyXG59XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PWZvcm09PT09PT09PT0qL1xyXG4kKCcudG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcuY29udGFpbmVyJykuc3RvcCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxufSk7XHJcblxyXG4kKCcuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICQoJy5jb250YWluZXInKS5zdG9wKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKXtcclxuICAgICQoXCIub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcclxuICAgICAgICBpdGVtczogMSxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB0cnVlLFxyXG4gICAgICAgIHNpbmdsZUl0ZW06IHRydWUsXHJcbiAgICAgICAgaXRlbXNTY2FsZVVwIDogdHJ1ZSxcclxuICAgICAgICBzbGlkZVNwZWVkOiA1MDAsXHJcbiAgICAgICAgYXV0b1BsYXk6IHRydWUsXHJcbiAgICAgICAgYXV0b1BsYXlTcGVlZDogNTAwLFxyXG4gICAgICAgIGF1dG9QbGF5VGltZW91dDogNTAwXHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5pdGVtJykuYW5pbWF0ZSh7XHJcbiAgICAgICAgYmFja2dyb3VuZFNpemU6ICcxMzAlJ1xyXG4gICAgfSwgMzAwMDApO1xyXG5cclxuXHJcbiAgICB2YXIgZG90ID0gJCgnLnNsaWRlV3JhcCAub3dsLWRvdCcpO1xyXG4gICAgZG90LmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gJCh0aGlzKS5pbmRleCgpICsgMTtcclxuICAgICAgICBpZihpbmRleCA8IDEwKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5odG1sKCcwJykuYXBwZW5kKGluZGV4KTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJCh0aGlzKS5odG1sKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJyk7XHJcbiAgICB2YXIgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdsaXRjaG1lJyk7XHJcbiAgICB2YXIgY291bnQgPSBOdW1iZXIoaW1nLmRhdGFzZXQuZ2xpdGNoQ291bnQpO1xyXG5cclxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBnbGl0Y2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBjbG9uZWQgaW1hZ2UgdG8gZGl2IHdyYXBwZXJcclxuICAgICAgICAgICAgZ2xpdGNoLmNsYXNzTmFtZSArPSAnIGdsaXRjaGVkIGdsaXRjaC0nK2k7XHJcbiAgICAgICAgICAgIGdsaXRjaC5zdHlsZSA9ICdiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJytpbWcuZ2V0QXR0cmlidXRlKCdzcmMnKSsnKTsgd2lkdGg6ICcraW1nLndpZHRoKydweDsgaGVpZ2h0OicraW1nLmhlaWdodCsncHgnO1xyXG5cclxuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChnbGl0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGdsaXRjaGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdsaXRjaGVkJyk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGdsaXRjaGVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgZ2xpdGNoZXNbaV0uY2xhc3NMaXN0LnRvZ2dsZSgnZ2xpdGNoLXBhdXNlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgMzAwMCk7XHJcblxyXG59KTtcclxuXHJcbi8qPT09PT09PT09PT09PXBhcmFsbGF4PT09PT09PT09PSovXHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN0ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuJCgnLmFib3V0LWRlc2NyaXB0aW9uJykuY3NzKHtcclxuICAgIFwidHJhbnNmb3JtXCI6IFwidHJhbnNsYXRlKDAlLCBcIiArIC1zdCAvIDUwICsgXCIlXCJcclxufSk7XHJcblxyXG4kKCcuc3RvcnktaW1hZ2UnKS5jc3Moe1xyXG4gICAgXCJ0cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGUoMCUsIFwiICsgc3QgLyA0MCArIFwiJVwiXHJcbn0pO1xyXG5cclxuJCgnLm1lbnUtZGVzY3JpcHRpb24nKS5jc3Moe1xyXG4gICAgXCJ0cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGUoMCUsIFwiICsgLXN0IC8gNzAgKyBcIiVcIlxyXG4gfSk7XHJcblxyXG4gJCgnLmtpdGNoZW4taW1nJykuY3NzKHtcclxuICAgICBcInRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZSgwJSwgXCIgKyAtc3QgLyA1MCArIFwiJVwiXHJcbiB9KTtcclxuXHJcbiQoJy5jaGllZi1pbWcnKS5jc3Moe1xyXG4gICAgXCJ0cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGUoMCUsIFwiICsgLXN0IC8gNDAgKyBcIiVcIlxyXG4gfSk7XHJcblxyXG59KTtcclxuXHJcbi8qPT09PT09PT09PT09PVBSRUxPQURFUj09PT09PT09Ki9cclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICQoXCIjcHJlbG9hZGVyXCIpLmRlbGF5KDYwMDApLmZhZGVPdXQoXCJzbG93XCIpOyAvLyB3aWxsIGZhZGUgb3V0IHRoZSB3aGl0ZSBESVYgdGhhdCBjb3ZlcnMgdGhlIHdlYnNpdGUuXHJcbn0pO1xyXG5cclxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICQoXCIjRGF0ZVwiKS5kYXRlcGlja2VyKCk7XHJcbiAgICB2YXIgRGF0ID0gbmV3IERhdGUoKTtcclxuICAgIHZhciBkID0gRGF0LmdldERhdGUoKTtcclxuICAgIHZhciBtID0gRGF0LmdldE1vbnRoKCkrMTtcclxuICAgIHZhciB5ID0gRGF0LmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgY3VyRCA9IG0rJy8nK2QrJy8nK3k7XHJcbiAgICAvL2QzID0gbSsnLycrKGQrMykrJy8nK3k7XHJcblxyXG4gICAgJChcIiNkYXRlcGlja2VyXCIpLnZhbChjdXJEKTtcclxuXHJcblxyXG59KTtcclxuXG5cbiQoZG9jdW1lbnQpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IDEwMCkge1xyXG4gICAgICAgICQoXCJoZWFkZXJcIikuYWRkQ2xhc3MoXCJzbWFsbFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcImhlYWRlclwiKS5yZW1vdmVDbGFzcyhcInNtYWxsXCIpO1xyXG4gICAgfVxyXG4vKiAgICAkKCduYXYgdWwgbGkgYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgc2Nyb2xsQW5jaG9yID0gJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbCcpLFxyXG4gICAgICAgICAgICBzY3JvbGxQb2ludCA9ICQoJ3NlY3Rpb25bZGF0YS1hbmNob3I9XCInICsgc2Nyb2xsQW5jaG9yICsgJ1wiXScpLm9mZnNldCgpLnRvcCAtIDI4O1xyXG5cclxuICAgICAgICAkKCdib2R5LGh0bWwnKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxQb2ludFxyXG4gICAgICAgIH0sIDUwMCk7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICB9KSovXHJcblxyXG5cclxufSk7XHJcblxyXG5cblxyXG5cclxualF1ZXJ5KGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB3aGljaCBhZGRzIHRoZSAnYW5pbWF0ZWQnIGNsYXNzIHRvIGFueSAnLmFuaW1hdGFibGUnIGluIHZpZXdcclxuICAgIHZhciBkb0FuaW1hdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsYyBjdXJyZW50IG9mZnNldCBhbmQgZ2V0IGFsbCBhbmltYXRhYmxlc1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgICRhbmltYXRhYmxlcyA9ICQoJy5hbmltYXRhYmxlJyk7XHJcblxyXG4gICAgICAgIC8vIFVuYmluZCBzY3JvbGwgaGFuZGxlciBpZiB3ZSBoYXZlIG5vIGFuaW1hdGFibGVzXHJcbiAgICAgICAgaWYgKCRhbmltYXRhYmxlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwnLCBkb0FuaW1hdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgYWxsIGFuaW1hdGFibGVzIGFuZCBhbmltYXRlIHRoZW0gaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgJGFuaW1hdGFibGVzLmVhY2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgICB2YXIgJGFuaW1hdGFibGUgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoKCRhbmltYXRhYmxlLm9mZnNldCgpLnRvcCArICRhbmltYXRhYmxlLmhlaWdodCgpIC0gMjApIDwgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAkYW5pbWF0YWJsZS5yZW1vdmVDbGFzcygnYW5pbWF0YWJsZScpLmFkZENsYXNzKCdhbmltYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBIb29rIGRvQW5pbWF0aW9ucyBvbiBzY3JvbGwsIGFuZCB0cmlnZ2VyIGEgc2Nyb2xsXHJcbiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGRvQW5pbWF0aW9ucyk7XHJcbiAgICAkKHdpbmRvdykudHJpZ2dlcignc2Nyb2xsJyk7XHJcblxyXG59KTtcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xyXG4gICAgJCgnLmhhbWJ1cmdlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQoJy5wb3B1LW1lbnUnKS5hZGRDbGFzcygnaXMtdmlzaWJsZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmNsb3NlLW1lbnUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5wb3B1LW1lbnUnKS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcubGluay1tZW51JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcucG9wdS1tZW51JykucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUnKTtcclxuICAgIH0pO1xyXG4gICAgJChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGlmKGV2ZW50LndoaWNoPT0nMjcnKXtcclxuICAgICAgICAgICAgJCgnLnBvcHUtbWVudScpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XHJcbiAgICAkKCcuYnV0dG9uLS1tZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJCgnLnNlY3Rpb24tcG9wdXAnKS5hZGRDbGFzcygnaXMtdmlzaWJsZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmNsb3NlLXBvcHVwLW1lbnUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcuc2VjdGlvbi1wb3B1cCcpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICB9KTtcclxuICAgICQoZG9jdW1lbnQpLmtleXVwKGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBpZihldmVudC53aGljaD09JzI3Jyl7XHJcbiAgICAgICAgICAgICQoJy5zZWN0aW9uLXBvcHVwJykucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XG4iXX0=
